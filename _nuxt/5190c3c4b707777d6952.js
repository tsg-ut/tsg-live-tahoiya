(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{192:function(t,e,n){"use strict";(function(t){n(43),n(19),n(33),n(108),n(109),n(14),n(12),n(61),n(20);var o=n(364),r=n(15),c=n(232),h=n.n(c),l=n(36);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}e.a={components:{VueMarkdown:h.a},layout:"present",data:function(){return{phase:"title",themeIndex:0,votes:[]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.c)({themes:function(t){return t.tsgliveTahoiyaThemes.list.slice().sort((function(a,b){return a.date.seconds-b.date.seconds}))}}),{theme:function(){return this.themes[this.themeIndex]},meanings:function(){var t=this,e=this.$store.state.tsgliveTahoiyaMeanings.list.filter((function(e){return e.themeId===t.theme.id&&e.isAccepted}));return e},choices:function(){if(!this.theme)return[];var t=[].concat(Object(o.a)(this.meanings.map((function(t){return{type:"dummy",id:t.id,text:t.text,username:t.username}}))),[{type:"answer",id:this.theme.id,text:this.theme.meaning}]);return t.sort((function(a,b){return a.id.localeCompare(b.id)}))},participantsText:function(){return this.meanings.map((function(t){return t.username})).sort().join(" / ")}}),mounted:function(){var e;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"undefined"!=typeof io&&((e=t.io("http://localhost:8080/")).on("connect",(function(){console.log("websocket connected")})),e.on("message",this.onMessage)),n.next=3,regeneratorRuntime.awrap(Promise.all([this.$store.dispatch("tsgliveTahoiyaThemes/initList"),this.$store.dispatch("tsgliveTahoiyaMeanings/initList")]));case 3:window.addEventListener("keydown",this.onKeydown);case 4:case"end":return n.stop()}}),null,this)},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeydown)},methods:{onKeydown:function(t){"ArrowRight"===t.key&&this.next(),"ArrowLeft"===t.key&&this.prev()},next:function(){"title"===this.phase?(this.themeIndex=0,this.votes=[],this.phase="word"):"word"===this.phase?this.phase="choices":"choices"===this.phase?this.phase="answer":"answer"===this.phase?this.phase="description":"description"===this.phase&&(this.themeIndex===this.themes.length-1?this.phase="end":(this.themeIndex++,this.votes=[],this.phase="word"))},prev:function(){"title"===this.phase||("word"===this.phase?0===this.themeIndex?this.phase="title":(this.themeIndex--,this.votes=[],this.phase="description"):"choices"===this.phase?this.phase="word":"answer"===this.phase?this.phase="choices":"description"===this.phase?this.phase="answer":"end"===this.phase&&(this.themeIndex=this.themes.length-1,this.votes=[],this.phase="description"))},onMessage:function(t){if(t.text.match(/^\d+$/)){var e=parseInt(t.text);if(!(e<1||e>this.choices.length)){var n=this.votes.find((function(e){return"anonymous"!==e.type&&e.username===t.username&&e.type===t.type}));n?n.choice=e:this.votes.push({type:t.type,username:t.username,choice:e})}}},getVotes:function(t){return this.votes.filter((function(e){return e.choice===t})).length}},head:function(){return{title:"TSG LIVE! 特別企画「たほいや」",htmlAttrs:{class:"present"}}}}}).call(this,n(13))},203:function(t,e,n){var content=n(359);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("807d44ea",content,!0,{sourceMap:!1})},231:function(t,e,n){t.exports=n.p+"img/17d61fa.png"},358:function(t,e,n){"use strict";var o=n(203);n.n(o).a},359:function(t,e,n){(t.exports=n(34)(!1)).push([t.i,'html.present{overflow-y:hidden}.bold{font-family:"Noto Serif CJK JP",serif;font-weight:700}.thin{font-weight:200}.present{position:relative}.present.dark{background-color:#191919;color:#ecebde}.phase,.present{width:100vw;height:100vh}.present .font-xxlarge{font-size:15vmin}.present .font-xlarge{font-size:11vmin}.present .font-large{font-size:8vmin}.present .font-medium{font-size:6vmin}.present .font-small{font-size:4vmin}.present .font-xsmall{font-size:2.5vmin}.present .font-xxsmall{font-size:1.5vmin}.present .font-align-right{text-align:right}.present .pr{position:absolute;bottom:2vmin;left:2vmin;display:-webkit-box;display:flex}.present .pr img{width:15vmin;height:15vmin;margin-right:2vmin}.phase-title{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;text-align:center}.phase-word .contents{text-align:right;padding:15vmin 10vmin 0}.phase-word .theme-index{display:inline-block;padding:.5vmin 3vmin;margin-bottom:5vmin;border:1vmin solid #ecebde;border-radius:.5vmin}.phase-choices .contents{padding:5vmin;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}.phase-choices .choices{-webkit-box-flex:1;flex:1 0 0;overflow-y:auto;margin:5vmin 0 13vmin;padding-left:10vmin}.phase-choices .choice{margin-bottom:.5em}.phase-choices .choice.answer{color:#f44336}.phase-choices .votes{display:inline-block;color:#ecebde;background:#191919;padding:.1vmin 1.2vmin;border-radius:.6vmin;vertical-align:middle}.phase-choices .answer .votes{background:#f44336}.phase-description .contents{padding:5vmin;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}.phase-description .contents .content{-webkit-box-flex:1;flex:1 0 0;overflow-y:auto;margin:0 0 13vmin;line-height:1.3em}.phase-description .contents .content strong{color:#f44336}.phase-description .contents .content li+li{margin-top:2vmin}',""])},367:function(t,e,n){"use strict";n.r(e);var o=n(192).a,r=(n(358),n(16)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"present",class:{dark:"word"===t.phase}},["title"===t.phase?o("div",{staticClass:"phase phase-title"},[t._m(0)]):t._e(),t._v(" "),"word"===t.phase?o("div",{staticClass:"phase phase-word"},[o("div",{staticClass:"contents"},[o("div",{staticClass:"theme-index bold font-large"},[t._v("第"+t._s(t.themeIndex+1)+"問")]),t._v(" "),o("div",{staticClass:"bold font-xxlarge"},[t._v(t._s(t.theme.ruby))]),t._v(" "),o("div",{staticClass:"font-small"},[t._v("の「辞書に載っていそうな意味」を考えてください⋯⋯")])])]):t._e(),t._v(" "),"choices"===t.phase||"answer"===t.phase?o("div",{staticClass:"phase phase-choices"},[o("div",{staticClass:"contents"},[o("div",{staticClass:"bold font-medium"},[t._v("「"+t._s(t.theme.ruby)+"」の正しい意味は⋯⋯")]),t._v(" "),o("div",{staticClass:"thin font-xsmall font-align-right"},[t._v("参加者: "+t._s(t.participantsText))]),t._v(" "),o("ol",{staticClass:"choices font-small"},t._l(t.choices,(function(e,n){return o("li",{key:e.id,staticClass:"choice",class:{answer:"answer"===t.phase&&"answer"===e.type}},[t._v("\n\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t\t"),0!==t.getVotes(n+1)?o("span",{staticClass:"font-xsmall votes"},[t._v("\n\t\t\t\t\t\t"+t._s(t.getVotes(n+1))+"票\n\t\t\t\t\t")]):t._e(),t._v(" "),"answer"===t.phase&&"dummy"===e.type?o("span",{staticClass:"font-xsmall thin"},[t._v("\n\t\t\t\t\t\t"+t._s(e.username)+"\n\t\t\t\t\t")]):t._e()])})),0)])]):t._e(),t._v(" "),"description"===t.phase?o("div",{staticClass:"phase phase-description"},[o("div",{staticClass:"contents"},[o("div",{staticClass:"bold font-large"},[t._v(t._s(t.theme.word)+"（"+t._s(t.theme.ruby)+"）")]),t._v(" "),o("vue-markdown",{staticClass:"font-small content"},[t._v(t._s(t.theme.description))])],1)]):t._e(),t._v(" "),"end"===t.phase?o("div",{staticClass:"phase phase-title"},[t._m(1)]):t._e(),t._v(" "),"end"!==t.phase?o("div",{staticClass:"pr"},[o("img",{attrs:{src:n(231)}}),t._v(" "),t._m(2)]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contents"},[e("div",{staticClass:"font-small"},[this._v("\n\t\t\t\tTSG LIVE! 4 オープニングトーク特別企画\n\t\t\t")]),this._v(" "),e("div",{staticClass:"bold font-xxlarge"},[this._v("\n\t\t\t\tたほいや\n\t\t\t")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contents"},[e("div",{staticClass:"bold font-xxlarge"},[this._v("おしまい")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info"},[e("div",{staticClass:"font-small"},[this._v("視聴者の皆さんも参加できます！")]),this._v(" "),e("div",{staticClass:"font-medium"},[this._v("tahoiya.tsg.ne.jp")])])}],!1,null,null,null);e.default=component.exports}}]);