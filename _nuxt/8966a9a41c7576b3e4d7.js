/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(77),c=n(103),l=n(104),h=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),d=new c.ErrorFactory("app","Firebase",h),f="[DEFAULT]",m=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=c.deepCopy(e);var o=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){r.tokenListeners_.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){r.tokenListeners_=r.tokenListeners_.filter((function(t){return t!==e}))},analytics:{logEvent:function(){o.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var o=r[n],c=0,l=Object.keys(e.services_[o]);c<l.length;c++){var h=l[c];t.push(e.services_[o][h])}return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=f),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==f?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){if(c.deepExtend(this,e),e.INTERNAL){if(e.INTERNAL.addAuthTokenListener){for(var t=0,n=this.tokenListeners_;t<n.length;t++){var r=n[t];this.INTERNAL.addAuthTokenListener(r)}this.tokenListeners_=[]}if(e.INTERNAL.analytics){for(var o=0,l=this.analyticsEventRequests_;o<l.length;o++){var h=l[o];this.INTERNAL.analytics.logEvent.apply(void 0,h)}this.analyticsEventRequests_=[]}}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw d.create("app-deleted",{appName:this.name_})},e}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var v="7.4.0",y=new l.Logger("@firebase/app");if(c.isBrowser()&&void 0!==self.firebase){y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var w=self.firebase.SDK_VERSION;w&&w.indexOf("LITE")>=0&&y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var k=function e(){var t=function(e){var t={},n={},r={},o={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!=typeof r||null===r){r={name:r}}var l=r;void 0===l.name&&(l.name=f);var h=l.name;if("string"!=typeof h||!h)throw d.create("bad-app-name",{appName:String(h)});if(c.contains(t,h))throw d.create("duplicate-app",{appName:h});var v=new e(n,l,o);return t[h]=v,m(v,"create"),v},app:l,apps:null,SDK_VERSION:v,INTERNAL:{registerService:function(t,f,m,v,w){void 0===w&&(w=!1);if(n[t])return y.debug("There were multiple attempts to register service "+t+"."),o[t];n[t]=f,v&&(r[t]=v,h().forEach((function(e){v("create",e)})));function k(e){if(void 0===e&&(e=l()),"function"!=typeof e[t])throw d.create("invalid-app-argument",{appName:t});return e[t]()}void 0!==m&&c.deepExtend(k,m);return o[t]=k,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,w?e:[])},k},removeApp:function(e){m(t[e],"delete"),delete t[e]},factories:n,useAsService:w}};function l(e){if(e=e||f,!c.contains(t,e))throw d.create("no-app",{appName:e});return t[e]}function h(){return Object.keys(t).map((function(e){return t[e]}))}function m(e,t){for(var o=0,c=Object.keys(n);o<c.length;o++){var l=w(e,c[o]);if(null===l)return;r[l]&&r[l](t,e)}}function w(e,t){return"serverAuth"===t?null:t}return(o.default=o,Object.defineProperty(o,"apps",{get:h}),l.App=e,o)}(m);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){c.deepExtend(t,e)},createSubscribe:c.createSubscribe,ErrorFactory:c.ErrorFactory,deepExtend:c.deepExtend}),t}(),x=k.initializeApp;k.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.isNode()&&y.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),x.apply(void 0,e)};var T=k;t.default=T,t.firebase=T},103:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(77),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},c=function(e,t){if(!e)throw l(t)},l=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},h=function(e){for(var t=[],p=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t[p++]=n:n<2048?(t[p++]=n>>6|192,t[p++]=63&n|128):55296==(64512&n)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++i)),t[p++]=n>>18|240,t[p++]=n>>12&63|128,t[p++]=n>>6&63|128,t[p++]=63&n|128):(t[p++]=n>>12|224,t[p++]=n>>6&63|128,t[p++]=63&n|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,e){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,c=i+2<input.length,l=c?input[i+2]:0,h=n>>2,d=(3&n)<<4|o>>4,f=(15&o)<<2|l>>6,m=63&l;c||(m=64,r||(f=64)),output.push(t[h],t[d],t[f],t[m])}return output.join("")},encodeString:function(input,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(input):this.encodeByteArray(h(input),e)},decodeString:function(input,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(input):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var c=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(c=e[n++]))<<12|(63&(l=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{c=e[n++];var l=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(input,e))},decodeStringToByteArray:function(input,e){this.init_();for(var t=e?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=t[input.charAt(i++)],r=i<input.length?t[input.charAt(i)]:0,o=++i<input.length?t[input.charAt(i)]:64,c=++i<input.length?t[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==c)throw Error();var l=n<<2|r>>4;if(output.push(l),64!==o){var h=r<<4&240|o>>2;if(output.push(h),64!==c){var d=o<<6&192|c;output.push(d)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},f=function(e){try{return d.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function m(e,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return source}for(var t in source)source.hasOwnProperty(t)&&(e[t]=m(e[t],source[t]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var w="FirebaseError",k=function(e){function t(code,n){var r=e.call(this,n)||this;return r.code=code,r.name=w,Object.setPrototypeOf(r,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,x.prototype.create),r}return r.__extends(t,e),t}(Error),x=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(code){for(var data=[],e=1;e<arguments.length;e++)data[e-1]=arguments[e];for(var t=data[0]||{},n=this.service+"/"+code,template=this.errors[code],r=template?T(template,t):"Error",o=this.serviceName+": "+r+" ("+n+").",c=new k(n,o),l=0,h=Object.keys(t);l<h.length;l++){var d=h[l];"_"!==d.slice(-1)&&(d in c&&console.warn('Overwriting FirebaseError base field "'+d+'" can cause unexpected behavior.'),c[d]=t[d])}return c},e}();function T(template,data){return template.replace(I,(function(e,t){var n=data[t];return null!=n?n.toString():"<"+t+"?>"}))}var I=/\{\$([^}]+)}/g;function E(e){return JSON.parse(e)}var S=function(e){var header={},t={},data={},n="";try{var r=e.split(".");header=E(f(r[0])||""),t=E(f(r[1])||""),n=r[2],data=t.d||{},delete t.d}catch(e){}return{header:header,claims:t,data:data,signature:n}};var A=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,c,a=this.chain_[0],b=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=h^b&(l^h),c=1518500249):(o=b^l^h,c=1859775393):i<60?(o=b&l|h&(b|l),c=2400959708):(o=b^l^h,c=3395469782);r=(a<<5|a>>>27)+o+d+c+n[i]&4294967295;d=h,h=l,l=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,c=this.inbuf_;r<t;){if(0===c)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[c]=e.charCodeAt(r),++r,++c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<t;)if(o[c]=e[r],++r,++c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)e[n]=this.chain_[i]>>r&255,++n;return e},e}();var _=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"==typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}})),this.observers.push(r),c},e.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,e)},e.prototype.sendOne=function(i,e){var t=this;this.task.then((function(){if(void 0!==t.observers&&void 0!==t.observers[i])try{e(t.observers[i])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function C(){}function N(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=e+" failed: ";return o+=r+" argument "}t.CONSTANTS=o,t.Deferred=v,t.ErrorFactory=x,t.FirebaseError=k,t.Sha1=A,t.assert=c,t.assertionError=l,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=d,t.base64Decode=f,t.base64Encode=function(e){var t=h(e);return d.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new _(e,t);return n.subscribe.bind(n)},t.decode=S,t.deepCopy=function(e){return m(void 0,e)},t.deepExtend=m,t.errorPrefix=N,t.getUA=y,t.isAdmin=function(e){var t=S(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=S(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=S(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),o=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},t.issuedAtTime=function(e){var t=S(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=E,t.map=function(e,t,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,o=Object.entries(e);r<o.length;r++){var c=o[r];n(c[0],c[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var p=0,i=0;i<e.length;i++){var t=e.charCodeAt(i);t<128?p++:t<2048?p+=2:t>=55296&&t<=56319?(p+=4,i++):p+=3}return p},t.stringToByteArray=function(e){for(var t=[],p=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;i++,c(i<e.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(e.charCodeAt(i)-56320)}n<128?t[p++]=n:n<2048?(t[p++]=n>>6|192,t[p++]=63&n|128):n<65536?(t[p++]=n>>12|224,t[p++]=n>>6&63|128,t[p++]=63&n|128):(t[p++]=n>>18|240,t[p++]=n>>12&63|128,t[p++]=n>>6&63|128,t[p++]=63&n|128)}return t},t.stringify=function(data){return JSON.stringify(data)},t.validateArgCount=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(N(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(N(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(N(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(13))},104:function(e,t,n){"use strict";function r(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}n.r(t),n.d(t,"LogLevel",(function(){return o})),n.d(t,"Logger",(function(){return d})),n.d(t,"setLogLevel",(function(){return f}));var o,c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var l=o.INFO,h=function(e,t){for(var n=[],c=2;c<arguments.length;c++)n[c-2]=arguments[c];if(!(t<e.logLevel)){var l=(new Date).toISOString();switch(t){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+l+"]  "+e.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+l+"]  "+e.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+l+"]  "+e.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+l+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},d=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=h,c.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){c.forEach((function(t){t.logLevel=e}))}},105:function(e,t,n){"use strict";t.a=function(e,t){return t=t||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var c in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),u.push([t,n]),i[t]=i[t]?i[t]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(c,t.headers[c]);s.send(t.body||null)}))}},107:function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return!1!==t.clone&&t.isMergeableObject(e)?m((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function l(e,source,t){return e.concat(source).map((function(element){return c(element,t)}))}function h(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(symbol){return e.propertyIsEnumerable(symbol)})):[]}(e))}function d(object,e){try{return e in object}catch(e){return!1}}function f(e,source,t){var n={};return t.isMergeableObject(e)&&h(e).forEach((function(r){n[r]=c(e[r],t)})),h(source).forEach((function(r){(function(e,t){return d(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(d(e,r)&&t.isMergeableObject(source[r])?n[r]=function(e,t){if(!t.customMerge)return m;var n=t.customMerge(e);return"function"==typeof n?n:m}(r,t)(e[r],source[r],t):n[r]=c(source[r],t))})),n}function m(e,source,t){(t=t||{}).arrayMerge=t.arrayMerge||l,t.isMergeableObject=t.isMergeableObject||r,t.cloneUnlessOtherwiseSpecified=c;var n=Array.isArray(source);return n===Array.isArray(e)?n?t.arrayMerge(e,source,t):f(e,source,t):c(source,t)}m.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return m(e,n,t)}),{})};var v=m;e.exports=v},155:function(e,t,n){var content=n(156);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("25950107",content,!0,{sourceMap:!1})},156:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,'/*! bulma.io v0.8.0 | MIT License | github.com/jgthms/bulma */@-webkit-keyframes spinAround{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spinAround{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.breadcrumb,.button,.delete,.file,.is-unselectable,.modal-close,.pagination-ellipsis,.pagination-link,.pagination-next,.pagination-previous,.tabs{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.navbar-link:not(.is-arrowless):after,.select:not(.is-multiple):not(.is-loading):after{border:3px solid transparent;border-radius:2px;border-right:0;border-top:0;content:" ";display:block;height:.625em;margin-top:-.4375em;pointer-events:none;position:absolute;top:50%;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:center;transform-origin:center;width:.625em}.block:not(:last-child),.box:not(:last-child),.breadcrumb:not(:last-child),.content:not(:last-child),.highlight:not(:last-child),.level:not(:last-child),.list:not(:last-child),.message:not(:last-child),.notification:not(:last-child),.pagination:not(:last-child),.progress:not(:last-child),.subtitle:not(:last-child),.table-container:not(:last-child),.table:not(:last-child),.tabs:not(:last-child),.title:not(:last-child){margin-bottom:1.5rem}.delete,.modal-close{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;pointer-events:auto;display:inline-block;-webkit-box-flex:0;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:none;position:relative;vertical-align:top;width:20px}.delete:after,.delete:before,.modal-close:after,.modal-close:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;-webkit-transform:translateX(-50%) translateY(-50%) rotate(45deg);transform:translateX(-50%) translateY(-50%) rotate(45deg);-webkit-transform-origin:center center;transform-origin:center center}.delete:before,.modal-close:before{height:2px;width:50%}.delete:after,.modal-close:after{height:50%;width:2px}.delete:focus,.delete:hover,.modal-close:focus,.modal-close:hover{background-color:rgba(10,10,10,.3)}.delete:active,.modal-close:active{background-color:rgba(10,10,10,.4)}.is-small.delete,.is-small.modal-close{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.is-medium.delete,.is-medium.modal-close{height:24px;max-height:24px;max-width:24px;min-height:24px;min-width:24px;width:24px}.is-large.delete,.is-large.modal-close{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px}.button.is-loading:after,.control.is-loading:after,.loader,.select.is-loading:after{-webkit-animation:spinAround .5s linear infinite;animation:spinAround .5s linear infinite;border-radius:290486px;border-color:transparent transparent #dbdbdb #dbdbdb;border-style:solid;border-width:2px;content:"";display:block;height:1em;position:relative;width:1em}.hero-video,.image.is-1by1 .has-ratio,.image.is-1by1 img,.image.is-1by2 .has-ratio,.image.is-1by2 img,.image.is-1by3 .has-ratio,.image.is-1by3 img,.image.is-2by1 .has-ratio,.image.is-2by1 img,.image.is-2by3 .has-ratio,.image.is-2by3 img,.image.is-3by1 .has-ratio,.image.is-3by1 img,.image.is-3by2 .has-ratio,.image.is-3by2 img,.image.is-3by4 .has-ratio,.image.is-3by4 img,.image.is-3by5 .has-ratio,.image.is-3by5 img,.image.is-4by3 .has-ratio,.image.is-4by3 img,.image.is-4by5 .has-ratio,.image.is-4by5 img,.image.is-5by3 .has-ratio,.image.is-5by3 img,.image.is-5by4 .has-ratio,.image.is-5by4 img,.image.is-9by16 .has-ratio,.image.is-9by16 img,.image.is-16by9 .has-ratio,.image.is-16by9 img,.image.is-square .has-ratio,.image.is-square img,.is-overlay,.modal,.modal-background{bottom:0;left:0;position:absolute;right:0;top:0}.button,.file-cta,.file-name,.input,.pagination-ellipsis,.pagination-link,.pagination-next,.pagination-previous,.select select,.textarea{-moz-appearance:none;-webkit-appearance:none;-webkit-box-align:center;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:-webkit-inline-box;display:inline-flex;font-size:1rem;height:2.5em;-webkit-box-pack:start;justify-content:flex-start;line-height:1.5;padding:calc(.5em - 1px) calc(.75em - 1px);position:relative;vertical-align:top}.button:active,.button:focus,.file-cta:active,.file-cta:focus,.file-name:active,.file-name:focus,.input:active,.input:focus,.is-active.button,.is-active.file-cta,.is-active.file-name,.is-active.input,.is-active.pagination-ellipsis,.is-active.pagination-link,.is-active.pagination-next,.is-active.pagination-previous,.is-active.textarea,.is-focused.button,.is-focused.file-cta,.is-focused.file-name,.is-focused.input,.is-focused.pagination-ellipsis,.is-focused.pagination-link,.is-focused.pagination-next,.is-focused.pagination-previous,.is-focused.textarea,.pagination-ellipsis:active,.pagination-ellipsis:focus,.pagination-link:active,.pagination-link:focus,.pagination-next:active,.pagination-next:focus,.pagination-previous:active,.pagination-previous:focus,.select select.is-active,.select select.is-focused,.select select:active,.select select:focus,.textarea:active,.textarea:focus{outline:none}.button[disabled],.file-cta[disabled],.file-name[disabled],.input[disabled],.pagination-ellipsis[disabled],.pagination-link[disabled],.pagination-next[disabled],.pagination-previous[disabled],.select fieldset[disabled] select,.select select[disabled],.textarea[disabled],fieldset[disabled] .button,fieldset[disabled] .file-cta,fieldset[disabled] .file-name,fieldset[disabled] .input,fieldset[disabled] .pagination-ellipsis,fieldset[disabled] .pagination-link,fieldset[disabled] .pagination-next,fieldset[disabled] .pagination-previous,fieldset[disabled] .select select,fieldset[disabled] .textarea{cursor:not-allowed}\n/*! minireset.css v0.0.6 | MIT License | github.com/jgthms/minireset.css */blockquote,body,dd,dl,dt,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,html,iframe,legend,li,ol,p,pre,textarea,ul{margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}ul{list-style:none}button,input,select,textarea{margin:0}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}img,video{height:auto;max-width:100%}iframe{border:0}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}td:not([align]),th:not([align]){text-align:left}html{background-color:#fff;font-size:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;min-width:300px;overflow-x:hidden;overflow-y:scroll;text-rendering:optimizeLegibility;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}article,aside,figure,footer,header,hgroup,section{display:block}body,button,input,select,textarea{font-family:BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif}code,pre{-moz-osx-font-smoothing:auto;-webkit-font-smoothing:auto;font-family:monospace}body{color:#4a4a4a;font-size:1em;font-weight:400;line-height:1.5}a{color:#3273dc;cursor:pointer;text-decoration:none}a strong{color:currentColor}a:hover{color:#363636}code{color:#f14668;font-size:.875em;font-weight:400;padding:.25em .5em}code,hr{background-color:#f5f5f5}hr{border:none;display:block;height:2px;margin:1.5rem 0}img{height:auto;max-width:100%}input[type=checkbox],input[type=radio]{vertical-align:baseline}small{font-size:.875em}span{font-style:inherit;font-weight:inherit}strong{color:#363636;font-weight:700}fieldset{border:none}pre{-webkit-overflow-scrolling:touch;background-color:#f5f5f5;color:#4a4a4a;font-size:.875em;overflow-x:auto;padding:1.25rem 1.5rem;white-space:pre;word-wrap:normal}pre code{background-color:transparent;color:currentColor;font-size:1em;padding:0}table td,table th{vertical-align:top}table td:not([align]),table th:not([align]){text-align:left}table th{color:#363636}.is-clearfix:after{clear:both;content:" ";display:table}.is-pulled-left{float:left!important}.is-pulled-right{float:right!important}.is-clipped{overflow:hidden!important}.is-size-1{font-size:3rem!important}.is-size-2{font-size:2.5rem!important}.is-size-3{font-size:2rem!important}.is-size-4{font-size:1.5rem!important}.is-size-5{font-size:1.25rem!important}.is-size-6{font-size:1rem!important}.is-size-7{font-size:.75rem!important}@media screen and (max-width:768px){.is-size-1-mobile{font-size:3rem!important}.is-size-2-mobile{font-size:2.5rem!important}.is-size-3-mobile{font-size:2rem!important}.is-size-4-mobile{font-size:1.5rem!important}.is-size-5-mobile{font-size:1.25rem!important}.is-size-6-mobile{font-size:1rem!important}.is-size-7-mobile{font-size:.75rem!important}}@media print,screen and (min-width:769px){.is-size-1-tablet{font-size:3rem!important}.is-size-2-tablet{font-size:2.5rem!important}.is-size-3-tablet{font-size:2rem!important}.is-size-4-tablet{font-size:1.5rem!important}.is-size-5-tablet{font-size:1.25rem!important}.is-size-6-tablet{font-size:1rem!important}.is-size-7-tablet{font-size:.75rem!important}}@media screen and (max-width:1023px){.is-size-1-touch{font-size:3rem!important}.is-size-2-touch{font-size:2.5rem!important}.is-size-3-touch{font-size:2rem!important}.is-size-4-touch{font-size:1.5rem!important}.is-size-5-touch{font-size:1.25rem!important}.is-size-6-touch{font-size:1rem!important}.is-size-7-touch{font-size:.75rem!important}}@media screen and (min-width:1024px){.is-size-1-desktop{font-size:3rem!important}.is-size-2-desktop{font-size:2.5rem!important}.is-size-3-desktop{font-size:2rem!important}.is-size-4-desktop{font-size:1.5rem!important}.is-size-5-desktop{font-size:1.25rem!important}.is-size-6-desktop{font-size:1rem!important}.is-size-7-desktop{font-size:.75rem!important}}@media screen and (min-width:1216px){.is-size-1-widescreen{font-size:3rem!important}.is-size-2-widescreen{font-size:2.5rem!important}.is-size-3-widescreen{font-size:2rem!important}.is-size-4-widescreen{font-size:1.5rem!important}.is-size-5-widescreen{font-size:1.25rem!important}.is-size-6-widescreen{font-size:1rem!important}.is-size-7-widescreen{font-size:.75rem!important}}@media screen and (min-width:1408px){.is-size-1-fullhd{font-size:3rem!important}.is-size-2-fullhd{font-size:2.5rem!important}.is-size-3-fullhd{font-size:2rem!important}.is-size-4-fullhd{font-size:1.5rem!important}.is-size-5-fullhd{font-size:1.25rem!important}.is-size-6-fullhd{font-size:1rem!important}.is-size-7-fullhd{font-size:.75rem!important}}.has-text-centered{text-align:center!important}.has-text-justified{text-align:justify!important}.has-text-left{text-align:left!important}.has-text-right{text-align:right!important}@media screen and (max-width:768px){.has-text-centered-mobile{text-align:center!important}}@media print,screen and (min-width:769px){.has-text-centered-tablet{text-align:center!important}}@media screen and (min-width:769px) and (max-width:1023px){.has-text-centered-tablet-only{text-align:center!important}}@media screen and (max-width:1023px){.has-text-centered-touch{text-align:center!important}}@media screen and (min-width:1024px){.has-text-centered-desktop{text-align:center!important}}@media screen and (min-width:1024px) and (max-width:1215px){.has-text-centered-desktop-only{text-align:center!important}}@media screen and (min-width:1216px){.has-text-centered-widescreen{text-align:center!important}}@media screen and (min-width:1216px) and (max-width:1407px){.has-text-centered-widescreen-only{text-align:center!important}}@media screen and (min-width:1408px){.has-text-centered-fullhd{text-align:center!important}}@media screen and (max-width:768px){.has-text-justified-mobile{text-align:justify!important}}@media print,screen and (min-width:769px){.has-text-justified-tablet{text-align:justify!important}}@media screen and (min-width:769px) and (max-width:1023px){.has-text-justified-tablet-only{text-align:justify!important}}@media screen and (max-width:1023px){.has-text-justified-touch{text-align:justify!important}}@media screen and (min-width:1024px){.has-text-justified-desktop{text-align:justify!important}}@media screen and (min-width:1024px) and (max-width:1215px){.has-text-justified-desktop-only{text-align:justify!important}}@media screen and (min-width:1216px){.has-text-justified-widescreen{text-align:justify!important}}@media screen and (min-width:1216px) and (max-width:1407px){.has-text-justified-widescreen-only{text-align:justify!important}}@media screen and (min-width:1408px){.has-text-justified-fullhd{text-align:justify!important}}@media screen and (max-width:768px){.has-text-left-mobile{text-align:left!important}}@media print,screen and (min-width:769px){.has-text-left-tablet{text-align:left!important}}@media screen and (min-width:769px) and (max-width:1023px){.has-text-left-tablet-only{text-align:left!important}}@media screen and (max-width:1023px){.has-text-left-touch{text-align:left!important}}@media screen and (min-width:1024px){.has-text-left-desktop{text-align:left!important}}@media screen and (min-width:1024px) and (max-width:1215px){.has-text-left-desktop-only{text-align:left!important}}@media screen and (min-width:1216px){.has-text-left-widescreen{text-align:left!important}}@media screen and (min-width:1216px) and (max-width:1407px){.has-text-left-widescreen-only{text-align:left!important}}@media screen and (min-width:1408px){.has-text-left-fullhd{text-align:left!important}}@media screen and (max-width:768px){.has-text-right-mobile{text-align:right!important}}@media print,screen and (min-width:769px){.has-text-right-tablet{text-align:right!important}}@media screen and (min-width:769px) and (max-width:1023px){.has-text-right-tablet-only{text-align:right!important}}@media screen and (max-width:1023px){.has-text-right-touch{text-align:right!important}}@media screen and (min-width:1024px){.has-text-right-desktop{text-align:right!important}}@media screen and (min-width:1024px) and (max-width:1215px){.has-text-right-desktop-only{text-align:right!important}}@media screen and (min-width:1216px){.has-text-right-widescreen{text-align:right!important}}@media screen and (min-width:1216px) and (max-width:1407px){.has-text-right-widescreen-only{text-align:right!important}}@media screen and (min-width:1408px){.has-text-right-fullhd{text-align:right!important}}.is-capitalized{text-transform:capitalize!important}.is-lowercase{text-transform:lowercase!important}.is-uppercase{text-transform:uppercase!important}.is-italic{font-style:italic!important}.has-text-white{color:#fff!important}a.has-text-white:focus,a.has-text-white:hover{color:#e6e6e6!important}.has-background-white{background-color:#fff!important}.has-text-black{color:#0a0a0a!important}a.has-text-black:focus,a.has-text-black:hover{color:#000!important}.has-background-black{background-color:#0a0a0a!important}.has-text-light{color:#f5f5f5!important}a.has-text-light:focus,a.has-text-light:hover{color:#dbdbdb!important}.has-background-light{background-color:#f5f5f5!important}.has-text-dark{color:#363636!important}a.has-text-dark:focus,a.has-text-dark:hover{color:#1c1c1c!important}.has-background-dark{background-color:#363636!important}.has-text-primary{color:#00d1b2!important}a.has-text-primary:focus,a.has-text-primary:hover{color:#009e86!important}.has-background-primary{background-color:#00d1b2!important}.has-text-link{color:#3273dc!important}a.has-text-link:focus,a.has-text-link:hover{color:#205bbc!important}.has-background-link{background-color:#3273dc!important}.has-text-info{color:#3298dc!important}a.has-text-info:focus,a.has-text-info:hover{color:#207dbc!important}.has-background-info{background-color:#3298dc!important}.has-text-success{color:#48c774!important}a.has-text-success:focus,a.has-text-success:hover{color:#34a85c!important}.has-background-success{background-color:#48c774!important}.has-text-warning{color:#ffdd57!important}a.has-text-warning:focus,a.has-text-warning:hover{color:#ffd324!important}.has-background-warning{background-color:#ffdd57!important}.has-text-danger{color:#f14668!important}a.has-text-danger:focus,a.has-text-danger:hover{color:#ee1742!important}.has-background-danger{background-color:#f14668!important}.has-text-black-bis{color:#121212!important}.has-background-black-bis{background-color:#121212!important}.has-text-black-ter{color:#242424!important}.has-background-black-ter{background-color:#242424!important}.has-text-grey-darker{color:#363636!important}.has-background-grey-darker{background-color:#363636!important}.has-text-grey-dark{color:#4a4a4a!important}.has-background-grey-dark{background-color:#4a4a4a!important}.has-text-grey{color:#7a7a7a!important}.has-background-grey{background-color:#7a7a7a!important}.has-text-grey-light{color:#b5b5b5!important}.has-background-grey-light{background-color:#b5b5b5!important}.has-text-grey-lighter{color:#dbdbdb!important}.has-background-grey-lighter{background-color:#dbdbdb!important}.has-text-white-ter{color:#f5f5f5!important}.has-background-white-ter{background-color:#f5f5f5!important}.has-text-white-bis{color:#fafafa!important}.has-background-white-bis{background-color:#fafafa!important}.has-text-weight-light{font-weight:300!important}.has-text-weight-normal{font-weight:400!important}.has-text-weight-medium{font-weight:500!important}.has-text-weight-semibold{font-weight:600!important}.has-text-weight-bold{font-weight:700!important}.is-family-primary,.is-family-sans-serif,.is-family-secondary{font-family:BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif!important}.is-family-code,.is-family-monospace{font-family:monospace!important}.is-block{display:block!important}@media screen and (max-width:768px){.is-block-mobile{display:block!important}}@media print,screen and (min-width:769px){.is-block-tablet{display:block!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-block-tablet-only{display:block!important}}@media screen and (max-width:1023px){.is-block-touch{display:block!important}}@media screen and (min-width:1024px){.is-block-desktop{display:block!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-block-desktop-only{display:block!important}}@media screen and (min-width:1216px){.is-block-widescreen{display:block!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-block-widescreen-only{display:block!important}}@media screen and (min-width:1408px){.is-block-fullhd{display:block!important}}.is-flex{display:-webkit-box!important;display:flex!important}@media screen and (max-width:768px){.is-flex-mobile{display:-webkit-box!important;display:flex!important}}@media print,screen and (min-width:769px){.is-flex-tablet{display:-webkit-box!important;display:flex!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-flex-tablet-only{display:-webkit-box!important;display:flex!important}}@media screen and (max-width:1023px){.is-flex-touch{display:-webkit-box!important;display:flex!important}}@media screen and (min-width:1024px){.is-flex-desktop{display:-webkit-box!important;display:flex!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-flex-desktop-only{display:-webkit-box!important;display:flex!important}}@media screen and (min-width:1216px){.is-flex-widescreen{display:-webkit-box!important;display:flex!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-flex-widescreen-only{display:-webkit-box!important;display:flex!important}}@media screen and (min-width:1408px){.is-flex-fullhd{display:-webkit-box!important;display:flex!important}}.is-inline{display:inline!important}@media screen and (max-width:768px){.is-inline-mobile{display:inline!important}}@media print,screen and (min-width:769px){.is-inline-tablet{display:inline!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-inline-tablet-only{display:inline!important}}@media screen and (max-width:1023px){.is-inline-touch{display:inline!important}}@media screen and (min-width:1024px){.is-inline-desktop{display:inline!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-inline-desktop-only{display:inline!important}}@media screen and (min-width:1216px){.is-inline-widescreen{display:inline!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-inline-widescreen-only{display:inline!important}}@media screen and (min-width:1408px){.is-inline-fullhd{display:inline!important}}.is-inline-block{display:inline-block!important}@media screen and (max-width:768px){.is-inline-block-mobile{display:inline-block!important}}@media print,screen and (min-width:769px){.is-inline-block-tablet{display:inline-block!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-inline-block-tablet-only{display:inline-block!important}}@media screen and (max-width:1023px){.is-inline-block-touch{display:inline-block!important}}@media screen and (min-width:1024px){.is-inline-block-desktop{display:inline-block!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-inline-block-desktop-only{display:inline-block!important}}@media screen and (min-width:1216px){.is-inline-block-widescreen{display:inline-block!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-inline-block-widescreen-only{display:inline-block!important}}@media screen and (min-width:1408px){.is-inline-block-fullhd{display:inline-block!important}}.is-inline-flex{display:-webkit-inline-box!important;display:inline-flex!important}@media screen and (max-width:768px){.is-inline-flex-mobile{display:-webkit-inline-box!important;display:inline-flex!important}}@media print,screen and (min-width:769px){.is-inline-flex-tablet{display:-webkit-inline-box!important;display:inline-flex!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-inline-flex-tablet-only{display:-webkit-inline-box!important;display:inline-flex!important}}@media screen and (max-width:1023px){.is-inline-flex-touch{display:-webkit-inline-box!important;display:inline-flex!important}}@media screen and (min-width:1024px){.is-inline-flex-desktop{display:-webkit-inline-box!important;display:inline-flex!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-inline-flex-desktop-only{display:-webkit-inline-box!important;display:inline-flex!important}}@media screen and (min-width:1216px){.is-inline-flex-widescreen{display:-webkit-inline-box!important;display:inline-flex!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-inline-flex-widescreen-only{display:-webkit-inline-box!important;display:inline-flex!important}}@media screen and (min-width:1408px){.is-inline-flex-fullhd{display:-webkit-inline-box!important;display:inline-flex!important}}.is-hidden{display:none!important}.is-sr-only{border:none!important;clip:rect(0,0,0,0)!important;height:.01em!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:.01em!important}@media screen and (max-width:768px){.is-hidden-mobile{display:none!important}}@media print,screen and (min-width:769px){.is-hidden-tablet{display:none!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-hidden-tablet-only{display:none!important}}@media screen and (max-width:1023px){.is-hidden-touch{display:none!important}}@media screen and (min-width:1024px){.is-hidden-desktop{display:none!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-hidden-desktop-only{display:none!important}}@media screen and (min-width:1216px){.is-hidden-widescreen{display:none!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-hidden-widescreen-only{display:none!important}}@media screen and (min-width:1408px){.is-hidden-fullhd{display:none!important}}.is-invisible{visibility:hidden!important}@media screen and (max-width:768px){.is-invisible-mobile{visibility:hidden!important}}@media print,screen and (min-width:769px){.is-invisible-tablet{visibility:hidden!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-invisible-tablet-only{visibility:hidden!important}}@media screen and (max-width:1023px){.is-invisible-touch{visibility:hidden!important}}@media screen and (min-width:1024px){.is-invisible-desktop{visibility:hidden!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-invisible-desktop-only{visibility:hidden!important}}@media screen and (min-width:1216px){.is-invisible-widescreen{visibility:hidden!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-invisible-widescreen-only{visibility:hidden!important}}@media screen and (min-width:1408px){.is-invisible-fullhd{visibility:hidden!important}}.is-marginless{margin:0!important}.is-paddingless{padding:0!important}.is-radiusless{border-radius:0!important}.is-shadowless{box-shadow:none!important}.is-relative{position:relative!important}.box{background-color:#fff;border-radius:6px;box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.02);color:#4a4a4a;display:block;padding:1.25rem}a.box:focus,a.box:hover{box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px #3273dc}a.box:active{box-shadow:inset 0 1px 2px rgba(10,10,10,.2),0 0 0 1px #3273dc}.button{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;-webkit-box-pack:center;justify-content:center;padding:calc(.5em - 1px) 1em;text-align:center;white-space:nowrap}.button strong{color:inherit}.button .icon,.button .icon.is-large,.button .icon.is-medium,.button .icon.is-small{height:1.5em;width:1.5em}.button .icon:first-child:not(:last-child){margin-left:calc(-.5em - 1px);margin-right:.25em}.button .icon:last-child:not(:first-child){margin-left:.25em;margin-right:calc(-.5em - 1px)}.button .icon:first-child:last-child{margin-left:calc(-.5em - 1px);margin-right:calc(-.5em - 1px)}.button.is-hovered,.button:hover{border-color:#b5b5b5;color:#363636}.button.is-focused,.button:focus{border-color:#3273dc;color:#363636}.button.is-focused:not(:active),.button:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.button.is-active,.button:active{border-color:#4a4a4a;color:#363636}.button.is-text{background-color:transparent;border-color:transparent;color:#4a4a4a;text-decoration:underline}.button.is-text.is-focused,.button.is-text.is-hovered,.button.is-text:focus,.button.is-text:hover{background-color:#f5f5f5;color:#363636}.button.is-text.is-active,.button.is-text:active{background-color:#e8e8e8;color:#363636}.button.is-text[disabled],fieldset[disabled] .button.is-text{background-color:transparent;border-color:transparent;box-shadow:none}.button.is-white{background-color:#fff;border-color:transparent;color:#0a0a0a}.button.is-white.is-hovered,.button.is-white:hover{background-color:#f9f9f9;border-color:transparent;color:#0a0a0a}.button.is-white.is-focused,.button.is-white:focus{border-color:transparent;color:#0a0a0a}.button.is-white.is-focused:not(:active),.button.is-white:focus:not(:active){box-shadow:0 0 0 .125em hsla(0,0%,100%,.25)}.button.is-white.is-active,.button.is-white:active{background-color:#f2f2f2;border-color:transparent;color:#0a0a0a}.button.is-white[disabled],fieldset[disabled] .button.is-white{background-color:#fff;border-color:transparent;box-shadow:none}.button.is-white.is-inverted{background-color:#0a0a0a;color:#fff}.button.is-white.is-inverted.is-hovered,.button.is-white.is-inverted:hover{background-color:#000}.button.is-white.is-inverted[disabled],fieldset[disabled] .button.is-white.is-inverted{background-color:#0a0a0a;border-color:transparent;box-shadow:none;color:#fff}.button.is-white.is-loading:after{border-color:transparent transparent #0a0a0a #0a0a0a!important}.button.is-white.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-white.is-outlined.is-focused,.button.is-white.is-outlined.is-hovered,.button.is-white.is-outlined:focus,.button.is-white.is-outlined:hover{background-color:#fff;border-color:#fff;color:#0a0a0a}.button.is-white.is-outlined.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-white.is-outlined.is-loading.is-focused:after,.button.is-white.is-outlined.is-loading.is-hovered:after,.button.is-white.is-outlined.is-loading:focus:after,.button.is-white.is-outlined.is-loading:hover:after{border-color:transparent transparent #0a0a0a #0a0a0a!important}.button.is-white.is-outlined[disabled],fieldset[disabled] .button.is-white.is-outlined{background-color:transparent;border-color:#fff;box-shadow:none;color:#fff}.button.is-white.is-inverted.is-outlined{background-color:transparent;border-color:#0a0a0a;color:#0a0a0a}.button.is-white.is-inverted.is-outlined.is-focused,.button.is-white.is-inverted.is-outlined.is-hovered,.button.is-white.is-inverted.is-outlined:focus,.button.is-white.is-inverted.is-outlined:hover{background-color:#0a0a0a;color:#fff}.button.is-white.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-white.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-white.is-inverted.is-outlined.is-loading:focus:after,.button.is-white.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #fff #fff!important}.button.is-white.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-white.is-inverted.is-outlined{background-color:transparent;border-color:#0a0a0a;box-shadow:none;color:#0a0a0a}.button.is-black{background-color:#0a0a0a;border-color:transparent;color:#fff}.button.is-black.is-hovered,.button.is-black:hover{background-color:#040404;border-color:transparent;color:#fff}.button.is-black.is-focused,.button.is-black:focus{border-color:transparent;color:#fff}.button.is-black.is-focused:not(:active),.button.is-black:focus:not(:active){box-shadow:0 0 0 .125em rgba(10,10,10,.25)}.button.is-black.is-active,.button.is-black:active{background-color:#000;border-color:transparent;color:#fff}.button.is-black[disabled],fieldset[disabled] .button.is-black{background-color:#0a0a0a;border-color:transparent;box-shadow:none}.button.is-black.is-inverted{background-color:#fff;color:#0a0a0a}.button.is-black.is-inverted.is-hovered,.button.is-black.is-inverted:hover{background-color:#f2f2f2}.button.is-black.is-inverted[disabled],fieldset[disabled] .button.is-black.is-inverted{background-color:#fff;border-color:transparent;box-shadow:none;color:#0a0a0a}.button.is-black.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-black.is-outlined{background-color:transparent;border-color:#0a0a0a;color:#0a0a0a}.button.is-black.is-outlined.is-focused,.button.is-black.is-outlined.is-hovered,.button.is-black.is-outlined:focus,.button.is-black.is-outlined:hover{background-color:#0a0a0a;border-color:#0a0a0a;color:#fff}.button.is-black.is-outlined.is-loading:after{border-color:transparent transparent #0a0a0a #0a0a0a!important}.button.is-black.is-outlined.is-loading.is-focused:after,.button.is-black.is-outlined.is-loading.is-hovered:after,.button.is-black.is-outlined.is-loading:focus:after,.button.is-black.is-outlined.is-loading:hover:after{border-color:transparent transparent #fff #fff!important}.button.is-black.is-outlined[disabled],fieldset[disabled] .button.is-black.is-outlined{background-color:transparent;border-color:#0a0a0a;box-shadow:none;color:#0a0a0a}.button.is-black.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-black.is-inverted.is-outlined.is-focused,.button.is-black.is-inverted.is-outlined.is-hovered,.button.is-black.is-inverted.is-outlined:focus,.button.is-black.is-inverted.is-outlined:hover{background-color:#fff;color:#0a0a0a}.button.is-black.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-black.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-black.is-inverted.is-outlined.is-loading:focus:after,.button.is-black.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #0a0a0a #0a0a0a!important}.button.is-black.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-black.is-inverted.is-outlined{background-color:transparent;border-color:#fff;box-shadow:none;color:#fff}.button.is-light{background-color:#f5f5f5;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-light.is-hovered,.button.is-light:hover{background-color:#eee;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-light.is-focused,.button.is-light:focus{border-color:transparent;color:rgba(0,0,0,.7)}.button.is-light.is-focused:not(:active),.button.is-light:focus:not(:active){box-shadow:0 0 0 .125em hsla(0,0%,96.1%,.25)}.button.is-light.is-active,.button.is-light:active{background-color:#e8e8e8;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-light[disabled],fieldset[disabled] .button.is-light{background-color:#f5f5f5;border-color:transparent;box-shadow:none}.button.is-light.is-inverted{color:#f5f5f5}.button.is-light.is-inverted,.button.is-light.is-inverted.is-hovered,.button.is-light.is-inverted:hover{background-color:rgba(0,0,0,.7)}.button.is-light.is-inverted[disabled],fieldset[disabled] .button.is-light.is-inverted{background-color:rgba(0,0,0,.7);border-color:transparent;box-shadow:none;color:#f5f5f5}.button.is-light.is-loading:after{border-color:transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important}.button.is-light.is-outlined{background-color:transparent;border-color:#f5f5f5;color:#f5f5f5}.button.is-light.is-outlined.is-focused,.button.is-light.is-outlined.is-hovered,.button.is-light.is-outlined:focus,.button.is-light.is-outlined:hover{background-color:#f5f5f5;border-color:#f5f5f5;color:rgba(0,0,0,.7)}.button.is-light.is-outlined.is-loading:after{border-color:transparent transparent #f5f5f5 #f5f5f5!important}.button.is-light.is-outlined.is-loading.is-focused:after,.button.is-light.is-outlined.is-loading.is-hovered:after,.button.is-light.is-outlined.is-loading:focus:after,.button.is-light.is-outlined.is-loading:hover:after{border-color:transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important}.button.is-light.is-outlined[disabled],fieldset[disabled] .button.is-light.is-outlined{background-color:transparent;border-color:#f5f5f5;box-shadow:none;color:#f5f5f5}.button.is-light.is-inverted.is-outlined{background-color:transparent;border-color:rgba(0,0,0,.7);color:rgba(0,0,0,.7)}.button.is-light.is-inverted.is-outlined.is-focused,.button.is-light.is-inverted.is-outlined.is-hovered,.button.is-light.is-inverted.is-outlined:focus,.button.is-light.is-inverted.is-outlined:hover{background-color:rgba(0,0,0,.7);color:#f5f5f5}.button.is-light.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-light.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-light.is-inverted.is-outlined.is-loading:focus:after,.button.is-light.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #f5f5f5 #f5f5f5!important}.button.is-light.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-light.is-inverted.is-outlined{background-color:transparent;border-color:rgba(0,0,0,.7);box-shadow:none;color:rgba(0,0,0,.7)}.button.is-dark{background-color:#363636;border-color:transparent;color:#fff}.button.is-dark.is-hovered,.button.is-dark:hover{background-color:#2f2f2f;border-color:transparent;color:#fff}.button.is-dark.is-focused,.button.is-dark:focus{border-color:transparent;color:#fff}.button.is-dark.is-focused:not(:active),.button.is-dark:focus:not(:active){box-shadow:0 0 0 .125em rgba(54,54,54,.25)}.button.is-dark.is-active,.button.is-dark:active{background-color:#292929;border-color:transparent;color:#fff}.button.is-dark[disabled],fieldset[disabled] .button.is-dark{background-color:#363636;border-color:transparent;box-shadow:none}.button.is-dark.is-inverted{background-color:#fff;color:#363636}.button.is-dark.is-inverted.is-hovered,.button.is-dark.is-inverted:hover{background-color:#f2f2f2}.button.is-dark.is-inverted[disabled],fieldset[disabled] .button.is-dark.is-inverted{background-color:#fff;border-color:transparent;box-shadow:none;color:#363636}.button.is-dark.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-dark.is-outlined{background-color:transparent;border-color:#363636;color:#363636}.button.is-dark.is-outlined.is-focused,.button.is-dark.is-outlined.is-hovered,.button.is-dark.is-outlined:focus,.button.is-dark.is-outlined:hover{background-color:#363636;border-color:#363636;color:#fff}.button.is-dark.is-outlined.is-loading:after{border-color:transparent transparent #363636 #363636!important}.button.is-dark.is-outlined.is-loading.is-focused:after,.button.is-dark.is-outlined.is-loading.is-hovered:after,.button.is-dark.is-outlined.is-loading:focus:after,.button.is-dark.is-outlined.is-loading:hover:after{border-color:transparent transparent #fff #fff!important}.button.is-dark.is-outlined[disabled],fieldset[disabled] .button.is-dark.is-outlined{background-color:transparent;border-color:#363636;box-shadow:none;color:#363636}.button.is-dark.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-dark.is-inverted.is-outlined.is-focused,.button.is-dark.is-inverted.is-outlined.is-hovered,.button.is-dark.is-inverted.is-outlined:focus,.button.is-dark.is-inverted.is-outlined:hover{background-color:#fff;color:#363636}.button.is-dark.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-dark.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-dark.is-inverted.is-outlined.is-loading:focus:after,.button.is-dark.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #363636 #363636!important}.button.is-dark.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-dark.is-inverted.is-outlined{background-color:transparent;border-color:#fff;box-shadow:none;color:#fff}.button.is-primary{background-color:#00d1b2;border-color:transparent;color:#fff}.button.is-primary.is-hovered,.button.is-primary:hover{background-color:#00c4a7;border-color:transparent;color:#fff}.button.is-primary.is-focused,.button.is-primary:focus{border-color:transparent;color:#fff}.button.is-primary.is-focused:not(:active),.button.is-primary:focus:not(:active){box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.button.is-primary.is-active,.button.is-primary:active{background-color:#00b89c;border-color:transparent;color:#fff}.button.is-primary[disabled],fieldset[disabled] .button.is-primary{background-color:#00d1b2;border-color:transparent;box-shadow:none}.button.is-primary.is-inverted{background-color:#fff;color:#00d1b2}.button.is-primary.is-inverted.is-hovered,.button.is-primary.is-inverted:hover{background-color:#f2f2f2}.button.is-primary.is-inverted[disabled],fieldset[disabled] .button.is-primary.is-inverted{background-color:#fff;border-color:transparent;box-shadow:none;color:#00d1b2}.button.is-primary.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-primary.is-outlined{background-color:transparent;border-color:#00d1b2;color:#00d1b2}.button.is-primary.is-outlined.is-focused,.button.is-primary.is-outlined.is-hovered,.button.is-primary.is-outlined:focus,.button.is-primary.is-outlined:hover{background-color:#00d1b2;border-color:#00d1b2;color:#fff}.button.is-primary.is-outlined.is-loading:after{border-color:transparent transparent #00d1b2 #00d1b2!important}.button.is-primary.is-outlined.is-loading.is-focused:after,.button.is-primary.is-outlined.is-loading.is-hovered:after,.button.is-primary.is-outlined.is-loading:focus:after,.button.is-primary.is-outlined.is-loading:hover:after{border-color:transparent transparent #fff #fff!important}.button.is-primary.is-outlined[disabled],fieldset[disabled] .button.is-primary.is-outlined{background-color:transparent;border-color:#00d1b2;box-shadow:none;color:#00d1b2}.button.is-primary.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-primary.is-inverted.is-outlined.is-focused,.button.is-primary.is-inverted.is-outlined.is-hovered,.button.is-primary.is-inverted.is-outlined:focus,.button.is-primary.is-inverted.is-outlined:hover{background-color:#fff;color:#00d1b2}.button.is-primary.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-primary.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-primary.is-inverted.is-outlined.is-loading:focus:after,.button.is-primary.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #00d1b2 #00d1b2!important}.button.is-primary.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-primary.is-inverted.is-outlined{background-color:transparent;border-color:#fff;box-shadow:none;color:#fff}.button.is-primary.is-light{background-color:#ebfffc;color:#00947e}.button.is-primary.is-light.is-hovered,.button.is-primary.is-light:hover{background-color:#defffa;border-color:transparent;color:#00947e}.button.is-primary.is-light.is-active,.button.is-primary.is-light:active{background-color:#d1fff8;border-color:transparent;color:#00947e}.button.is-link{background-color:#3273dc;border-color:transparent;color:#fff}.button.is-link.is-hovered,.button.is-link:hover{background-color:#276cda;border-color:transparent;color:#fff}.button.is-link.is-focused,.button.is-link:focus{border-color:transparent;color:#fff}.button.is-link.is-focused:not(:active),.button.is-link:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.button.is-link.is-active,.button.is-link:active{background-color:#2366d1;border-color:transparent;color:#fff}.button.is-link[disabled],fieldset[disabled] .button.is-link{background-color:#3273dc;border-color:transparent;box-shadow:none}.button.is-link.is-inverted{background-color:#fff;color:#3273dc}.button.is-link.is-inverted.is-hovered,.button.is-link.is-inverted:hover{background-color:#f2f2f2}.button.is-link.is-inverted[disabled],fieldset[disabled] .button.is-link.is-inverted{background-color:#fff;border-color:transparent;box-shadow:none;color:#3273dc}.button.is-link.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-link.is-outlined{background-color:transparent;border-color:#3273dc;color:#3273dc}.button.is-link.is-outlined.is-focused,.button.is-link.is-outlined.is-hovered,.button.is-link.is-outlined:focus,.button.is-link.is-outlined:hover{background-color:#3273dc;border-color:#3273dc;color:#fff}.button.is-link.is-outlined.is-loading:after{border-color:transparent transparent #3273dc #3273dc!important}.button.is-link.is-outlined.is-loading.is-focused:after,.button.is-link.is-outlined.is-loading.is-hovered:after,.button.is-link.is-outlined.is-loading:focus:after,.button.is-link.is-outlined.is-loading:hover:after{border-color:transparent transparent #fff #fff!important}.button.is-link.is-outlined[disabled],fieldset[disabled] .button.is-link.is-outlined{background-color:transparent;border-color:#3273dc;box-shadow:none;color:#3273dc}.button.is-link.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-link.is-inverted.is-outlined.is-focused,.button.is-link.is-inverted.is-outlined.is-hovered,.button.is-link.is-inverted.is-outlined:focus,.button.is-link.is-inverted.is-outlined:hover{background-color:#fff;color:#3273dc}.button.is-link.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-link.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-link.is-inverted.is-outlined.is-loading:focus:after,.button.is-link.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #3273dc #3273dc!important}.button.is-link.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-link.is-inverted.is-outlined{background-color:transparent;border-color:#fff;box-shadow:none;color:#fff}.button.is-link.is-light{background-color:#eef3fc;color:#2160c4}.button.is-link.is-light.is-hovered,.button.is-link.is-light:hover{background-color:#e3ecfa;border-color:transparent;color:#2160c4}.button.is-link.is-light.is-active,.button.is-link.is-light:active{background-color:#d8e4f8;border-color:transparent;color:#2160c4}.button.is-info{background-color:#3298dc;border-color:transparent;color:#fff}.button.is-info.is-hovered,.button.is-info:hover{background-color:#2793da;border-color:transparent;color:#fff}.button.is-info.is-focused,.button.is-info:focus{border-color:transparent;color:#fff}.button.is-info.is-focused:not(:active),.button.is-info:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,152,220,.25)}.button.is-info.is-active,.button.is-info:active{background-color:#238cd1;border-color:transparent;color:#fff}.button.is-info[disabled],fieldset[disabled] .button.is-info{background-color:#3298dc;border-color:transparent;box-shadow:none}.button.is-info.is-inverted{background-color:#fff;color:#3298dc}.button.is-info.is-inverted.is-hovered,.button.is-info.is-inverted:hover{background-color:#f2f2f2}.button.is-info.is-inverted[disabled],fieldset[disabled] .button.is-info.is-inverted{background-color:#fff;border-color:transparent;box-shadow:none;color:#3298dc}.button.is-info.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-info.is-outlined{background-color:transparent;border-color:#3298dc;color:#3298dc}.button.is-info.is-outlined.is-focused,.button.is-info.is-outlined.is-hovered,.button.is-info.is-outlined:focus,.button.is-info.is-outlined:hover{background-color:#3298dc;border-color:#3298dc;color:#fff}.button.is-info.is-outlined.is-loading:after{border-color:transparent transparent #3298dc #3298dc!important}.button.is-info.is-outlined.is-loading.is-focused:after,.button.is-info.is-outlined.is-loading.is-hovered:after,.button.is-info.is-outlined.is-loading:focus:after,.button.is-info.is-outlined.is-loading:hover:after{border-color:transparent transparent #fff #fff!important}.button.is-info.is-outlined[disabled],fieldset[disabled] .button.is-info.is-outlined{background-color:transparent;border-color:#3298dc;box-shadow:none;color:#3298dc}.button.is-info.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-info.is-inverted.is-outlined.is-focused,.button.is-info.is-inverted.is-outlined.is-hovered,.button.is-info.is-inverted.is-outlined:focus,.button.is-info.is-inverted.is-outlined:hover{background-color:#fff;color:#3298dc}.button.is-info.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-info.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-info.is-inverted.is-outlined.is-loading:focus:after,.button.is-info.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #3298dc #3298dc!important}.button.is-info.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-info.is-inverted.is-outlined{background-color:transparent;border-color:#fff;box-shadow:none;color:#fff}.button.is-info.is-light{background-color:#eef6fc;color:#1d72aa}.button.is-info.is-light.is-hovered,.button.is-info.is-light:hover{background-color:#e3f1fa;border-color:transparent;color:#1d72aa}.button.is-info.is-light.is-active,.button.is-info.is-light:active{background-color:#d8ebf8;border-color:transparent;color:#1d72aa}.button.is-success{background-color:#48c774;border-color:transparent;color:#fff}.button.is-success.is-hovered,.button.is-success:hover{background-color:#3ec46d;border-color:transparent;color:#fff}.button.is-success.is-focused,.button.is-success:focus{border-color:transparent;color:#fff}.button.is-success.is-focused:not(:active),.button.is-success:focus:not(:active){box-shadow:0 0 0 .125em rgba(72,199,116,.25)}.button.is-success.is-active,.button.is-success:active{background-color:#3abb67;border-color:transparent;color:#fff}.button.is-success[disabled],fieldset[disabled] .button.is-success{background-color:#48c774;border-color:transparent;box-shadow:none}.button.is-success.is-inverted{background-color:#fff;color:#48c774}.button.is-success.is-inverted.is-hovered,.button.is-success.is-inverted:hover{background-color:#f2f2f2}.button.is-success.is-inverted[disabled],fieldset[disabled] .button.is-success.is-inverted{background-color:#fff;border-color:transparent;box-shadow:none;color:#48c774}.button.is-success.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-success.is-outlined{background-color:transparent;border-color:#48c774;color:#48c774}.button.is-success.is-outlined.is-focused,.button.is-success.is-outlined.is-hovered,.button.is-success.is-outlined:focus,.button.is-success.is-outlined:hover{background-color:#48c774;border-color:#48c774;color:#fff}.button.is-success.is-outlined.is-loading:after{border-color:transparent transparent #48c774 #48c774!important}.button.is-success.is-outlined.is-loading.is-focused:after,.button.is-success.is-outlined.is-loading.is-hovered:after,.button.is-success.is-outlined.is-loading:focus:after,.button.is-success.is-outlined.is-loading:hover:after{border-color:transparent transparent #fff #fff!important}.button.is-success.is-outlined[disabled],fieldset[disabled] .button.is-success.is-outlined{background-color:transparent;border-color:#48c774;box-shadow:none;color:#48c774}.button.is-success.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-success.is-inverted.is-outlined.is-focused,.button.is-success.is-inverted.is-outlined.is-hovered,.button.is-success.is-inverted.is-outlined:focus,.button.is-success.is-inverted.is-outlined:hover{background-color:#fff;color:#48c774}.button.is-success.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-success.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-success.is-inverted.is-outlined.is-loading:focus:after,.button.is-success.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #48c774 #48c774!important}.button.is-success.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-success.is-inverted.is-outlined{background-color:transparent;border-color:#fff;box-shadow:none;color:#fff}.button.is-success.is-light{background-color:#effaf3;color:#257942}.button.is-success.is-light.is-hovered,.button.is-success.is-light:hover{background-color:#e6f7ec;border-color:transparent;color:#257942}.button.is-success.is-light.is-active,.button.is-success.is-light:active{background-color:#dcf4e4;border-color:transparent;color:#257942}.button.is-warning{background-color:#ffdd57;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-warning.is-hovered,.button.is-warning:hover{background-color:#ffdb4a;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-warning.is-focused,.button.is-warning:focus{border-color:transparent;color:rgba(0,0,0,.7)}.button.is-warning.is-focused:not(:active),.button.is-warning:focus:not(:active){box-shadow:0 0 0 .125em rgba(255,221,87,.25)}.button.is-warning.is-active,.button.is-warning:active{background-color:#ffd83d;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-warning[disabled],fieldset[disabled] .button.is-warning{background-color:#ffdd57;border-color:transparent;box-shadow:none}.button.is-warning.is-inverted{color:#ffdd57}.button.is-warning.is-inverted,.button.is-warning.is-inverted.is-hovered,.button.is-warning.is-inverted:hover{background-color:rgba(0,0,0,.7)}.button.is-warning.is-inverted[disabled],fieldset[disabled] .button.is-warning.is-inverted{background-color:rgba(0,0,0,.7);border-color:transparent;box-shadow:none;color:#ffdd57}.button.is-warning.is-loading:after{border-color:transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important}.button.is-warning.is-outlined{background-color:transparent;border-color:#ffdd57;color:#ffdd57}.button.is-warning.is-outlined.is-focused,.button.is-warning.is-outlined.is-hovered,.button.is-warning.is-outlined:focus,.button.is-warning.is-outlined:hover{background-color:#ffdd57;border-color:#ffdd57;color:rgba(0,0,0,.7)}.button.is-warning.is-outlined.is-loading:after{border-color:transparent transparent #ffdd57 #ffdd57!important}.button.is-warning.is-outlined.is-loading.is-focused:after,.button.is-warning.is-outlined.is-loading.is-hovered:after,.button.is-warning.is-outlined.is-loading:focus:after,.button.is-warning.is-outlined.is-loading:hover:after{border-color:transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important}.button.is-warning.is-outlined[disabled],fieldset[disabled] .button.is-warning.is-outlined{background-color:transparent;border-color:#ffdd57;box-shadow:none;color:#ffdd57}.button.is-warning.is-inverted.is-outlined{background-color:transparent;border-color:rgba(0,0,0,.7);color:rgba(0,0,0,.7)}.button.is-warning.is-inverted.is-outlined.is-focused,.button.is-warning.is-inverted.is-outlined.is-hovered,.button.is-warning.is-inverted.is-outlined:focus,.button.is-warning.is-inverted.is-outlined:hover{background-color:rgba(0,0,0,.7);color:#ffdd57}.button.is-warning.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-warning.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-warning.is-inverted.is-outlined.is-loading:focus:after,.button.is-warning.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #ffdd57 #ffdd57!important}.button.is-warning.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-warning.is-inverted.is-outlined{background-color:transparent;border-color:rgba(0,0,0,.7);box-shadow:none;color:rgba(0,0,0,.7)}.button.is-warning.is-light{background-color:#fffbeb;color:#947600}.button.is-warning.is-light.is-hovered,.button.is-warning.is-light:hover{background-color:#fff8de;border-color:transparent;color:#947600}.button.is-warning.is-light.is-active,.button.is-warning.is-light:active{background-color:#fff6d1;border-color:transparent;color:#947600}.button.is-danger{background-color:#f14668;border-color:transparent;color:#fff}.button.is-danger.is-hovered,.button.is-danger:hover{background-color:#f03a5f;border-color:transparent;color:#fff}.button.is-danger.is-focused,.button.is-danger:focus{border-color:transparent;color:#fff}.button.is-danger.is-focused:not(:active),.button.is-danger:focus:not(:active){box-shadow:0 0 0 .125em rgba(241,70,104,.25)}.button.is-danger.is-active,.button.is-danger:active{background-color:#ef2e55;border-color:transparent;color:#fff}.button.is-danger[disabled],fieldset[disabled] .button.is-danger{background-color:#f14668;border-color:transparent;box-shadow:none}.button.is-danger.is-inverted{background-color:#fff;color:#f14668}.button.is-danger.is-inverted.is-hovered,.button.is-danger.is-inverted:hover{background-color:#f2f2f2}.button.is-danger.is-inverted[disabled],fieldset[disabled] .button.is-danger.is-inverted{background-color:#fff;border-color:transparent;box-shadow:none;color:#f14668}.button.is-danger.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-danger.is-outlined{background-color:transparent;border-color:#f14668;color:#f14668}.button.is-danger.is-outlined.is-focused,.button.is-danger.is-outlined.is-hovered,.button.is-danger.is-outlined:focus,.button.is-danger.is-outlined:hover{background-color:#f14668;border-color:#f14668;color:#fff}.button.is-danger.is-outlined.is-loading:after{border-color:transparent transparent #f14668 #f14668!important}.button.is-danger.is-outlined.is-loading.is-focused:after,.button.is-danger.is-outlined.is-loading.is-hovered:after,.button.is-danger.is-outlined.is-loading:focus:after,.button.is-danger.is-outlined.is-loading:hover:after{border-color:transparent transparent #fff #fff!important}.button.is-danger.is-outlined[disabled],fieldset[disabled] .button.is-danger.is-outlined{background-color:transparent;border-color:#f14668;box-shadow:none;color:#f14668}.button.is-danger.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-danger.is-inverted.is-outlined.is-focused,.button.is-danger.is-inverted.is-outlined.is-hovered,.button.is-danger.is-inverted.is-outlined:focus,.button.is-danger.is-inverted.is-outlined:hover{background-color:#fff;color:#f14668}.button.is-danger.is-inverted.is-outlined.is-loading.is-focused:after,.button.is-danger.is-inverted.is-outlined.is-loading.is-hovered:after,.button.is-danger.is-inverted.is-outlined.is-loading:focus:after,.button.is-danger.is-inverted.is-outlined.is-loading:hover:after{border-color:transparent transparent #f14668 #f14668!important}.button.is-danger.is-inverted.is-outlined[disabled],fieldset[disabled] .button.is-danger.is-inverted.is-outlined{background-color:transparent;border-color:#fff;box-shadow:none;color:#fff}.button.is-danger.is-light{background-color:#feecf0;color:#cc0f35}.button.is-danger.is-light.is-hovered,.button.is-danger.is-light:hover{background-color:#fde0e6;border-color:transparent;color:#cc0f35}.button.is-danger.is-light.is-active,.button.is-danger.is-light:active{background-color:#fcd4dc;border-color:transparent;color:#cc0f35}.button.is-small{border-radius:2px;font-size:.75rem}.button.is-normal{font-size:1rem}.button.is-medium{font-size:1.25rem}.button.is-large{font-size:1.5rem}.button[disabled],fieldset[disabled] .button{background-color:#fff;border-color:#dbdbdb;box-shadow:none;opacity:.5}.button.is-fullwidth{display:-webkit-box;display:flex;width:100%}.button.is-loading{color:transparent!important;pointer-events:none}.button.is-loading:after{position:absolute;left:calc(50% - .5em);top:calc(50% - .5em);position:absolute!important}.button.is-static{background-color:#f5f5f5;border-color:#dbdbdb;color:#7a7a7a;box-shadow:none;pointer-events:none}.button.is-rounded{border-radius:290486px;padding-left:1.25em;padding-right:1.25em}.buttons{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-pack:start;justify-content:flex-start}.buttons .button{margin-bottom:.5rem}.buttons .button:not(:last-child):not(.is-fullwidth){margin-right:.5rem}.buttons:last-child{margin-bottom:-.5rem}.buttons:not(:last-child){margin-bottom:1rem}.buttons.are-small .button:not(.is-normal):not(.is-medium):not(.is-large){border-radius:2px;font-size:.75rem}.buttons.are-medium .button:not(.is-small):not(.is-normal):not(.is-large){font-size:1.25rem}.buttons.are-large .button:not(.is-small):not(.is-normal):not(.is-medium){font-size:1.5rem}.buttons.has-addons .button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.buttons.has-addons .button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.buttons.has-addons .button:last-child{margin-right:0}.buttons.has-addons .button.is-hovered,.buttons.has-addons .button:hover{z-index:2}.buttons.has-addons .button.is-active,.buttons.has-addons .button.is-focused,.buttons.has-addons .button.is-selected,.buttons.has-addons .button:active,.buttons.has-addons .button:focus{z-index:3}.buttons.has-addons .button.is-active:hover,.buttons.has-addons .button.is-focused:hover,.buttons.has-addons .button.is-selected:hover,.buttons.has-addons .button:active:hover,.buttons.has-addons .button:focus:hover{z-index:4}.buttons.has-addons .button.is-expanded{-webkit-box-flex:1;flex-grow:1;flex-shrink:1}.buttons.is-centered{-webkit-box-pack:center;justify-content:center}.buttons.is-centered:not(.has-addons) .button:not(.is-fullwidth){margin-left:.25rem;margin-right:.25rem}.buttons.is-right{-webkit-box-pack:end;justify-content:flex-end}.buttons.is-right:not(.has-addons) .button:not(.is-fullwidth){margin-left:.25rem;margin-right:.25rem}.container{-webkit-box-flex:1;flex-grow:1;margin:0 auto;position:relative;width:auto}.container.is-fluid{max-width:none;padding-left:32px;padding-right:32px;width:100%}@media screen and (min-width:1024px){.container{max-width:960px}}@media screen and (max-width:1215px){.container.is-widescreen{max-width:1152px}}@media screen and (max-width:1407px){.container.is-fullhd{max-width:1344px}}@media screen and (min-width:1216px){.container{max-width:1152px}}@media screen and (min-width:1408px){.container{max-width:1344px}}.content li+li{margin-top:.25em}.content blockquote:not(:last-child),.content dl:not(:last-child),.content ol:not(:last-child),.content p:not(:last-child),.content pre:not(:last-child),.content table:not(:last-child),.content ul:not(:last-child){margin-bottom:1em}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{color:#363636;font-weight:600;line-height:1.125}.content h1{font-size:2em;margin-bottom:.5em}.content h1:not(:first-child){margin-top:1em}.content h2{font-size:1.75em;margin-bottom:.5714em}.content h2:not(:first-child){margin-top:1.1428em}.content h3{font-size:1.5em;margin-bottom:.6666em}.content h3:not(:first-child){margin-top:1.3333em}.content h4{font-size:1.25em;margin-bottom:.8em}.content h5{font-size:1.125em;margin-bottom:.8888em}.content h6{font-size:1em;margin-bottom:1em}.content blockquote{background-color:#f5f5f5;border-left:5px solid #dbdbdb;padding:1.25em 1.5em}.content ol{list-style-position:outside;margin-left:2em;margin-top:1em}.content ol:not([type]){list-style-type:decimal}.content ol:not([type]).is-lower-alpha{list-style-type:lower-alpha}.content ol:not([type]).is-lower-roman{list-style-type:lower-roman}.content ol:not([type]).is-upper-alpha{list-style-type:upper-alpha}.content ol:not([type]).is-upper-roman{list-style-type:upper-roman}.content ul{list-style:disc outside;margin-left:2em;margin-top:1em}.content ul ul{list-style-type:circle;margin-top:.5em}.content ul ul ul{list-style-type:square}.content dd{margin-left:2em}.content figure{margin-left:2em;margin-right:2em;text-align:center}.content figure:not(:first-child){margin-top:2em}.content figure:not(:last-child){margin-bottom:2em}.content figure img{display:inline-block}.content figure figcaption{font-style:italic}.content pre{-webkit-overflow-scrolling:touch;overflow-x:auto;padding:1.25em 1.5em;white-space:pre;word-wrap:normal}.content sub,.content sup{font-size:75%}.content table{width:100%}.content table td,.content table th{border:solid #dbdbdb;border-width:0 0 1px;padding:.5em .75em;vertical-align:top}.content table th{color:#363636}.content table th:not([align]){text-align:left}.content table thead td,.content table thead th{border-width:0 0 2px;color:#363636}.content table tfoot td,.content table tfoot th{border-width:2px 0 0;color:#363636}.content table tbody tr:last-child td,.content table tbody tr:last-child th{border-bottom-width:0}.content .tabs li+li{margin-top:0}.content.is-small{font-size:.75rem}.content.is-medium{font-size:1.25rem}.content.is-large{font-size:1.5rem}.icon{-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;-webkit-box-pack:center;justify-content:center;height:1.5rem;width:1.5rem}.icon.is-small{height:1rem;width:1rem}.icon.is-medium{height:2rem;width:2rem}.icon.is-large{height:3rem;width:3rem}.image{display:block;position:relative}.image img{display:block;height:auto;width:100%}.image img.is-rounded{border-radius:290486px}.image.is-fullwidth{width:100%}.image.is-1by1 .has-ratio,.image.is-1by1 img,.image.is-1by2 .has-ratio,.image.is-1by2 img,.image.is-1by3 .has-ratio,.image.is-1by3 img,.image.is-2by1 .has-ratio,.image.is-2by1 img,.image.is-2by3 .has-ratio,.image.is-2by3 img,.image.is-3by1 .has-ratio,.image.is-3by1 img,.image.is-3by2 .has-ratio,.image.is-3by2 img,.image.is-3by4 .has-ratio,.image.is-3by4 img,.image.is-3by5 .has-ratio,.image.is-3by5 img,.image.is-4by3 .has-ratio,.image.is-4by3 img,.image.is-4by5 .has-ratio,.image.is-4by5 img,.image.is-5by3 .has-ratio,.image.is-5by3 img,.image.is-5by4 .has-ratio,.image.is-5by4 img,.image.is-9by16 .has-ratio,.image.is-9by16 img,.image.is-16by9 .has-ratio,.image.is-16by9 img,.image.is-square .has-ratio,.image.is-square img{height:100%;width:100%}.image.is-1by1,.image.is-square{padding-top:100%}.image.is-5by4{padding-top:80%}.image.is-4by3{padding-top:75%}.image.is-3by2{padding-top:66.6666%}.image.is-5by3{padding-top:60%}.image.is-16by9{padding-top:56.25%}.image.is-2by1{padding-top:50%}.image.is-3by1{padding-top:33.3333%}.image.is-4by5{padding-top:125%}.image.is-3by4{padding-top:133.3333%}.image.is-2by3{padding-top:150%}.image.is-3by5{padding-top:166.6666%}.image.is-9by16{padding-top:177.7777%}.image.is-1by2{padding-top:200%}.image.is-1by3{padding-top:300%}.image.is-16x16{height:16px;width:16px}.image.is-24x24{height:24px;width:24px}.image.is-32x32{height:32px;width:32px}.image.is-48x48{height:48px;width:48px}.image.is-64x64{height:64px;width:64px}.image.is-96x96{height:96px;width:96px}.image.is-128x128{height:128px;width:128px}.notification{background-color:#f5f5f5;border-radius:4px;padding:1.25rem 2.5rem 1.25rem 1.5rem;position:relative}.notification a:not(.button):not(.dropdown-item){color:currentColor;text-decoration:underline}.notification strong{color:currentColor}.notification code,.notification pre{background:#fff}.notification pre code{background:transparent}.notification>.delete{position:absolute;right:.5rem;top:.5rem}.notification .content,.notification .subtitle,.notification .title{color:currentColor}.notification.is-white{background-color:#fff;color:#0a0a0a}.notification.is-black{background-color:#0a0a0a;color:#fff}.notification.is-light{background-color:#f5f5f5;color:rgba(0,0,0,.7)}.notification.is-dark{background-color:#363636;color:#fff}.notification.is-primary{background-color:#00d1b2;color:#fff}.notification.is-link{background-color:#3273dc;color:#fff}.notification.is-info{background-color:#3298dc;color:#fff}.notification.is-success{background-color:#48c774;color:#fff}.notification.is-warning{background-color:#ffdd57;color:rgba(0,0,0,.7)}.notification.is-danger{background-color:#f14668;color:#fff}.progress{-moz-appearance:none;-webkit-appearance:none;border:none;border-radius:290486px;display:block;height:1rem;overflow:hidden;padding:0;width:100%}.progress::-webkit-progress-bar{background-color:#ededed}.progress::-webkit-progress-value{background-color:#4a4a4a}.progress::-moz-progress-bar{background-color:#4a4a4a}.progress::-ms-fill{background-color:#4a4a4a;border:none}.progress.is-white::-webkit-progress-value{background-color:#fff}.progress.is-white::-moz-progress-bar{background-color:#fff}.progress.is-white::-ms-fill{background-color:#fff}.progress.is-white:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#fff),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#fff 30%,#ededed 0)}.progress.is-black::-webkit-progress-value{background-color:#0a0a0a}.progress.is-black::-moz-progress-bar{background-color:#0a0a0a}.progress.is-black::-ms-fill{background-color:#0a0a0a}.progress.is-black:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#0a0a0a),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#0a0a0a 30%,#ededed 0)}.progress.is-light::-webkit-progress-value{background-color:#f5f5f5}.progress.is-light::-moz-progress-bar{background-color:#f5f5f5}.progress.is-light::-ms-fill{background-color:#f5f5f5}.progress.is-light:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#f5f5f5),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#f5f5f5 30%,#ededed 0)}.progress.is-dark::-webkit-progress-value{background-color:#363636}.progress.is-dark::-moz-progress-bar{background-color:#363636}.progress.is-dark::-ms-fill{background-color:#363636}.progress.is-dark:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#363636),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#363636 30%,#ededed 0)}.progress.is-primary::-webkit-progress-value{background-color:#00d1b2}.progress.is-primary::-moz-progress-bar{background-color:#00d1b2}.progress.is-primary::-ms-fill{background-color:#00d1b2}.progress.is-primary:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#00d1b2),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#00d1b2 30%,#ededed 0)}.progress.is-link::-webkit-progress-value{background-color:#3273dc}.progress.is-link::-moz-progress-bar{background-color:#3273dc}.progress.is-link::-ms-fill{background-color:#3273dc}.progress.is-link:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#3273dc),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#3273dc 30%,#ededed 0)}.progress.is-info::-webkit-progress-value{background-color:#3298dc}.progress.is-info::-moz-progress-bar{background-color:#3298dc}.progress.is-info::-ms-fill{background-color:#3298dc}.progress.is-info:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#3298dc),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#3298dc 30%,#ededed 0)}.progress.is-success::-webkit-progress-value{background-color:#48c774}.progress.is-success::-moz-progress-bar{background-color:#48c774}.progress.is-success::-ms-fill{background-color:#48c774}.progress.is-success:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#48c774),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#48c774 30%,#ededed 0)}.progress.is-warning::-webkit-progress-value{background-color:#ffdd57}.progress.is-warning::-moz-progress-bar{background-color:#ffdd57}.progress.is-warning::-ms-fill{background-color:#ffdd57}.progress.is-warning:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#ffdd57),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#ffdd57 30%,#ededed 0)}.progress.is-danger::-webkit-progress-value{background-color:#f14668}.progress.is-danger::-moz-progress-bar{background-color:#f14668}.progress.is-danger::-ms-fill{background-color:#f14668}.progress.is-danger:indeterminate{background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#f14668),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#f14668 30%,#ededed 0)}.progress:indeterminate{-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:moveIndeterminate;animation-name:moveIndeterminate;-webkit-animation-timing-function:linear;animation-timing-function:linear;background-color:#ededed;background-image:-webkit-gradient(linear,left top,right top,color-stop(30%,#4a4a4a),color-stop(30%,#ededed));background-image:linear-gradient(90deg,#4a4a4a 30%,#ededed 0);background-position:0 0;background-repeat:no-repeat;background-size:150% 150%}.progress:indeterminate::-webkit-progress-bar{background-color:transparent}.progress:indeterminate::-moz-progress-bar{background-color:transparent}.progress.is-small{height:.75rem}.progress.is-medium{height:1.25rem}.progress.is-large{height:1.5rem}@-webkit-keyframes moveIndeterminate{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes moveIndeterminate{0%{background-position:200% 0}to{background-position:-200% 0}}.table{background-color:#fff;color:#363636}.table td,.table th{border:solid #dbdbdb;border-width:0 0 1px;padding:.5em .75em;vertical-align:top}.table td.is-white,.table th.is-white{background-color:#fff;border-color:#fff;color:#0a0a0a}.table td.is-black,.table th.is-black{background-color:#0a0a0a;border-color:#0a0a0a;color:#fff}.table td.is-light,.table th.is-light{background-color:#f5f5f5;border-color:#f5f5f5;color:rgba(0,0,0,.7)}.table td.is-dark,.table th.is-dark{background-color:#363636;border-color:#363636;color:#fff}.table td.is-primary,.table th.is-primary{background-color:#00d1b2;border-color:#00d1b2;color:#fff}.table td.is-link,.table th.is-link{background-color:#3273dc;border-color:#3273dc;color:#fff}.table td.is-info,.table th.is-info{background-color:#3298dc;border-color:#3298dc;color:#fff}.table td.is-success,.table th.is-success{background-color:#48c774;border-color:#48c774;color:#fff}.table td.is-warning,.table th.is-warning{background-color:#ffdd57;border-color:#ffdd57;color:rgba(0,0,0,.7)}.table td.is-danger,.table th.is-danger{background-color:#f14668;border-color:#f14668;color:#fff}.table td.is-narrow,.table th.is-narrow{white-space:nowrap;width:1%}.table td.is-selected,.table th.is-selected{background-color:#00d1b2;color:#fff}.table td.is-selected a,.table td.is-selected strong,.table th.is-selected a,.table th.is-selected strong{color:currentColor}.table th{color:#363636}.table th:not([align]){text-align:left}.table tr.is-selected{background-color:#00d1b2;color:#fff}.table tr.is-selected a,.table tr.is-selected strong{color:currentColor}.table tr.is-selected td,.table tr.is-selected th{border-color:#fff;color:currentColor}.table thead{background-color:transparent}.table thead td,.table thead th{border-width:0 0 2px;color:#363636}.table tfoot{background-color:transparent}.table tfoot td,.table tfoot th{border-width:2px 0 0;color:#363636}.table tbody{background-color:transparent}.table tbody tr:last-child td,.table tbody tr:last-child th{border-bottom-width:0}.table.is-bordered td,.table.is-bordered th{border-width:1px}.table.is-bordered tr:last-child td,.table.is-bordered tr:last-child th{border-bottom-width:1px}.table.is-fullwidth{width:100%}.table.is-hoverable.is-striped tbody tr:not(.is-selected):hover,.table.is-hoverable tbody tr:not(.is-selected):hover{background-color:#fafafa}.table.is-hoverable.is-striped tbody tr:not(.is-selected):hover:nth-child(2n){background-color:#f5f5f5}.table.is-narrow td,.table.is-narrow th{padding:.25em .5em}.table.is-striped tbody tr:not(.is-selected):nth-child(2n){background-color:#fafafa}.table-container{-webkit-overflow-scrolling:touch;overflow:auto;overflow-y:hidden;max-width:100%}.tags{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-pack:start;justify-content:flex-start}.tags .tag{margin-bottom:.5rem}.tags .tag:not(:last-child){margin-right:.5rem}.tags:last-child{margin-bottom:-.5rem}.tags:not(:last-child){margin-bottom:1rem}.tags.are-medium .tag:not(.is-normal):not(.is-large){font-size:1rem}.tags.are-large .tag:not(.is-normal):not(.is-medium){font-size:1.25rem}.tags.is-centered{-webkit-box-pack:center;justify-content:center}.tags.is-centered .tag{margin-right:.25rem;margin-left:.25rem}.tags.is-right{-webkit-box-pack:end;justify-content:flex-end}.tags.is-right .tag:not(:first-child){margin-left:.5rem}.tags.has-addons .tag,.tags.is-right .tag:not(:last-child){margin-right:0}.tags.has-addons .tag:not(:first-child){margin-left:0;border-bottom-left-radius:0;border-top-left-radius:0}.tags.has-addons .tag:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tag:not(body){-webkit-box-align:center;align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:-webkit-inline-box;display:inline-flex;font-size:.75rem;height:2em;-webkit-box-pack:center;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:nowrap}.tag:not(body) .delete{margin-left:.25rem;margin-right:-.375rem}.tag:not(body).is-white{background-color:#fff;color:#0a0a0a}.tag:not(body).is-black{background-color:#0a0a0a;color:#fff}.tag:not(body).is-light{background-color:#f5f5f5;color:rgba(0,0,0,.7)}.tag:not(body).is-dark{background-color:#363636;color:#fff}.tag:not(body).is-primary{background-color:#00d1b2;color:#fff}.tag:not(body).is-primary.is-light{background-color:#ebfffc;color:#00947e}.tag:not(body).is-link{background-color:#3273dc;color:#fff}.tag:not(body).is-link.is-light{background-color:#eef3fc;color:#2160c4}.tag:not(body).is-info{background-color:#3298dc;color:#fff}.tag:not(body).is-info.is-light{background-color:#eef6fc;color:#1d72aa}.tag:not(body).is-success{background-color:#48c774;color:#fff}.tag:not(body).is-success.is-light{background-color:#effaf3;color:#257942}.tag:not(body).is-warning{background-color:#ffdd57;color:rgba(0,0,0,.7)}.tag:not(body).is-warning.is-light{background-color:#fffbeb;color:#947600}.tag:not(body).is-danger{background-color:#f14668;color:#fff}.tag:not(body).is-danger.is-light{background-color:#feecf0;color:#cc0f35}.tag:not(body).is-normal{font-size:.75rem}.tag:not(body).is-medium{font-size:1rem}.tag:not(body).is-large{font-size:1.25rem}.tag:not(body) .icon:first-child:not(:last-child){margin-left:-.375em;margin-right:.1875em}.tag:not(body) .icon:last-child:not(:first-child){margin-left:.1875em;margin-right:-.375em}.tag:not(body) .icon:first-child:last-child{margin-left:-.375em;margin-right:-.375em}.tag:not(body).is-delete{margin-left:1px;padding:0;position:relative;width:2em}.tag:not(body).is-delete:after,.tag:not(body).is-delete:before{background-color:currentColor;content:"";display:block;left:50%;position:absolute;top:50%;-webkit-transform:translateX(-50%) translateY(-50%) rotate(45deg);transform:translateX(-50%) translateY(-50%) rotate(45deg);-webkit-transform-origin:center center;transform-origin:center center}.tag:not(body).is-delete:before{height:1px;width:50%}.tag:not(body).is-delete:after{height:50%;width:1px}.tag:not(body).is-delete:focus,.tag:not(body).is-delete:hover{background-color:#e8e8e8}.tag:not(body).is-delete:active{background-color:#dbdbdb}.tag:not(body).is-rounded{border-radius:290486px}a.tag:hover{text-decoration:underline}.subtitle,.title{word-break:break-word}.subtitle em,.subtitle span,.title em,.title span{font-weight:inherit}.subtitle sub,.subtitle sup,.title sub,.title sup{font-size:.75em}.subtitle .tag,.title .tag{vertical-align:middle}.title{color:#363636;font-size:2rem;font-weight:600;line-height:1.125}.title strong{color:inherit;font-weight:inherit}.title+.highlight{margin-top:-.75rem}.title:not(.is-spaced)+.subtitle{margin-top:-1.25rem}.title.is-1{font-size:3rem}.title.is-2{font-size:2.5rem}.title.is-3{font-size:2rem}.title.is-4{font-size:1.5rem}.title.is-5{font-size:1.25rem}.title.is-6{font-size:1rem}.title.is-7{font-size:.75rem}.subtitle{color:#4a4a4a;font-size:1.25rem;font-weight:400;line-height:1.25}.subtitle strong{color:#363636;font-weight:600}.subtitle:not(.is-spaced)+.title{margin-top:-1.25rem}.subtitle.is-1{font-size:3rem}.subtitle.is-2{font-size:2.5rem}.subtitle.is-3{font-size:2rem}.subtitle.is-4{font-size:1.5rem}.subtitle.is-5{font-size:1.25rem}.subtitle.is-6{font-size:1rem}.subtitle.is-7{font-size:.75rem}.heading{display:block;font-size:11px;letter-spacing:1px;margin-bottom:5px;text-transform:uppercase}.highlight{font-weight:400;max-width:100%;overflow:hidden;padding:0}.highlight pre{overflow:auto;max-width:100%}.number{-webkit-box-align:center;align-items:center;background-color:#f5f5f5;border-radius:290486px;display:-webkit-inline-box;display:inline-flex;font-size:1.25rem;height:2em;-webkit-box-pack:center;justify-content:center;margin-right:1.5rem;min-width:2.5em;padding:.25rem .5rem;text-align:center;vertical-align:top}.input,.select select,.textarea{background-color:#fff;border-color:#dbdbdb;border-radius:4px;color:#363636}.input::-moz-placeholder,.select select::-moz-placeholder,.textarea::-moz-placeholder{color:rgba(54,54,54,.3)}.input::-webkit-input-placeholder,.select select::-webkit-input-placeholder,.textarea::-webkit-input-placeholder{color:rgba(54,54,54,.3)}.input:-moz-placeholder,.select select:-moz-placeholder,.textarea:-moz-placeholder{color:rgba(54,54,54,.3)}.input:-ms-input-placeholder,.select select:-ms-input-placeholder,.textarea:-ms-input-placeholder{color:rgba(54,54,54,.3)}.input:hover,.is-hovered.input,.is-hovered.textarea,.select select.is-hovered,.select select:hover,.textarea:hover{border-color:#b5b5b5}.input:active,.input:focus,.is-active.input,.is-active.textarea,.is-focused.input,.is-focused.textarea,.select select.is-active,.select select.is-focused,.select select:active,.select select:focus,.textarea:active,.textarea:focus{border-color:#3273dc;box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.input[disabled],.select fieldset[disabled] select,.select select[disabled],.textarea[disabled],fieldset[disabled] .input,fieldset[disabled] .select select,fieldset[disabled] .textarea{background-color:#f5f5f5;border-color:#f5f5f5;box-shadow:none;color:#7a7a7a}.input[disabled]::-moz-placeholder,.select fieldset[disabled] select::-moz-placeholder,.select select[disabled]::-moz-placeholder,.textarea[disabled]::-moz-placeholder,fieldset[disabled] .input::-moz-placeholder,fieldset[disabled] .select select::-moz-placeholder,fieldset[disabled] .textarea::-moz-placeholder{color:hsla(0,0%,47.8%,.3)}.input[disabled]::-webkit-input-placeholder,.select fieldset[disabled] select::-webkit-input-placeholder,.select select[disabled]::-webkit-input-placeholder,.textarea[disabled]::-webkit-input-placeholder,fieldset[disabled] .input::-webkit-input-placeholder,fieldset[disabled] .select select::-webkit-input-placeholder,fieldset[disabled] .textarea::-webkit-input-placeholder{color:hsla(0,0%,47.8%,.3)}.input[disabled]:-moz-placeholder,.select fieldset[disabled] select:-moz-placeholder,.select select[disabled]:-moz-placeholder,.textarea[disabled]:-moz-placeholder,fieldset[disabled] .input:-moz-placeholder,fieldset[disabled] .select select:-moz-placeholder,fieldset[disabled] .textarea:-moz-placeholder{color:hsla(0,0%,47.8%,.3)}.input[disabled]:-ms-input-placeholder,.select fieldset[disabled] select:-ms-input-placeholder,.select select[disabled]:-ms-input-placeholder,.textarea[disabled]:-ms-input-placeholder,fieldset[disabled] .input:-ms-input-placeholder,fieldset[disabled] .select select:-ms-input-placeholder,fieldset[disabled] .textarea:-ms-input-placeholder{color:hsla(0,0%,47.8%,.3)}.input,.textarea{box-shadow:inset 0 .0625em .125em rgba(10,10,10,.05);max-width:100%;width:100%}.input[readonly],.textarea[readonly]{box-shadow:none}.is-white.input,.is-white.textarea{border-color:#fff}.is-white.input:active,.is-white.input:focus,.is-white.is-active.input,.is-white.is-active.textarea,.is-white.is-focused.input,.is-white.is-focused.textarea,.is-white.textarea:active,.is-white.textarea:focus{box-shadow:0 0 0 .125em hsla(0,0%,100%,.25)}.is-black.input,.is-black.textarea{border-color:#0a0a0a}.is-black.input:active,.is-black.input:focus,.is-black.is-active.input,.is-black.is-active.textarea,.is-black.is-focused.input,.is-black.is-focused.textarea,.is-black.textarea:active,.is-black.textarea:focus{box-shadow:0 0 0 .125em rgba(10,10,10,.25)}.is-light.input,.is-light.textarea{border-color:#f5f5f5}.is-light.input:active,.is-light.input:focus,.is-light.is-active.input,.is-light.is-active.textarea,.is-light.is-focused.input,.is-light.is-focused.textarea,.is-light.textarea:active,.is-light.textarea:focus{box-shadow:0 0 0 .125em hsla(0,0%,96.1%,.25)}.is-dark.input,.is-dark.textarea{border-color:#363636}.is-dark.input:active,.is-dark.input:focus,.is-dark.is-active.input,.is-dark.is-active.textarea,.is-dark.is-focused.input,.is-dark.is-focused.textarea,.is-dark.textarea:active,.is-dark.textarea:focus{box-shadow:0 0 0 .125em rgba(54,54,54,.25)}.is-primary.input,.is-primary.textarea{border-color:#00d1b2}.is-primary.input:active,.is-primary.input:focus,.is-primary.is-active.input,.is-primary.is-active.textarea,.is-primary.is-focused.input,.is-primary.is-focused.textarea,.is-primary.textarea:active,.is-primary.textarea:focus{box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.is-link.input,.is-link.textarea{border-color:#3273dc}.is-link.input:active,.is-link.input:focus,.is-link.is-active.input,.is-link.is-active.textarea,.is-link.is-focused.input,.is-link.is-focused.textarea,.is-link.textarea:active,.is-link.textarea:focus{box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.is-info.input,.is-info.textarea{border-color:#3298dc}.is-info.input:active,.is-info.input:focus,.is-info.is-active.input,.is-info.is-active.textarea,.is-info.is-focused.input,.is-info.is-focused.textarea,.is-info.textarea:active,.is-info.textarea:focus{box-shadow:0 0 0 .125em rgba(50,152,220,.25)}.is-success.input,.is-success.textarea{border-color:#48c774}.is-success.input:active,.is-success.input:focus,.is-success.is-active.input,.is-success.is-active.textarea,.is-success.is-focused.input,.is-success.is-focused.textarea,.is-success.textarea:active,.is-success.textarea:focus{box-shadow:0 0 0 .125em rgba(72,199,116,.25)}.is-warning.input,.is-warning.textarea{border-color:#ffdd57}.is-warning.input:active,.is-warning.input:focus,.is-warning.is-active.input,.is-warning.is-active.textarea,.is-warning.is-focused.input,.is-warning.is-focused.textarea,.is-warning.textarea:active,.is-warning.textarea:focus{box-shadow:0 0 0 .125em rgba(255,221,87,.25)}.is-danger.input,.is-danger.textarea{border-color:#f14668}.is-danger.input:active,.is-danger.input:focus,.is-danger.is-active.input,.is-danger.is-active.textarea,.is-danger.is-focused.input,.is-danger.is-focused.textarea,.is-danger.textarea:active,.is-danger.textarea:focus{box-shadow:0 0 0 .125em rgba(241,70,104,.25)}.is-small.input,.is-small.textarea{border-radius:2px;font-size:.75rem}.is-medium.input,.is-medium.textarea{font-size:1.25rem}.is-large.input,.is-large.textarea{font-size:1.5rem}.is-fullwidth.input,.is-fullwidth.textarea{display:block;width:100%}.is-inline.input,.is-inline.textarea{display:inline;width:auto}.input.is-rounded{border-radius:290486px;padding-left:calc(1.125em - 1px);padding-right:calc(1.125em - 1px)}.input.is-static{background-color:transparent;border-color:transparent;box-shadow:none;padding-left:0;padding-right:0}.textarea{display:block;max-width:100%;min-width:100%;padding:calc(.75em - 1px);resize:vertical}.textarea:not([rows]){max-height:40em;min-height:8em}.textarea[rows]{height:auto}.textarea.has-fixed-size{resize:none}.checkbox,.radio{cursor:pointer;display:inline-block;line-height:1.25;position:relative}.checkbox input,.radio input{cursor:pointer}.checkbox:hover,.radio:hover{color:#363636}.checkbox[disabled],.radio[disabled],fieldset[disabled] .checkbox,fieldset[disabled] .radio{color:#7a7a7a;cursor:not-allowed}.radio+.radio{margin-left:.5em}.select{display:inline-block;max-width:100%;position:relative;vertical-align:top}.select:not(.is-multiple){height:2.5em}.select:not(.is-multiple):not(.is-loading):after{border-color:#3273dc;right:1.125em;z-index:4}.select.is-rounded select{border-radius:290486px;padding-left:1em}.select select{cursor:pointer;display:block;font-size:1em;max-width:100%;outline:none}.select select::-ms-expand{display:none}.select select[disabled]:hover,fieldset[disabled] .select select:hover{border-color:#f5f5f5}.select select:not([multiple]){padding-right:2.5em}.select select[multiple]{height:auto;padding:0}.select select[multiple] option{padding:.5em 1em}.select:not(.is-multiple):not(.is-loading):hover:after{border-color:#363636}.select.is-white:not(:hover):after,.select.is-white select{border-color:#fff}.select.is-white select.is-hovered,.select.is-white select:hover{border-color:#f2f2f2}.select.is-white select.is-active,.select.is-white select.is-focused,.select.is-white select:active,.select.is-white select:focus{box-shadow:0 0 0 .125em hsla(0,0%,100%,.25)}.select.is-black:not(:hover):after,.select.is-black select{border-color:#0a0a0a}.select.is-black select.is-hovered,.select.is-black select:hover{border-color:#000}.select.is-black select.is-active,.select.is-black select.is-focused,.select.is-black select:active,.select.is-black select:focus{box-shadow:0 0 0 .125em rgba(10,10,10,.25)}.select.is-light:not(:hover):after,.select.is-light select{border-color:#f5f5f5}.select.is-light select.is-hovered,.select.is-light select:hover{border-color:#e8e8e8}.select.is-light select.is-active,.select.is-light select.is-focused,.select.is-light select:active,.select.is-light select:focus{box-shadow:0 0 0 .125em hsla(0,0%,96.1%,.25)}.select.is-dark:not(:hover):after,.select.is-dark select{border-color:#363636}.select.is-dark select.is-hovered,.select.is-dark select:hover{border-color:#292929}.select.is-dark select.is-active,.select.is-dark select.is-focused,.select.is-dark select:active,.select.is-dark select:focus{box-shadow:0 0 0 .125em rgba(54,54,54,.25)}.select.is-primary:not(:hover):after,.select.is-primary select{border-color:#00d1b2}.select.is-primary select.is-hovered,.select.is-primary select:hover{border-color:#00b89c}.select.is-primary select.is-active,.select.is-primary select.is-focused,.select.is-primary select:active,.select.is-primary select:focus{box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.select.is-link:not(:hover):after,.select.is-link select{border-color:#3273dc}.select.is-link select.is-hovered,.select.is-link select:hover{border-color:#2366d1}.select.is-link select.is-active,.select.is-link select.is-focused,.select.is-link select:active,.select.is-link select:focus{box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.select.is-info:not(:hover):after,.select.is-info select{border-color:#3298dc}.select.is-info select.is-hovered,.select.is-info select:hover{border-color:#238cd1}.select.is-info select.is-active,.select.is-info select.is-focused,.select.is-info select:active,.select.is-info select:focus{box-shadow:0 0 0 .125em rgba(50,152,220,.25)}.select.is-success:not(:hover):after,.select.is-success select{border-color:#48c774}.select.is-success select.is-hovered,.select.is-success select:hover{border-color:#3abb67}.select.is-success select.is-active,.select.is-success select.is-focused,.select.is-success select:active,.select.is-success select:focus{box-shadow:0 0 0 .125em rgba(72,199,116,.25)}.select.is-warning:not(:hover):after,.select.is-warning select{border-color:#ffdd57}.select.is-warning select.is-hovered,.select.is-warning select:hover{border-color:#ffd83d}.select.is-warning select.is-active,.select.is-warning select.is-focused,.select.is-warning select:active,.select.is-warning select:focus{box-shadow:0 0 0 .125em rgba(255,221,87,.25)}.select.is-danger:not(:hover):after,.select.is-danger select{border-color:#f14668}.select.is-danger select.is-hovered,.select.is-danger select:hover{border-color:#ef2e55}.select.is-danger select.is-active,.select.is-danger select.is-focused,.select.is-danger select:active,.select.is-danger select:focus{box-shadow:0 0 0 .125em rgba(241,70,104,.25)}.select.is-small{border-radius:2px;font-size:.75rem}.select.is-medium{font-size:1.25rem}.select.is-large{font-size:1.5rem}.select.is-disabled:after{border-color:#7a7a7a}.select.is-fullwidth,.select.is-fullwidth select{width:100%}.select.is-loading:after{margin-top:0;position:absolute;right:.625em;top:.625em;-webkit-transform:none;transform:none}.select.is-loading.is-small:after{font-size:.75rem}.select.is-loading.is-medium:after{font-size:1.25rem}.select.is-loading.is-large:after{font-size:1.5rem}.file{-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;position:relative}.file.is-white .file-cta{background-color:#fff;border-color:transparent;color:#0a0a0a}.file.is-white.is-hovered .file-cta,.file.is-white:hover .file-cta{background-color:#f9f9f9;border-color:transparent;color:#0a0a0a}.file.is-white.is-focused .file-cta,.file.is-white:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em hsla(0,0%,100%,.25);color:#0a0a0a}.file.is-white.is-active .file-cta,.file.is-white:active .file-cta{background-color:#f2f2f2;border-color:transparent;color:#0a0a0a}.file.is-black .file-cta{background-color:#0a0a0a;border-color:transparent;color:#fff}.file.is-black.is-hovered .file-cta,.file.is-black:hover .file-cta{background-color:#040404;border-color:transparent;color:#fff}.file.is-black.is-focused .file-cta,.file.is-black:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em rgba(10,10,10,.25);color:#fff}.file.is-black.is-active .file-cta,.file.is-black:active .file-cta{background-color:#000;border-color:transparent;color:#fff}.file.is-light .file-cta{background-color:#f5f5f5;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-light.is-hovered .file-cta,.file.is-light:hover .file-cta{background-color:#eee;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-light.is-focused .file-cta,.file.is-light:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em hsla(0,0%,96.1%,.25);color:rgba(0,0,0,.7)}.file.is-light.is-active .file-cta,.file.is-light:active .file-cta{background-color:#e8e8e8;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-dark .file-cta{background-color:#363636;border-color:transparent;color:#fff}.file.is-dark.is-hovered .file-cta,.file.is-dark:hover .file-cta{background-color:#2f2f2f;border-color:transparent;color:#fff}.file.is-dark.is-focused .file-cta,.file.is-dark:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em rgba(54,54,54,.25);color:#fff}.file.is-dark.is-active .file-cta,.file.is-dark:active .file-cta{background-color:#292929;border-color:transparent;color:#fff}.file.is-primary .file-cta{background-color:#00d1b2;border-color:transparent;color:#fff}.file.is-primary.is-hovered .file-cta,.file.is-primary:hover .file-cta{background-color:#00c4a7;border-color:transparent;color:#fff}.file.is-primary.is-focused .file-cta,.file.is-primary:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em rgba(0,209,178,.25);color:#fff}.file.is-primary.is-active .file-cta,.file.is-primary:active .file-cta{background-color:#00b89c;border-color:transparent;color:#fff}.file.is-link .file-cta{background-color:#3273dc;border-color:transparent;color:#fff}.file.is-link.is-hovered .file-cta,.file.is-link:hover .file-cta{background-color:#276cda;border-color:transparent;color:#fff}.file.is-link.is-focused .file-cta,.file.is-link:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em rgba(50,115,220,.25);color:#fff}.file.is-link.is-active .file-cta,.file.is-link:active .file-cta{background-color:#2366d1;border-color:transparent;color:#fff}.file.is-info .file-cta{background-color:#3298dc;border-color:transparent;color:#fff}.file.is-info.is-hovered .file-cta,.file.is-info:hover .file-cta{background-color:#2793da;border-color:transparent;color:#fff}.file.is-info.is-focused .file-cta,.file.is-info:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em rgba(50,152,220,.25);color:#fff}.file.is-info.is-active .file-cta,.file.is-info:active .file-cta{background-color:#238cd1;border-color:transparent;color:#fff}.file.is-success .file-cta{background-color:#48c774;border-color:transparent;color:#fff}.file.is-success.is-hovered .file-cta,.file.is-success:hover .file-cta{background-color:#3ec46d;border-color:transparent;color:#fff}.file.is-success.is-focused .file-cta,.file.is-success:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em rgba(72,199,116,.25);color:#fff}.file.is-success.is-active .file-cta,.file.is-success:active .file-cta{background-color:#3abb67;border-color:transparent;color:#fff}.file.is-warning .file-cta{background-color:#ffdd57;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-warning.is-hovered .file-cta,.file.is-warning:hover .file-cta{background-color:#ffdb4a;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-warning.is-focused .file-cta,.file.is-warning:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em rgba(255,221,87,.25);color:rgba(0,0,0,.7)}.file.is-warning.is-active .file-cta,.file.is-warning:active .file-cta{background-color:#ffd83d;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-danger .file-cta{background-color:#f14668;border-color:transparent;color:#fff}.file.is-danger.is-hovered .file-cta,.file.is-danger:hover .file-cta{background-color:#f03a5f;border-color:transparent;color:#fff}.file.is-danger.is-focused .file-cta,.file.is-danger:focus .file-cta{border-color:transparent;box-shadow:0 0 .5em rgba(241,70,104,.25);color:#fff}.file.is-danger.is-active .file-cta,.file.is-danger:active .file-cta{background-color:#ef2e55;border-color:transparent;color:#fff}.file.is-small{font-size:.75rem}.file.is-medium{font-size:1.25rem}.file.is-medium .file-icon .fa{font-size:21px}.file.is-large{font-size:1.5rem}.file.is-large .file-icon .fa{font-size:28px}.file.has-name .file-cta{border-bottom-right-radius:0;border-top-right-radius:0}.file.has-name .file-name{border-bottom-left-radius:0;border-top-left-radius:0}.file.has-name.is-empty .file-cta{border-radius:4px}.file.has-name.is-empty .file-name{display:none}.file.is-boxed .file-cta,.file.is-boxed .file-label{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.file.is-boxed .file-cta{height:auto;padding:1em 3em}.file.is-boxed .file-name{border-width:0 1px 1px}.file.is-boxed .file-icon{height:1.5em;width:1.5em}.file.is-boxed .file-icon .fa{font-size:21px}.file.is-boxed.is-small .file-icon .fa{font-size:14px}.file.is-boxed.is-medium .file-icon .fa{font-size:28px}.file.is-boxed.is-large .file-icon .fa{font-size:35px}.file.is-boxed.has-name .file-cta{border-radius:4px 4px 0 0}.file.is-boxed.has-name .file-name{border-radius:0 0 4px 4px;border-width:0 1px 1px}.file.is-centered{-webkit-box-pack:center;justify-content:center}.file.is-fullwidth .file-label{width:100%}.file.is-fullwidth .file-name{-webkit-box-flex:1;flex-grow:1;max-width:none}.file.is-right{-webkit-box-pack:end;justify-content:flex-end}.file.is-right .file-cta{border-radius:0 4px 4px 0}.file.is-right .file-name{border-radius:4px 0 0 4px;border-width:1px 0 1px 1px;-webkit-box-ordinal-group:0;order:-1}.file-label{-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:flex;cursor:pointer;-webkit-box-pack:start;justify-content:flex-start;overflow:hidden;position:relative}.file-label:hover .file-cta{background-color:#eee;color:#363636}.file-label:hover .file-name{border-color:#d5d5d5}.file-label:active .file-cta{background-color:#e8e8e8;color:#363636}.file-label:active .file-name{border-color:#cfcfcf}.file-input{height:100%;left:0;opacity:0;outline:none;position:absolute;top:0;width:100%}.file-cta,.file-name{border-color:#dbdbdb;border-radius:4px;font-size:1em;padding-left:1em;padding-right:1em;white-space:nowrap}.file-cta{background-color:#f5f5f5;color:#4a4a4a}.file-name{border:1px solid #dbdbdb;border-left-width:0;display:block;max-width:16em;overflow:hidden;text-align:left;text-overflow:ellipsis}.file-icon{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;height:1em;-webkit-box-pack:center;justify-content:center;margin-right:.5em;width:1em}.file-icon .fa{font-size:14px}.label{color:#363636;display:block;font-size:1rem;font-weight:700}.label:not(:last-child){margin-bottom:.5em}.label.is-small{font-size:.75rem}.label.is-medium{font-size:1.25rem}.label.is-large{font-size:1.5rem}.help{display:block;font-size:.75rem;margin-top:.25rem}.help.is-white{color:#fff}.help.is-black{color:#0a0a0a}.help.is-light{color:#f5f5f5}.help.is-dark{color:#363636}.help.is-primary{color:#00d1b2}.help.is-link{color:#3273dc}.help.is-info{color:#3298dc}.help.is-success{color:#48c774}.help.is-warning{color:#ffdd57}.help.is-danger{color:#f14668}.field:not(:last-child){margin-bottom:.75rem}.field.has-addons{display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start}.field.has-addons .control:not(:last-child){margin-right:-1px}.field.has-addons .control:not(:first-child):not(:last-child) .button,.field.has-addons .control:not(:first-child):not(:last-child) .input,.field.has-addons .control:not(:first-child):not(:last-child) .select select{border-radius:0}.field.has-addons .control:first-child:not(:only-child) .button,.field.has-addons .control:first-child:not(:only-child) .input,.field.has-addons .control:first-child:not(:only-child) .select select{border-bottom-right-radius:0;border-top-right-radius:0}.field.has-addons .control:last-child:not(:only-child) .button,.field.has-addons .control:last-child:not(:only-child) .input,.field.has-addons .control:last-child:not(:only-child) .select select{border-bottom-left-radius:0;border-top-left-radius:0}.field.has-addons .control .button:not([disabled]).is-hovered,.field.has-addons .control .button:not([disabled]):hover,.field.has-addons .control .input:not([disabled]).is-hovered,.field.has-addons .control .input:not([disabled]):hover,.field.has-addons .control .select select:not([disabled]).is-hovered,.field.has-addons .control .select select:not([disabled]):hover{z-index:2}.field.has-addons .control .button:not([disabled]).is-active,.field.has-addons .control .button:not([disabled]).is-focused,.field.has-addons .control .button:not([disabled]):active,.field.has-addons .control .button:not([disabled]):focus,.field.has-addons .control .input:not([disabled]).is-active,.field.has-addons .control .input:not([disabled]).is-focused,.field.has-addons .control .input:not([disabled]):active,.field.has-addons .control .input:not([disabled]):focus,.field.has-addons .control .select select:not([disabled]).is-active,.field.has-addons .control .select select:not([disabled]).is-focused,.field.has-addons .control .select select:not([disabled]):active,.field.has-addons .control .select select:not([disabled]):focus{z-index:3}.field.has-addons .control .button:not([disabled]).is-active:hover,.field.has-addons .control .button:not([disabled]).is-focused:hover,.field.has-addons .control .button:not([disabled]):active:hover,.field.has-addons .control .button:not([disabled]):focus:hover,.field.has-addons .control .input:not([disabled]).is-active:hover,.field.has-addons .control .input:not([disabled]).is-focused:hover,.field.has-addons .control .input:not([disabled]):active:hover,.field.has-addons .control .input:not([disabled]):focus:hover,.field.has-addons .control .select select:not([disabled]).is-active:hover,.field.has-addons .control .select select:not([disabled]).is-focused:hover,.field.has-addons .control .select select:not([disabled]):active:hover,.field.has-addons .control .select select:not([disabled]):focus:hover{z-index:4}.field.has-addons .control.is-expanded{-webkit-box-flex:1;flex-grow:1;flex-shrink:1}.field.has-addons.has-addons-centered{-webkit-box-pack:center;justify-content:center}.field.has-addons.has-addons-right{-webkit-box-pack:end;justify-content:flex-end}.field.has-addons.has-addons-fullwidth .control{-webkit-box-flex:1;flex-grow:1;flex-shrink:0}.field.is-grouped{display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start}.field.is-grouped>.control{flex-shrink:0}.field.is-grouped>.control:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped>.control.is-expanded{-webkit-box-flex:1;flex-grow:1;flex-shrink:1}.field.is-grouped.is-grouped-centered{-webkit-box-pack:center;justify-content:center}.field.is-grouped.is-grouped-right{-webkit-box-pack:end;justify-content:flex-end}.field.is-grouped.is-grouped-multiline{flex-wrap:wrap}.field.is-grouped.is-grouped-multiline>.control:last-child,.field.is-grouped.is-grouped-multiline>.control:not(:last-child){margin-bottom:.75rem}.field.is-grouped.is-grouped-multiline:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline:not(:last-child){margin-bottom:0}@media print,screen and (min-width:769px){.field.is-horizontal{display:-webkit-box;display:flex}}.field-label .label{font-size:inherit}@media screen and (max-width:768px){.field-label{margin-bottom:.5rem}}@media print,screen and (min-width:769px){.field-label{flex-basis:0;-webkit-box-flex:1;flex-grow:1;flex-shrink:0;margin-right:1.5rem;text-align:right}.field-label.is-small{font-size:.75rem;padding-top:.375em}.field-label.is-normal{padding-top:.375em}.field-label.is-medium{font-size:1.25rem;padding-top:.375em}.field-label.is-large{font-size:1.5rem;padding-top:.375em}}.field-body .field .field{margin-bottom:0}@media print,screen and (min-width:769px){.field-body{display:-webkit-box;display:flex;flex-basis:0;-webkit-box-flex:5;flex-grow:5;flex-shrink:1}.field-body .field{margin-bottom:0}.field-body>.field{flex-shrink:1}.field-body>.field:not(.is-narrow){-webkit-box-flex:1;flex-grow:1}.field-body>.field:not(:last-child){margin-right:.75rem}}.control{box-sizing:border-box;clear:both;font-size:1rem;position:relative;text-align:left}.control.has-icons-left .input:focus~.icon,.control.has-icons-left .select:focus~.icon,.control.has-icons-right .input:focus~.icon,.control.has-icons-right .select:focus~.icon{color:#4a4a4a}.control.has-icons-left .input.is-small~.icon,.control.has-icons-left .select.is-small~.icon,.control.has-icons-right .input.is-small~.icon,.control.has-icons-right .select.is-small~.icon{font-size:.75rem}.control.has-icons-left .input.is-medium~.icon,.control.has-icons-left .select.is-medium~.icon,.control.has-icons-right .input.is-medium~.icon,.control.has-icons-right .select.is-medium~.icon{font-size:1.25rem}.control.has-icons-left .input.is-large~.icon,.control.has-icons-left .select.is-large~.icon,.control.has-icons-right .input.is-large~.icon,.control.has-icons-right .select.is-large~.icon{font-size:1.5rem}.control.has-icons-left .icon,.control.has-icons-right .icon{color:#dbdbdb;height:2.5em;pointer-events:none;position:absolute;top:0;width:2.5em;z-index:4}.control.has-icons-left .input,.control.has-icons-left .select select{padding-left:2.5em}.control.has-icons-left .icon.is-left{left:0}.control.has-icons-right .input,.control.has-icons-right .select select{padding-right:2.5em}.control.has-icons-right .icon.is-right{right:0}.control.is-loading:after{position:absolute!important;right:.625em;top:.625em;z-index:4}.control.is-loading.is-small:after{font-size:.75rem}.control.is-loading.is-medium:after{font-size:1.25rem}.control.is-loading.is-large:after{font-size:1.5rem}.breadcrumb{font-size:1rem;white-space:nowrap}.breadcrumb a{-webkit-box-align:center;align-items:center;color:#3273dc;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;padding:0 .75em}.breadcrumb a:hover{color:#363636}.breadcrumb li{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex}.breadcrumb li:first-child a{padding-left:0}.breadcrumb li.is-active a{color:#363636;cursor:default;pointer-events:none}.breadcrumb li+li:before{color:#b5b5b5;content:"\\0002f"}.breadcrumb ol,.breadcrumb ul{-webkit-box-align:start;align-items:flex-start;display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-pack:start;justify-content:flex-start}.breadcrumb .icon:first-child{margin-right:.5em}.breadcrumb .icon:last-child{margin-left:.5em}.breadcrumb.is-centered ol,.breadcrumb.is-centered ul{-webkit-box-pack:center;justify-content:center}.breadcrumb.is-right ol,.breadcrumb.is-right ul{-webkit-box-pack:end;justify-content:flex-end}.breadcrumb.is-small{font-size:.75rem}.breadcrumb.is-medium{font-size:1.25rem}.breadcrumb.is-large{font-size:1.5rem}.breadcrumb.has-arrow-separator li+li:before{content:"\\02192"}.breadcrumb.has-bullet-separator li+li:before{content:"\\02022"}.breadcrumb.has-dot-separator li+li:before{content:"\\000b7"}.breadcrumb.has-succeeds-separator li+li:before{content:"\\0227B"}.card{background-color:#fff;box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.02);color:#4a4a4a;max-width:100%;position:relative}.card-header{background-color:transparent;-webkit-box-align:stretch;align-items:stretch;box-shadow:0 .125em .25em rgba(10,10,10,.1)}.card-header,.card-header-title{display:-webkit-box;display:flex}.card-header-title{-webkit-box-align:center;align-items:center;color:#363636;-webkit-box-flex:1;flex-grow:1;font-weight:700;padding:.75rem 1rem}.card-header-icon,.card-header-title.is-centered{-webkit-box-pack:center;justify-content:center}.card-header-icon{-webkit-box-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:flex;padding:.75rem 1rem}.card-image{display:block;position:relative}.card-content{background-color:transparent;padding:1.5rem}.card-footer{background-color:transparent;border-top:1px solid #ededed;-webkit-box-align:stretch;align-items:stretch}.card-footer,.card-footer-item{display:-webkit-box;display:flex}.card-footer-item{-webkit-box-align:center;align-items:center;flex-basis:0;-webkit-box-flex:1;flex-grow:1;flex-shrink:0;-webkit-box-pack:center;justify-content:center;padding:.75rem}.card-footer-item:not(:last-child){border-right:1px solid #ededed}.card .media:not(:last-child){margin-bottom:1.5rem}.dropdown{display:-webkit-inline-box;display:inline-flex;position:relative;vertical-align:top}.dropdown.is-active .dropdown-menu,.dropdown.is-hoverable:hover .dropdown-menu{display:block}.dropdown.is-right .dropdown-menu{left:auto;right:0}.dropdown.is-up .dropdown-menu{bottom:100%;padding-bottom:4px;padding-top:0;top:auto}.dropdown-menu{display:none;left:0;min-width:12rem;padding-top:4px;position:absolute;top:100%;z-index:20}.dropdown-content{background-color:#fff;border-radius:4px;box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.02);padding-bottom:.5rem;padding-top:.5rem}.dropdown-item{color:#4a4a4a;display:block;font-size:.875rem;line-height:1.5;padding:.375rem 1rem;position:relative}a.dropdown-item,button.dropdown-item{padding-right:3rem;text-align:left;white-space:nowrap;width:100%}a.dropdown-item:hover,button.dropdown-item:hover{background-color:#f5f5f5;color:#0a0a0a}a.dropdown-item.is-active,button.dropdown-item.is-active{background-color:#3273dc;color:#fff}.dropdown-divider{background-color:#ededed;border:none;display:block;height:1px;margin:.5rem 0}.level{-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.level code{border-radius:4px}.level img{display:inline-block;vertical-align:top}.level.is-mobile,.level.is-mobile .level-left,.level.is-mobile .level-right{display:-webkit-box;display:flex}.level.is-mobile .level-left+.level-right{margin-top:0}.level.is-mobile .level-item:not(:last-child){margin-bottom:0;margin-right:.75rem}.level.is-mobile .level-item:not(.is-narrow){-webkit-box-flex:1;flex-grow:1}@media print,screen and (min-width:769px){.level{display:-webkit-box;display:flex}.level>.level-item:not(.is-narrow){-webkit-box-flex:1;flex-grow:1}}.level-item{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;flex-basis:auto;-webkit-box-flex:0;flex-grow:0;flex-shrink:0;-webkit-box-pack:center;justify-content:center}.level-item .subtitle,.level-item .title{margin-bottom:0}@media screen and (max-width:768px){.level-item:not(:last-child){margin-bottom:.75rem}}.level-left,.level-right{flex-basis:auto;-webkit-box-flex:0;flex-grow:0;flex-shrink:0}.level-left .level-item.is-flexible,.level-right .level-item.is-flexible{-webkit-box-flex:1;flex-grow:1}@media print,screen and (min-width:769px){.level-left .level-item:not(:last-child),.level-right .level-item:not(:last-child){margin-right:.75rem}}.level-left{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}@media screen and (max-width:768px){.level-left+.level-right{margin-top:1.5rem}}@media print,screen and (min-width:769px){.level-left{display:-webkit-box;display:flex}}.level-right{-webkit-box-align:center;align-items:center;-webkit-box-pack:end;justify-content:flex-end}@media print,screen and (min-width:769px){.level-right{display:-webkit-box;display:flex}}.list{background-color:#fff;border-radius:4px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}.list-item{display:block;padding:.5em 1em}.list-item:not(a){color:#4a4a4a}.list-item:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.list-item:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.list-item:not(:last-child){border-bottom:1px solid #dbdbdb}.list-item.is-active{background-color:#3273dc;color:#fff}a.list-item{background-color:#f5f5f5;cursor:pointer}.media{-webkit-box-align:start;align-items:flex-start;display:-webkit-box;display:flex;text-align:left}.media .content:not(:last-child){margin-bottom:.75rem}.media .media{border-top:1px solid hsla(0,0%,85.9%,.5);display:-webkit-box;display:flex;padding-top:.75rem}.media .media .content:not(:last-child),.media .media .control:not(:last-child){margin-bottom:.5rem}.media .media .media{padding-top:.5rem}.media .media .media+.media{margin-top:.5rem}.media+.media{border-top:1px solid hsla(0,0%,85.9%,.5);margin-top:1rem;padding-top:1rem}.media.is-large+.media{margin-top:1.5rem;padding-top:1.5rem}.media-left,.media-right{flex-basis:auto;-webkit-box-flex:0;flex-grow:0;flex-shrink:0}.media-left{margin-right:1rem}.media-right{margin-left:1rem}.media-content{flex-basis:auto;-webkit-box-flex:1;flex-grow:1;flex-shrink:1;text-align:left}@media screen and (max-width:768px){.media-content{overflow-x:auto}}.menu{font-size:1rem}.menu.is-small{font-size:.75rem}.menu.is-medium{font-size:1.25rem}.menu.is-large{font-size:1.5rem}.menu-list{line-height:1.25}.menu-list a{border-radius:2px;color:#4a4a4a;display:block;padding:.5em .75em}.menu-list a:hover{background-color:#f5f5f5;color:#363636}.menu-list a.is-active{background-color:#3273dc;color:#fff}.menu-list li ul{border-left:1px solid #dbdbdb;margin:.75em;padding-left:.75em}.menu-label{color:#7a7a7a;font-size:.75em;letter-spacing:.1em;text-transform:uppercase}.menu-label:not(:first-child){margin-top:1em}.menu-label:not(:last-child){margin-bottom:1em}.message{background-color:#f5f5f5;border-radius:4px;font-size:1rem}.message strong{color:currentColor}.message a:not(.button):not(.tag):not(.dropdown-item){color:currentColor;text-decoration:underline}.message.is-small{font-size:.75rem}.message.is-medium{font-size:1.25rem}.message.is-large{font-size:1.5rem}.message.is-white{background-color:#fff}.message.is-white .message-header{background-color:#fff;color:#0a0a0a}.message.is-white .message-body{border-color:#fff}.message.is-black{background-color:#fafafa}.message.is-black .message-header{background-color:#0a0a0a;color:#fff}.message.is-black .message-body{border-color:#0a0a0a}.message.is-light{background-color:#fafafa}.message.is-light .message-header{background-color:#f5f5f5;color:rgba(0,0,0,.7)}.message.is-light .message-body{border-color:#f5f5f5}.message.is-dark{background-color:#fafafa}.message.is-dark .message-header{background-color:#363636;color:#fff}.message.is-dark .message-body{border-color:#363636}.message.is-primary{background-color:#ebfffc}.message.is-primary .message-header{background-color:#00d1b2;color:#fff}.message.is-primary .message-body{border-color:#00d1b2;color:#00947e}.message.is-link{background-color:#eef3fc}.message.is-link .message-header{background-color:#3273dc;color:#fff}.message.is-link .message-body{border-color:#3273dc;color:#2160c4}.message.is-info{background-color:#eef6fc}.message.is-info .message-header{background-color:#3298dc;color:#fff}.message.is-info .message-body{border-color:#3298dc;color:#1d72aa}.message.is-success{background-color:#effaf3}.message.is-success .message-header{background-color:#48c774;color:#fff}.message.is-success .message-body{border-color:#48c774;color:#257942}.message.is-warning{background-color:#fffbeb}.message.is-warning .message-header{background-color:#ffdd57;color:rgba(0,0,0,.7)}.message.is-warning .message-body{border-color:#ffdd57;color:#947600}.message.is-danger{background-color:#feecf0}.message.is-danger .message-header{background-color:#f14668;color:#fff}.message.is-danger .message-body{border-color:#f14668;color:#cc0f35}.message-header{-webkit-box-align:center;align-items:center;background-color:#4a4a4a;border-radius:4px 4px 0 0;color:#fff;display:-webkit-box;display:flex;font-weight:700;-webkit-box-pack:justify;justify-content:space-between;line-height:1.25;padding:.75em 1em;position:relative}.message-header .delete{-webkit-box-flex:0;flex-grow:0;flex-shrink:0;margin-left:.75em}.message-header+.message-body{border-width:0;border-top-left-radius:0;border-top-right-radius:0}.message-body{border-radius:4px;border:solid #dbdbdb;border-width:0 0 0 4px;color:#4a4a4a;padding:1.25em 1.5em}.message-body code,.message-body pre{background-color:#fff}.message-body pre code{background-color:transparent}.modal{-webkit-box-align:center;align-items:center;display:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;overflow:hidden;position:fixed;z-index:40}.modal.is-active{display:-webkit-box;display:flex}.modal-background{background-color:rgba(10,10,10,.86)}.modal-card,.modal-content{margin:0 20px;max-height:calc(100vh - 160px);overflow:auto;position:relative;width:100%}@media print,screen and (min-width:769px){.modal-card,.modal-content{margin:0 auto;max-height:calc(100vh - 40px);width:640px}}.modal-close{background:none;height:40px;position:fixed;right:20px;top:20px;width:40px}.modal-card{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;max-height:calc(100vh - 40px);overflow:hidden;-ms-overflow-y:visible}.modal-card-foot,.modal-card-head{-webkit-box-align:center;align-items:center;background-color:#f5f5f5;display:-webkit-box;display:flex;flex-shrink:0;-webkit-box-pack:start;justify-content:flex-start;padding:20px;position:relative}.modal-card-head{border-bottom:1px solid #dbdbdb;border-top-left-radius:6px;border-top-right-radius:6px}.modal-card-title{color:#363636;-webkit-box-flex:1;flex-grow:1;flex-shrink:0;font-size:1.5rem;line-height:1}.modal-card-foot{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top:1px solid #dbdbdb}.modal-card-foot .button:not(:last-child){margin-right:.5em}.modal-card-body{-webkit-overflow-scrolling:touch;background-color:#fff;-webkit-box-flex:1;flex-grow:1;flex-shrink:1;overflow:auto;padding:20px}.navbar{background-color:#fff;min-height:3.25rem;position:relative;z-index:30}.navbar.is-white{background-color:#fff;color:#0a0a0a}.navbar.is-white .navbar-brand .navbar-link,.navbar.is-white .navbar-brand>.navbar-item{color:#0a0a0a}.navbar.is-white .navbar-brand .navbar-link.is-active,.navbar.is-white .navbar-brand .navbar-link:focus,.navbar.is-white .navbar-brand .navbar-link:hover,.navbar.is-white .navbar-brand>a.navbar-item.is-active,.navbar.is-white .navbar-brand>a.navbar-item:focus,.navbar.is-white .navbar-brand>a.navbar-item:hover{background-color:#f2f2f2;color:#0a0a0a}.navbar.is-white .navbar-brand .navbar-link:after{border-color:#0a0a0a}.navbar.is-white .navbar-burger{color:#0a0a0a}@media screen and (min-width:1024px){.navbar.is-white .navbar-end .navbar-link,.navbar.is-white .navbar-end>.navbar-item,.navbar.is-white .navbar-start .navbar-link,.navbar.is-white .navbar-start>.navbar-item{color:#0a0a0a}.navbar.is-white .navbar-end .navbar-link.is-active,.navbar.is-white .navbar-end .navbar-link:focus,.navbar.is-white .navbar-end .navbar-link:hover,.navbar.is-white .navbar-end>a.navbar-item.is-active,.navbar.is-white .navbar-end>a.navbar-item:focus,.navbar.is-white .navbar-end>a.navbar-item:hover,.navbar.is-white .navbar-start .navbar-link.is-active,.navbar.is-white .navbar-start .navbar-link:focus,.navbar.is-white .navbar-start .navbar-link:hover,.navbar.is-white .navbar-start>a.navbar-item.is-active,.navbar.is-white .navbar-start>a.navbar-item:focus,.navbar.is-white .navbar-start>a.navbar-item:hover{background-color:#f2f2f2;color:#0a0a0a}.navbar.is-white .navbar-end .navbar-link:after,.navbar.is-white .navbar-start .navbar-link:after{border-color:#0a0a0a}.navbar.is-white .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-white .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-white .navbar-item.has-dropdown:hover .navbar-link{background-color:#f2f2f2;color:#0a0a0a}.navbar.is-white .navbar-dropdown a.navbar-item.is-active{background-color:#fff;color:#0a0a0a}}.navbar.is-black{background-color:#0a0a0a;color:#fff}.navbar.is-black .navbar-brand .navbar-link,.navbar.is-black .navbar-brand>.navbar-item{color:#fff}.navbar.is-black .navbar-brand .navbar-link.is-active,.navbar.is-black .navbar-brand .navbar-link:focus,.navbar.is-black .navbar-brand .navbar-link:hover,.navbar.is-black .navbar-brand>a.navbar-item.is-active,.navbar.is-black .navbar-brand>a.navbar-item:focus,.navbar.is-black .navbar-brand>a.navbar-item:hover{background-color:#000;color:#fff}.navbar.is-black .navbar-brand .navbar-link:after{border-color:#fff}.navbar.is-black .navbar-burger{color:#fff}@media screen and (min-width:1024px){.navbar.is-black .navbar-end .navbar-link,.navbar.is-black .navbar-end>.navbar-item,.navbar.is-black .navbar-start .navbar-link,.navbar.is-black .navbar-start>.navbar-item{color:#fff}.navbar.is-black .navbar-end .navbar-link.is-active,.navbar.is-black .navbar-end .navbar-link:focus,.navbar.is-black .navbar-end .navbar-link:hover,.navbar.is-black .navbar-end>a.navbar-item.is-active,.navbar.is-black .navbar-end>a.navbar-item:focus,.navbar.is-black .navbar-end>a.navbar-item:hover,.navbar.is-black .navbar-start .navbar-link.is-active,.navbar.is-black .navbar-start .navbar-link:focus,.navbar.is-black .navbar-start .navbar-link:hover,.navbar.is-black .navbar-start>a.navbar-item.is-active,.navbar.is-black .navbar-start>a.navbar-item:focus,.navbar.is-black .navbar-start>a.navbar-item:hover{background-color:#000;color:#fff}.navbar.is-black .navbar-end .navbar-link:after,.navbar.is-black .navbar-start .navbar-link:after{border-color:#fff}.navbar.is-black .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-black .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-black .navbar-item.has-dropdown:hover .navbar-link{background-color:#000;color:#fff}.navbar.is-black .navbar-dropdown a.navbar-item.is-active{background-color:#0a0a0a;color:#fff}}.navbar.is-light{background-color:#f5f5f5}.navbar.is-light,.navbar.is-light .navbar-brand .navbar-link,.navbar.is-light .navbar-brand>.navbar-item{color:rgba(0,0,0,.7)}.navbar.is-light .navbar-brand .navbar-link.is-active,.navbar.is-light .navbar-brand .navbar-link:focus,.navbar.is-light .navbar-brand .navbar-link:hover,.navbar.is-light .navbar-brand>a.navbar-item.is-active,.navbar.is-light .navbar-brand>a.navbar-item:focus,.navbar.is-light .navbar-brand>a.navbar-item:hover{background-color:#e8e8e8;color:rgba(0,0,0,.7)}.navbar.is-light .navbar-brand .navbar-link:after{border-color:rgba(0,0,0,.7)}.navbar.is-light .navbar-burger{color:rgba(0,0,0,.7)}@media screen and (min-width:1024px){.navbar.is-light .navbar-end .navbar-link,.navbar.is-light .navbar-end>.navbar-item,.navbar.is-light .navbar-start .navbar-link,.navbar.is-light .navbar-start>.navbar-item{color:rgba(0,0,0,.7)}.navbar.is-light .navbar-end .navbar-link.is-active,.navbar.is-light .navbar-end .navbar-link:focus,.navbar.is-light .navbar-end .navbar-link:hover,.navbar.is-light .navbar-end>a.navbar-item.is-active,.navbar.is-light .navbar-end>a.navbar-item:focus,.navbar.is-light .navbar-end>a.navbar-item:hover,.navbar.is-light .navbar-start .navbar-link.is-active,.navbar.is-light .navbar-start .navbar-link:focus,.navbar.is-light .navbar-start .navbar-link:hover,.navbar.is-light .navbar-start>a.navbar-item.is-active,.navbar.is-light .navbar-start>a.navbar-item:focus,.navbar.is-light .navbar-start>a.navbar-item:hover{background-color:#e8e8e8;color:rgba(0,0,0,.7)}.navbar.is-light .navbar-end .navbar-link:after,.navbar.is-light .navbar-start .navbar-link:after{border-color:rgba(0,0,0,.7)}.navbar.is-light .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-light .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-light .navbar-item.has-dropdown:hover .navbar-link{background-color:#e8e8e8;color:rgba(0,0,0,.7)}.navbar.is-light .navbar-dropdown a.navbar-item.is-active{background-color:#f5f5f5;color:rgba(0,0,0,.7)}}.navbar.is-dark{background-color:#363636;color:#fff}.navbar.is-dark .navbar-brand .navbar-link,.navbar.is-dark .navbar-brand>.navbar-item{color:#fff}.navbar.is-dark .navbar-brand .navbar-link.is-active,.navbar.is-dark .navbar-brand .navbar-link:focus,.navbar.is-dark .navbar-brand .navbar-link:hover,.navbar.is-dark .navbar-brand>a.navbar-item.is-active,.navbar.is-dark .navbar-brand>a.navbar-item:focus,.navbar.is-dark .navbar-brand>a.navbar-item:hover{background-color:#292929;color:#fff}.navbar.is-dark .navbar-brand .navbar-link:after{border-color:#fff}.navbar.is-dark .navbar-burger{color:#fff}@media screen and (min-width:1024px){.navbar.is-dark .navbar-end .navbar-link,.navbar.is-dark .navbar-end>.navbar-item,.navbar.is-dark .navbar-start .navbar-link,.navbar.is-dark .navbar-start>.navbar-item{color:#fff}.navbar.is-dark .navbar-end .navbar-link.is-active,.navbar.is-dark .navbar-end .navbar-link:focus,.navbar.is-dark .navbar-end .navbar-link:hover,.navbar.is-dark .navbar-end>a.navbar-item.is-active,.navbar.is-dark .navbar-end>a.navbar-item:focus,.navbar.is-dark .navbar-end>a.navbar-item:hover,.navbar.is-dark .navbar-start .navbar-link.is-active,.navbar.is-dark .navbar-start .navbar-link:focus,.navbar.is-dark .navbar-start .navbar-link:hover,.navbar.is-dark .navbar-start>a.navbar-item.is-active,.navbar.is-dark .navbar-start>a.navbar-item:focus,.navbar.is-dark .navbar-start>a.navbar-item:hover{background-color:#292929;color:#fff}.navbar.is-dark .navbar-end .navbar-link:after,.navbar.is-dark .navbar-start .navbar-link:after{border-color:#fff}.navbar.is-dark .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-dark .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-dark .navbar-item.has-dropdown:hover .navbar-link{background-color:#292929;color:#fff}.navbar.is-dark .navbar-dropdown a.navbar-item.is-active{background-color:#363636;color:#fff}}.navbar.is-primary{background-color:#00d1b2;color:#fff}.navbar.is-primary .navbar-brand .navbar-link,.navbar.is-primary .navbar-brand>.navbar-item{color:#fff}.navbar.is-primary .navbar-brand .navbar-link.is-active,.navbar.is-primary .navbar-brand .navbar-link:focus,.navbar.is-primary .navbar-brand .navbar-link:hover,.navbar.is-primary .navbar-brand>a.navbar-item.is-active,.navbar.is-primary .navbar-brand>a.navbar-item:focus,.navbar.is-primary .navbar-brand>a.navbar-item:hover{background-color:#00b89c;color:#fff}.navbar.is-primary .navbar-brand .navbar-link:after{border-color:#fff}.navbar.is-primary .navbar-burger{color:#fff}@media screen and (min-width:1024px){.navbar.is-primary .navbar-end .navbar-link,.navbar.is-primary .navbar-end>.navbar-item,.navbar.is-primary .navbar-start .navbar-link,.navbar.is-primary .navbar-start>.navbar-item{color:#fff}.navbar.is-primary .navbar-end .navbar-link.is-active,.navbar.is-primary .navbar-end .navbar-link:focus,.navbar.is-primary .navbar-end .navbar-link:hover,.navbar.is-primary .navbar-end>a.navbar-item.is-active,.navbar.is-primary .navbar-end>a.navbar-item:focus,.navbar.is-primary .navbar-end>a.navbar-item:hover,.navbar.is-primary .navbar-start .navbar-link.is-active,.navbar.is-primary .navbar-start .navbar-link:focus,.navbar.is-primary .navbar-start .navbar-link:hover,.navbar.is-primary .navbar-start>a.navbar-item.is-active,.navbar.is-primary .navbar-start>a.navbar-item:focus,.navbar.is-primary .navbar-start>a.navbar-item:hover{background-color:#00b89c;color:#fff}.navbar.is-primary .navbar-end .navbar-link:after,.navbar.is-primary .navbar-start .navbar-link:after{border-color:#fff}.navbar.is-primary .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-primary .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-primary .navbar-item.has-dropdown:hover .navbar-link{background-color:#00b89c;color:#fff}.navbar.is-primary .navbar-dropdown a.navbar-item.is-active{background-color:#00d1b2;color:#fff}}.navbar.is-link{background-color:#3273dc;color:#fff}.navbar.is-link .navbar-brand .navbar-link,.navbar.is-link .navbar-brand>.navbar-item{color:#fff}.navbar.is-link .navbar-brand .navbar-link.is-active,.navbar.is-link .navbar-brand .navbar-link:focus,.navbar.is-link .navbar-brand .navbar-link:hover,.navbar.is-link .navbar-brand>a.navbar-item.is-active,.navbar.is-link .navbar-brand>a.navbar-item:focus,.navbar.is-link .navbar-brand>a.navbar-item:hover{background-color:#2366d1;color:#fff}.navbar.is-link .navbar-brand .navbar-link:after{border-color:#fff}.navbar.is-link .navbar-burger{color:#fff}@media screen and (min-width:1024px){.navbar.is-link .navbar-end .navbar-link,.navbar.is-link .navbar-end>.navbar-item,.navbar.is-link .navbar-start .navbar-link,.navbar.is-link .navbar-start>.navbar-item{color:#fff}.navbar.is-link .navbar-end .navbar-link.is-active,.navbar.is-link .navbar-end .navbar-link:focus,.navbar.is-link .navbar-end .navbar-link:hover,.navbar.is-link .navbar-end>a.navbar-item.is-active,.navbar.is-link .navbar-end>a.navbar-item:focus,.navbar.is-link .navbar-end>a.navbar-item:hover,.navbar.is-link .navbar-start .navbar-link.is-active,.navbar.is-link .navbar-start .navbar-link:focus,.navbar.is-link .navbar-start .navbar-link:hover,.navbar.is-link .navbar-start>a.navbar-item.is-active,.navbar.is-link .navbar-start>a.navbar-item:focus,.navbar.is-link .navbar-start>a.navbar-item:hover{background-color:#2366d1;color:#fff}.navbar.is-link .navbar-end .navbar-link:after,.navbar.is-link .navbar-start .navbar-link:after{border-color:#fff}.navbar.is-link .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-link .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-link .navbar-item.has-dropdown:hover .navbar-link{background-color:#2366d1;color:#fff}.navbar.is-link .navbar-dropdown a.navbar-item.is-active{background-color:#3273dc;color:#fff}}.navbar.is-info{background-color:#3298dc;color:#fff}.navbar.is-info .navbar-brand .navbar-link,.navbar.is-info .navbar-brand>.navbar-item{color:#fff}.navbar.is-info .navbar-brand .navbar-link.is-active,.navbar.is-info .navbar-brand .navbar-link:focus,.navbar.is-info .navbar-brand .navbar-link:hover,.navbar.is-info .navbar-brand>a.navbar-item.is-active,.navbar.is-info .navbar-brand>a.navbar-item:focus,.navbar.is-info .navbar-brand>a.navbar-item:hover{background-color:#238cd1;color:#fff}.navbar.is-info .navbar-brand .navbar-link:after{border-color:#fff}.navbar.is-info .navbar-burger{color:#fff}@media screen and (min-width:1024px){.navbar.is-info .navbar-end .navbar-link,.navbar.is-info .navbar-end>.navbar-item,.navbar.is-info .navbar-start .navbar-link,.navbar.is-info .navbar-start>.navbar-item{color:#fff}.navbar.is-info .navbar-end .navbar-link.is-active,.navbar.is-info .navbar-end .navbar-link:focus,.navbar.is-info .navbar-end .navbar-link:hover,.navbar.is-info .navbar-end>a.navbar-item.is-active,.navbar.is-info .navbar-end>a.navbar-item:focus,.navbar.is-info .navbar-end>a.navbar-item:hover,.navbar.is-info .navbar-start .navbar-link.is-active,.navbar.is-info .navbar-start .navbar-link:focus,.navbar.is-info .navbar-start .navbar-link:hover,.navbar.is-info .navbar-start>a.navbar-item.is-active,.navbar.is-info .navbar-start>a.navbar-item:focus,.navbar.is-info .navbar-start>a.navbar-item:hover{background-color:#238cd1;color:#fff}.navbar.is-info .navbar-end .navbar-link:after,.navbar.is-info .navbar-start .navbar-link:after{border-color:#fff}.navbar.is-info .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-info .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-info .navbar-item.has-dropdown:hover .navbar-link{background-color:#238cd1;color:#fff}.navbar.is-info .navbar-dropdown a.navbar-item.is-active{background-color:#3298dc;color:#fff}}.navbar.is-success{background-color:#48c774;color:#fff}.navbar.is-success .navbar-brand .navbar-link,.navbar.is-success .navbar-brand>.navbar-item{color:#fff}.navbar.is-success .navbar-brand .navbar-link.is-active,.navbar.is-success .navbar-brand .navbar-link:focus,.navbar.is-success .navbar-brand .navbar-link:hover,.navbar.is-success .navbar-brand>a.navbar-item.is-active,.navbar.is-success .navbar-brand>a.navbar-item:focus,.navbar.is-success .navbar-brand>a.navbar-item:hover{background-color:#3abb67;color:#fff}.navbar.is-success .navbar-brand .navbar-link:after{border-color:#fff}.navbar.is-success .navbar-burger{color:#fff}@media screen and (min-width:1024px){.navbar.is-success .navbar-end .navbar-link,.navbar.is-success .navbar-end>.navbar-item,.navbar.is-success .navbar-start .navbar-link,.navbar.is-success .navbar-start>.navbar-item{color:#fff}.navbar.is-success .navbar-end .navbar-link.is-active,.navbar.is-success .navbar-end .navbar-link:focus,.navbar.is-success .navbar-end .navbar-link:hover,.navbar.is-success .navbar-end>a.navbar-item.is-active,.navbar.is-success .navbar-end>a.navbar-item:focus,.navbar.is-success .navbar-end>a.navbar-item:hover,.navbar.is-success .navbar-start .navbar-link.is-active,.navbar.is-success .navbar-start .navbar-link:focus,.navbar.is-success .navbar-start .navbar-link:hover,.navbar.is-success .navbar-start>a.navbar-item.is-active,.navbar.is-success .navbar-start>a.navbar-item:focus,.navbar.is-success .navbar-start>a.navbar-item:hover{background-color:#3abb67;color:#fff}.navbar.is-success .navbar-end .navbar-link:after,.navbar.is-success .navbar-start .navbar-link:after{border-color:#fff}.navbar.is-success .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-success .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-success .navbar-item.has-dropdown:hover .navbar-link{background-color:#3abb67;color:#fff}.navbar.is-success .navbar-dropdown a.navbar-item.is-active{background-color:#48c774;color:#fff}}.navbar.is-warning{background-color:#ffdd57}.navbar.is-warning,.navbar.is-warning .navbar-brand .navbar-link,.navbar.is-warning .navbar-brand>.navbar-item{color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-brand .navbar-link.is-active,.navbar.is-warning .navbar-brand .navbar-link:focus,.navbar.is-warning .navbar-brand .navbar-link:hover,.navbar.is-warning .navbar-brand>a.navbar-item.is-active,.navbar.is-warning .navbar-brand>a.navbar-item:focus,.navbar.is-warning .navbar-brand>a.navbar-item:hover{background-color:#ffd83d;color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-brand .navbar-link:after{border-color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-burger{color:rgba(0,0,0,.7)}@media screen and (min-width:1024px){.navbar.is-warning .navbar-end .navbar-link,.navbar.is-warning .navbar-end>.navbar-item,.navbar.is-warning .navbar-start .navbar-link,.navbar.is-warning .navbar-start>.navbar-item{color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-end .navbar-link.is-active,.navbar.is-warning .navbar-end .navbar-link:focus,.navbar.is-warning .navbar-end .navbar-link:hover,.navbar.is-warning .navbar-end>a.navbar-item.is-active,.navbar.is-warning .navbar-end>a.navbar-item:focus,.navbar.is-warning .navbar-end>a.navbar-item:hover,.navbar.is-warning .navbar-start .navbar-link.is-active,.navbar.is-warning .navbar-start .navbar-link:focus,.navbar.is-warning .navbar-start .navbar-link:hover,.navbar.is-warning .navbar-start>a.navbar-item.is-active,.navbar.is-warning .navbar-start>a.navbar-item:focus,.navbar.is-warning .navbar-start>a.navbar-item:hover{background-color:#ffd83d;color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-end .navbar-link:after,.navbar.is-warning .navbar-start .navbar-link:after{border-color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-warning .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-warning .navbar-item.has-dropdown:hover .navbar-link{background-color:#ffd83d;color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-dropdown a.navbar-item.is-active{background-color:#ffdd57;color:rgba(0,0,0,.7)}}.navbar.is-danger{background-color:#f14668;color:#fff}.navbar.is-danger .navbar-brand .navbar-link,.navbar.is-danger .navbar-brand>.navbar-item{color:#fff}.navbar.is-danger .navbar-brand .navbar-link.is-active,.navbar.is-danger .navbar-brand .navbar-link:focus,.navbar.is-danger .navbar-brand .navbar-link:hover,.navbar.is-danger .navbar-brand>a.navbar-item.is-active,.navbar.is-danger .navbar-brand>a.navbar-item:focus,.navbar.is-danger .navbar-brand>a.navbar-item:hover{background-color:#ef2e55;color:#fff}.navbar.is-danger .navbar-brand .navbar-link:after{border-color:#fff}.navbar.is-danger .navbar-burger{color:#fff}@media screen and (min-width:1024px){.navbar.is-danger .navbar-end .navbar-link,.navbar.is-danger .navbar-end>.navbar-item,.navbar.is-danger .navbar-start .navbar-link,.navbar.is-danger .navbar-start>.navbar-item{color:#fff}.navbar.is-danger .navbar-end .navbar-link.is-active,.navbar.is-danger .navbar-end .navbar-link:focus,.navbar.is-danger .navbar-end .navbar-link:hover,.navbar.is-danger .navbar-end>a.navbar-item.is-active,.navbar.is-danger .navbar-end>a.navbar-item:focus,.navbar.is-danger .navbar-end>a.navbar-item:hover,.navbar.is-danger .navbar-start .navbar-link.is-active,.navbar.is-danger .navbar-start .navbar-link:focus,.navbar.is-danger .navbar-start .navbar-link:hover,.navbar.is-danger .navbar-start>a.navbar-item.is-active,.navbar.is-danger .navbar-start>a.navbar-item:focus,.navbar.is-danger .navbar-start>a.navbar-item:hover{background-color:#ef2e55;color:#fff}.navbar.is-danger .navbar-end .navbar-link:after,.navbar.is-danger .navbar-start .navbar-link:after{border-color:#fff}.navbar.is-danger .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-danger .navbar-item.has-dropdown:focus .navbar-link,.navbar.is-danger .navbar-item.has-dropdown:hover .navbar-link{background-color:#ef2e55;color:#fff}.navbar.is-danger .navbar-dropdown a.navbar-item.is-active{background-color:#f14668;color:#fff}}.navbar>.container{-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:flex;min-height:3.25rem;width:100%}.navbar.has-shadow{box-shadow:0 2px 0 0 #f5f5f5}.navbar.is-fixed-bottom,.navbar.is-fixed-top{left:0;position:fixed;right:0;z-index:30}.navbar.is-fixed-bottom{bottom:0}.navbar.is-fixed-bottom.has-shadow{box-shadow:0 -2px 0 0 #f5f5f5}.navbar.is-fixed-top{top:0}body.has-navbar-fixed-top,html.has-navbar-fixed-top{padding-top:3.25rem}body.has-navbar-fixed-bottom,html.has-navbar-fixed-bottom{padding-bottom:3.25rem}.navbar-brand,.navbar-tabs{-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:flex;flex-shrink:0;min-height:3.25rem}.navbar-brand a.navbar-item:focus,.navbar-brand a.navbar-item:hover{background-color:transparent}.navbar-tabs{-webkit-overflow-scrolling:touch;max-width:100vw;overflow-x:auto;overflow-y:hidden}.navbar-burger{color:#4a4a4a;cursor:pointer;display:block;height:3.25rem;position:relative;width:3.25rem;margin-left:auto}.navbar-burger span{background-color:currentColor;display:block;height:1px;left:calc(50% - 8px);position:absolute;-webkit-transform-origin:center;transform-origin:center;-webkit-transition-duration:86ms;transition-duration:86ms;-webkit-transition-property:background-color,opacity,-webkit-transform;transition-property:background-color,opacity,-webkit-transform;transition-property:background-color,opacity,transform;transition-property:background-color,opacity,transform,-webkit-transform;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;width:16px}.navbar-burger span:first-child{top:calc(50% - 6px)}.navbar-burger span:nth-child(2){top:calc(50% - 1px)}.navbar-burger span:nth-child(3){top:calc(50% + 4px)}.navbar-burger:hover{background-color:rgba(0,0,0,.05)}.navbar-burger.is-active span:first-child{-webkit-transform:translateY(5px) rotate(45deg);transform:translateY(5px) rotate(45deg)}.navbar-burger.is-active span:nth-child(2){opacity:0}.navbar-burger.is-active span:nth-child(3){-webkit-transform:translateY(-5px) rotate(-45deg);transform:translateY(-5px) rotate(-45deg)}.navbar-menu{display:none}.navbar-item,.navbar-link{color:#4a4a4a;display:block;line-height:1.5;padding:.5rem .75rem;position:relative}.navbar-item .icon:only-child,.navbar-link .icon:only-child{margin-left:-.25rem;margin-right:-.25rem}.navbar-link,a.navbar-item{cursor:pointer}.navbar-link.is-active,.navbar-link:focus,.navbar-link:hover,.navbar-link[focus-within],a.navbar-item.is-active,a.navbar-item:focus,a.navbar-item:hover,a.navbar-item[focus-within]{background-color:#fafafa;color:#3273dc}.navbar-link.is-active,.navbar-link:focus,.navbar-link:focus-within,.navbar-link:hover,a.navbar-item.is-active,a.navbar-item:focus,a.navbar-item:focus-within,a.navbar-item:hover{background-color:#fafafa;color:#3273dc}.navbar-item{display:block;-webkit-box-flex:0;flex-grow:0;flex-shrink:0}.navbar-item img{max-height:1.75rem}.navbar-item.has-dropdown{padding:0}.navbar-item.is-expanded{-webkit-box-flex:1;flex-grow:1;flex-shrink:1}.navbar-item.is-tab{border-bottom:1px solid transparent;min-height:3.25rem;padding-bottom:calc(.5rem - 1px)}.navbar-item.is-tab:focus,.navbar-item.is-tab:hover{background-color:transparent;border-bottom-color:#3273dc}.navbar-item.is-tab.is-active{background-color:transparent;border-bottom:3px solid #3273dc;color:#3273dc;padding-bottom:calc(.5rem - 3px)}.navbar-content{-webkit-box-flex:1;flex-grow:1;flex-shrink:1}.navbar-link:not(.is-arrowless){padding-right:2.5em}.navbar-link:not(.is-arrowless):after{border-color:#3273dc;margin-top:-.375em;right:1.125em}.navbar-dropdown{font-size:.875rem;padding-bottom:.5rem;padding-top:.5rem}.navbar-dropdown .navbar-item{padding-left:1.5rem;padding-right:1.5rem}.navbar-divider{background-color:#f5f5f5;border:none;display:none;height:2px;margin:.5rem 0}@media screen and (max-width:1023px){.navbar>.container{display:block}.navbar-brand .navbar-item,.navbar-tabs .navbar-item{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex}.navbar-link:after{display:none}.navbar-menu{background-color:#fff;box-shadow:0 8px 16px rgba(10,10,10,.1);padding:.5rem 0}.navbar-menu.is-active{display:block}.navbar.is-fixed-bottom-touch,.navbar.is-fixed-top-touch{left:0;position:fixed;right:0;z-index:30}.navbar.is-fixed-bottom-touch{bottom:0}.navbar.is-fixed-bottom-touch.has-shadow{box-shadow:0 -2px 3px rgba(10,10,10,.1)}.navbar.is-fixed-top-touch{top:0}.navbar.is-fixed-top-touch .navbar-menu,.navbar.is-fixed-top .navbar-menu{-webkit-overflow-scrolling:touch;max-height:calc(100vh - 3.25rem);overflow:auto}body.has-navbar-fixed-top-touch,html.has-navbar-fixed-top-touch{padding-top:3.25rem}body.has-navbar-fixed-bottom-touch,html.has-navbar-fixed-bottom-touch{padding-bottom:3.25rem}}@media screen and (min-width:1024px){.navbar,.navbar-end,.navbar-menu,.navbar-start{-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:flex}.navbar{min-height:3.25rem}.navbar.is-spaced{padding:1rem 2rem}.navbar.is-spaced .navbar-end,.navbar.is-spaced .navbar-start{-webkit-box-align:center;align-items:center}.navbar.is-spaced .navbar-link,.navbar.is-spaced a.navbar-item{border-radius:4px}.navbar.is-transparent .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-transparent .navbar-item.has-dropdown.is-hoverable:focus .navbar-link,.navbar.is-transparent .navbar-item.has-dropdown.is-hoverable:hover .navbar-link,.navbar.is-transparent .navbar-item.has-dropdown.is-hoverable[focus-within] .navbar-link,.navbar.is-transparent .navbar-link.is-active,.navbar.is-transparent .navbar-link:focus,.navbar.is-transparent .navbar-link:hover,.navbar.is-transparent a.navbar-item.is-active,.navbar.is-transparent a.navbar-item:focus,.navbar.is-transparent a.navbar-item:hover{background-color:transparent!important}.navbar.is-transparent .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-transparent .navbar-item.has-dropdown.is-hoverable:focus-within .navbar-link,.navbar.is-transparent .navbar-item.has-dropdown.is-hoverable:focus .navbar-link,.navbar.is-transparent .navbar-item.has-dropdown.is-hoverable:hover .navbar-link{background-color:transparent!important}.navbar.is-transparent .navbar-dropdown a.navbar-item:focus,.navbar.is-transparent .navbar-dropdown a.navbar-item:hover{background-color:#f5f5f5;color:#0a0a0a}.navbar.is-transparent .navbar-dropdown a.navbar-item.is-active{background-color:#f5f5f5;color:#3273dc}.navbar-burger{display:none}.navbar-item,.navbar-link{-webkit-box-align:center;align-items:center}.navbar-item,.navbar-link{display:-webkit-box;display:flex}.navbar-item.has-dropdown{-webkit-box-align:stretch;align-items:stretch}.navbar-item.has-dropdown-up .navbar-link:after{-webkit-transform:rotate(135deg) translate(.25em,-.25em);transform:rotate(135deg) translate(.25em,-.25em)}.navbar-item.has-dropdown-up .navbar-dropdown{border-bottom:2px solid #dbdbdb;border-radius:6px 6px 0 0;border-top:none;bottom:100%;box-shadow:0 -8px 8px rgba(10,10,10,.1);top:auto}.navbar-item.is-active .navbar-dropdown,.navbar-item.is-hoverable:focus .navbar-dropdown,.navbar-item.is-hoverable:hover .navbar-dropdown,.navbar-item.is-hoverable[focus-within] .navbar-dropdown{display:block}.navbar-item.is-active .navbar-dropdown,.navbar-item.is-hoverable:focus-within .navbar-dropdown,.navbar-item.is-hoverable:focus .navbar-dropdown,.navbar-item.is-hoverable:hover .navbar-dropdown{display:block}.navbar-item.is-active .navbar-dropdown.is-boxed,.navbar-item.is-hoverable:focus .navbar-dropdown.is-boxed,.navbar-item.is-hoverable:hover .navbar-dropdown.is-boxed,.navbar-item.is-hoverable[focus-within] .navbar-dropdown.is-boxed,.navbar.is-spaced .navbar-item.is-active .navbar-dropdown,.navbar.is-spaced .navbar-item.is-hoverable:focus .navbar-dropdown,.navbar.is-spaced .navbar-item.is-hoverable:hover .navbar-dropdown,.navbar.is-spaced .navbar-item.is-hoverable[focus-within] .navbar-dropdown{opacity:1;pointer-events:auto;-webkit-transform:translateY(0);transform:translateY(0)}.navbar-item.is-active .navbar-dropdown.is-boxed,.navbar-item.is-hoverable:focus-within .navbar-dropdown.is-boxed,.navbar-item.is-hoverable:focus .navbar-dropdown.is-boxed,.navbar-item.is-hoverable:hover .navbar-dropdown.is-boxed,.navbar.is-spaced .navbar-item.is-active .navbar-dropdown,.navbar.is-spaced .navbar-item.is-hoverable:focus-within .navbar-dropdown,.navbar.is-spaced .navbar-item.is-hoverable:focus .navbar-dropdown,.navbar.is-spaced .navbar-item.is-hoverable:hover .navbar-dropdown{opacity:1;pointer-events:auto;-webkit-transform:translateY(0);transform:translateY(0)}.navbar-menu{-webkit-box-flex:1;flex-grow:1;flex-shrink:0}.navbar-start{-webkit-box-pack:start;justify-content:flex-start;margin-right:auto}.navbar-end{-webkit-box-pack:end;justify-content:flex-end;margin-left:auto}.navbar-dropdown{background-color:#fff;border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top:2px solid #dbdbdb;box-shadow:0 8px 8px rgba(10,10,10,.1);display:none;font-size:.875rem;left:0;min-width:100%;position:absolute;top:100%;z-index:20}.navbar-dropdown .navbar-item{padding:.375rem 1rem;white-space:nowrap}.navbar-dropdown a.navbar-item{padding-right:3rem}.navbar-dropdown a.navbar-item:focus,.navbar-dropdown a.navbar-item:hover{background-color:#f5f5f5;color:#0a0a0a}.navbar-dropdown a.navbar-item.is-active{background-color:#f5f5f5;color:#3273dc}.navbar-dropdown.is-boxed,.navbar.is-spaced .navbar-dropdown{border-radius:6px;border-top:none;box-shadow:0 8px 8px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);display:block;opacity:0;pointer-events:none;top:calc(100% + -4px);-webkit-transform:translateY(-5px);transform:translateY(-5px);-webkit-transition-duration:86ms;transition-duration:86ms;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.navbar-dropdown.is-right{left:auto;right:0}.navbar-divider{display:block}.container>.navbar .navbar-brand,.navbar>.container .navbar-brand{margin-left:-.75rem}.container>.navbar .navbar-menu,.navbar>.container .navbar-menu{margin-right:-.75rem}.navbar.is-fixed-bottom-desktop,.navbar.is-fixed-top-desktop{left:0;position:fixed;right:0;z-index:30}.navbar.is-fixed-bottom-desktop{bottom:0}.navbar.is-fixed-bottom-desktop.has-shadow{box-shadow:0 -2px 3px rgba(10,10,10,.1)}.navbar.is-fixed-top-desktop{top:0}body.has-navbar-fixed-top-desktop,html.has-navbar-fixed-top-desktop{padding-top:3.25rem}body.has-navbar-fixed-bottom-desktop,html.has-navbar-fixed-bottom-desktop{padding-bottom:3.25rem}body.has-spaced-navbar-fixed-top,html.has-spaced-navbar-fixed-top{padding-top:5.25rem}body.has-spaced-navbar-fixed-bottom,html.has-spaced-navbar-fixed-bottom{padding-bottom:5.25rem}.navbar-link.is-active,a.navbar-item.is-active{color:#0a0a0a}.navbar-link.is-active:not(:focus):not(:hover),a.navbar-item.is-active:not(:focus):not(:hover){background-color:transparent}.navbar-item.has-dropdown.is-active .navbar-link,.navbar-item.has-dropdown:focus .navbar-link,.navbar-item.has-dropdown:hover .navbar-link{background-color:#fafafa}}.hero.is-fullheight-with-navbar{min-height:calc(100vh - 3.25rem)}.pagination{font-size:1rem;margin:-.25rem}.pagination.is-small{font-size:.75rem}.pagination.is-medium{font-size:1.25rem}.pagination.is-large{font-size:1.5rem}.pagination.is-rounded .pagination-next,.pagination.is-rounded .pagination-previous{padding-left:1em;padding-right:1em;border-radius:290486px}.pagination.is-rounded .pagination-link{border-radius:290486px}.pagination,.pagination-list{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;text-align:center}.pagination-ellipsis,.pagination-link,.pagination-next,.pagination-previous{font-size:1em;-webkit-box-pack:center;justify-content:center;margin:.25rem;padding-left:.5em;padding-right:.5em;text-align:center}.pagination-link,.pagination-next,.pagination-previous{border-color:#dbdbdb;color:#363636;min-width:2.5em}.pagination-link:hover,.pagination-next:hover,.pagination-previous:hover{border-color:#b5b5b5;color:#363636}.pagination-link:focus,.pagination-next:focus,.pagination-previous:focus{border-color:#3273dc}.pagination-link:active,.pagination-next:active,.pagination-previous:active{box-shadow:inset 0 1px 2px rgba(10,10,10,.2)}.pagination-link[disabled],.pagination-next[disabled],.pagination-previous[disabled]{background-color:#dbdbdb;border-color:#dbdbdb;box-shadow:none;color:#7a7a7a;opacity:.5}.pagination-next,.pagination-previous{padding-left:.75em;padding-right:.75em;white-space:nowrap}.pagination-link.is-current{background-color:#3273dc;border-color:#3273dc;color:#fff}.pagination-ellipsis{color:#b5b5b5;pointer-events:none}.pagination-list{flex-wrap:wrap}@media screen and (max-width:768px){.pagination{flex-wrap:wrap}.pagination-list li,.pagination-next,.pagination-previous{-webkit-box-flex:1;flex-grow:1;flex-shrink:1}}@media print,screen and (min-width:769px){.pagination-list{-webkit-box-flex:1;flex-grow:1;flex-shrink:1;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-ordinal-group:2;order:1}.pagination-previous{-webkit-box-ordinal-group:3;order:2}.pagination-next{-webkit-box-ordinal-group:4;order:3}.pagination{-webkit-box-pack:justify;justify-content:space-between}.pagination.is-centered .pagination-previous{-webkit-box-ordinal-group:2;order:1}.pagination.is-centered .pagination-list{-webkit-box-pack:center;justify-content:center;-webkit-box-ordinal-group:3;order:2}.pagination.is-centered .pagination-next{-webkit-box-ordinal-group:4;order:3}.pagination.is-right .pagination-previous{-webkit-box-ordinal-group:2;order:1}.pagination.is-right .pagination-next{-webkit-box-ordinal-group:3;order:2}.pagination.is-right .pagination-list{-webkit-box-pack:end;justify-content:flex-end;-webkit-box-ordinal-group:4;order:3}}.panel{border-radius:6px;box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.02);font-size:1rem}.panel:not(:last-child){margin-bottom:1.5rem}.panel.is-white .panel-heading{background-color:#fff;color:#0a0a0a}.panel.is-white .panel-tabs a.is-active{border-bottom-color:#fff}.panel.is-white .panel-block.is-active .panel-icon{color:#fff}.panel.is-black .panel-heading{background-color:#0a0a0a;color:#fff}.panel.is-black .panel-tabs a.is-active{border-bottom-color:#0a0a0a}.panel.is-black .panel-block.is-active .panel-icon{color:#0a0a0a}.panel.is-light .panel-heading{background-color:#f5f5f5;color:rgba(0,0,0,.7)}.panel.is-light .panel-tabs a.is-active{border-bottom-color:#f5f5f5}.panel.is-light .panel-block.is-active .panel-icon{color:#f5f5f5}.panel.is-dark .panel-heading{background-color:#363636;color:#fff}.panel.is-dark .panel-tabs a.is-active{border-bottom-color:#363636}.panel.is-dark .panel-block.is-active .panel-icon{color:#363636}.panel.is-primary .panel-heading{background-color:#00d1b2;color:#fff}.panel.is-primary .panel-tabs a.is-active{border-bottom-color:#00d1b2}.panel.is-primary .panel-block.is-active .panel-icon{color:#00d1b2}.panel.is-link .panel-heading{background-color:#3273dc;color:#fff}.panel.is-link .panel-tabs a.is-active{border-bottom-color:#3273dc}.panel.is-link .panel-block.is-active .panel-icon{color:#3273dc}.panel.is-info .panel-heading{background-color:#3298dc;color:#fff}.panel.is-info .panel-tabs a.is-active{border-bottom-color:#3298dc}.panel.is-info .panel-block.is-active .panel-icon{color:#3298dc}.panel.is-success .panel-heading{background-color:#48c774;color:#fff}.panel.is-success .panel-tabs a.is-active{border-bottom-color:#48c774}.panel.is-success .panel-block.is-active .panel-icon{color:#48c774}.panel.is-warning .panel-heading{background-color:#ffdd57;color:rgba(0,0,0,.7)}.panel.is-warning .panel-tabs a.is-active{border-bottom-color:#ffdd57}.panel.is-warning .panel-block.is-active .panel-icon{color:#ffdd57}.panel.is-danger .panel-heading{background-color:#f14668;color:#fff}.panel.is-danger .panel-tabs a.is-active{border-bottom-color:#f14668}.panel.is-danger .panel-block.is-active .panel-icon{color:#f14668}.panel-block:not(:last-child),.panel-tabs:not(:last-child){border-bottom:1px solid #ededed}.panel-heading{background-color:#ededed;border-radius:6px 6px 0 0;color:#363636;font-size:1.25em;font-weight:700;line-height:1.25;padding:.75em 1em}.panel-tabs{-webkit-box-align:end;align-items:flex-end;display:-webkit-box;display:flex;font-size:.875em;-webkit-box-pack:center;justify-content:center}.panel-tabs a{border-bottom:1px solid #dbdbdb;margin-bottom:-1px;padding:.5em}.panel-tabs a.is-active{border-bottom-color:#4a4a4a;color:#363636}.panel-list a{color:#4a4a4a}.panel-list a:hover{color:#3273dc}.panel-block{-webkit-box-align:center;align-items:center;color:#363636;display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;padding:.5em .75em}.panel-block input[type=checkbox]{margin-right:.75em}.panel-block>.control{-webkit-box-flex:1;flex-grow:1;flex-shrink:1;width:100%}.panel-block.is-wrapped{flex-wrap:wrap}.panel-block.is-active{border-left-color:#3273dc;color:#363636}.panel-block.is-active .panel-icon{color:#3273dc}.panel-block:last-child{border-bottom-left-radius:6px;border-bottom-right-radius:6px}a.panel-block,label.panel-block{cursor:pointer}a.panel-block:hover,label.panel-block:hover{background-color:#f5f5f5}.panel-icon{display:inline-block;font-size:14px;height:1em;line-height:1em;text-align:center;vertical-align:top;width:1em;color:#7a7a7a;margin-right:.75em}.panel-icon .fa{font-size:inherit;line-height:inherit}.tabs{-webkit-overflow-scrolling:touch;-webkit-box-align:stretch;align-items:stretch;font-size:1rem;-webkit-box-pack:justify;justify-content:space-between;overflow:hidden;overflow-x:auto;white-space:nowrap}.tabs,.tabs a{display:-webkit-box;display:flex}.tabs a{-webkit-box-align:center;align-items:center;border-bottom:1px solid #dbdbdb;color:#4a4a4a;-webkit-box-pack:center;justify-content:center;margin-bottom:-1px;padding:.5em 1em;vertical-align:top}.tabs a:hover{border-bottom-color:#363636;color:#363636}.tabs li{display:block}.tabs li.is-active a{border-bottom-color:#3273dc;color:#3273dc}.tabs ul{-webkit-box-align:center;align-items:center;border-bottom:1px solid #dbdbdb;display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;flex-shrink:0;-webkit-box-pack:start;justify-content:flex-start}.tabs ul.is-center,.tabs ul.is-left{padding-right:.75em}.tabs ul.is-center{-webkit-box-flex:0;flex:none;-webkit-box-pack:center;justify-content:center;padding-left:.75em}.tabs ul.is-right{-webkit-box-pack:end;justify-content:flex-end;padding-left:.75em}.tabs .icon:first-child{margin-right:.5em}.tabs .icon:last-child{margin-left:.5em}.tabs.is-centered ul{-webkit-box-pack:center;justify-content:center}.tabs.is-right ul{-webkit-box-pack:end;justify-content:flex-end}.tabs.is-boxed a{border:1px solid transparent;border-radius:4px 4px 0 0}.tabs.is-boxed a:hover{background-color:#f5f5f5;border-bottom-color:#dbdbdb}.tabs.is-boxed li.is-active a{background-color:#fff;border-color:#dbdbdb;border-bottom-color:transparent!important}.tabs.is-fullwidth li{-webkit-box-flex:1;flex-grow:1;flex-shrink:0}.tabs.is-toggle a{border:1px solid #dbdbdb;margin-bottom:0;position:relative}.tabs.is-toggle a:hover{background-color:#f5f5f5;border-color:#b5b5b5;z-index:2}.tabs.is-toggle li+li{margin-left:-1px}.tabs.is-toggle li:first-child a{border-radius:4px 0 0 4px}.tabs.is-toggle li:last-child a{border-radius:0 4px 4px 0}.tabs.is-toggle li.is-active a{background-color:#3273dc;border-color:#3273dc;color:#fff;z-index:1}.tabs.is-toggle ul{border-bottom:none}.tabs.is-toggle.is-toggle-rounded li:first-child a{border-bottom-left-radius:290486px;border-top-left-radius:290486px;padding-left:1.25em}.tabs.is-toggle.is-toggle-rounded li:last-child a{border-bottom-right-radius:290486px;border-top-right-radius:290486px;padding-right:1.25em}.tabs.is-small{font-size:.75rem}.tabs.is-medium{font-size:1.25rem}.tabs.is-large{font-size:1.5rem}.column{display:block;flex-basis:0;-webkit-box-flex:1;flex-grow:1;flex-shrink:1;padding:.75rem}.columns.is-mobile>.column.is-narrow{-webkit-box-flex:0;flex:none}.columns.is-mobile>.column.is-full{-webkit-box-flex:0;flex:none;width:100%}.columns.is-mobile>.column.is-three-quarters{-webkit-box-flex:0;flex:none;width:75%}.columns.is-mobile>.column.is-two-thirds{-webkit-box-flex:0;flex:none;width:66.6666%}.columns.is-mobile>.column.is-half{-webkit-box-flex:0;flex:none;width:50%}.columns.is-mobile>.column.is-one-third{-webkit-box-flex:0;flex:none;width:33.3333%}.columns.is-mobile>.column.is-one-quarter{-webkit-box-flex:0;flex:none;width:25%}.columns.is-mobile>.column.is-one-fifth{-webkit-box-flex:0;flex:none;width:20%}.columns.is-mobile>.column.is-two-fifths{-webkit-box-flex:0;flex:none;width:40%}.columns.is-mobile>.column.is-three-fifths{-webkit-box-flex:0;flex:none;width:60%}.columns.is-mobile>.column.is-four-fifths{-webkit-box-flex:0;flex:none;width:80%}.columns.is-mobile>.column.is-offset-three-quarters{margin-left:75%}.columns.is-mobile>.column.is-offset-two-thirds{margin-left:66.6666%}.columns.is-mobile>.column.is-offset-half{margin-left:50%}.columns.is-mobile>.column.is-offset-one-third{margin-left:33.3333%}.columns.is-mobile>.column.is-offset-one-quarter{margin-left:25%}.columns.is-mobile>.column.is-offset-one-fifth{margin-left:20%}.columns.is-mobile>.column.is-offset-two-fifths{margin-left:40%}.columns.is-mobile>.column.is-offset-three-fifths{margin-left:60%}.columns.is-mobile>.column.is-offset-four-fifths{margin-left:80%}.columns.is-mobile>.column.is-0{-webkit-box-flex:0;flex:none;width:0}.columns.is-mobile>.column.is-offset-0{margin-left:0}.columns.is-mobile>.column.is-1{-webkit-box-flex:0;flex:none;width:8.33333%}.columns.is-mobile>.column.is-offset-1{margin-left:8.33333%}.columns.is-mobile>.column.is-2{-webkit-box-flex:0;flex:none;width:16.66667%}.columns.is-mobile>.column.is-offset-2{margin-left:16.66667%}.columns.is-mobile>.column.is-3{-webkit-box-flex:0;flex:none;width:25%}.columns.is-mobile>.column.is-offset-3{margin-left:25%}.columns.is-mobile>.column.is-4{-webkit-box-flex:0;flex:none;width:33.33333%}.columns.is-mobile>.column.is-offset-4{margin-left:33.33333%}.columns.is-mobile>.column.is-5{-webkit-box-flex:0;flex:none;width:41.66667%}.columns.is-mobile>.column.is-offset-5{margin-left:41.66667%}.columns.is-mobile>.column.is-6{-webkit-box-flex:0;flex:none;width:50%}.columns.is-mobile>.column.is-offset-6{margin-left:50%}.columns.is-mobile>.column.is-7{-webkit-box-flex:0;flex:none;width:58.33333%}.columns.is-mobile>.column.is-offset-7{margin-left:58.33333%}.columns.is-mobile>.column.is-8{-webkit-box-flex:0;flex:none;width:66.66667%}.columns.is-mobile>.column.is-offset-8{margin-left:66.66667%}.columns.is-mobile>.column.is-9{-webkit-box-flex:0;flex:none;width:75%}.columns.is-mobile>.column.is-offset-9{margin-left:75%}.columns.is-mobile>.column.is-10{-webkit-box-flex:0;flex:none;width:83.33333%}.columns.is-mobile>.column.is-offset-10{margin-left:83.33333%}.columns.is-mobile>.column.is-11{-webkit-box-flex:0;flex:none;width:91.66667%}.columns.is-mobile>.column.is-offset-11{margin-left:91.66667%}.columns.is-mobile>.column.is-12{-webkit-box-flex:0;flex:none;width:100%}.columns.is-mobile>.column.is-offset-12{margin-left:100%}@media screen and (max-width:768px){.column.is-full-mobile,.column.is-narrow-mobile{-webkit-box-flex:0;flex:none}.column.is-full-mobile{width:100%}.column.is-three-quarters-mobile{-webkit-box-flex:0;flex:none;width:75%}.column.is-two-thirds-mobile{-webkit-box-flex:0;flex:none;width:66.6666%}.column.is-half-mobile{-webkit-box-flex:0;flex:none;width:50%}.column.is-one-third-mobile{-webkit-box-flex:0;flex:none;width:33.3333%}.column.is-one-quarter-mobile{-webkit-box-flex:0;flex:none;width:25%}.column.is-one-fifth-mobile{-webkit-box-flex:0;flex:none;width:20%}.column.is-two-fifths-mobile{-webkit-box-flex:0;flex:none;width:40%}.column.is-three-fifths-mobile{-webkit-box-flex:0;flex:none;width:60%}.column.is-four-fifths-mobile{-webkit-box-flex:0;flex:none;width:80%}.column.is-offset-three-quarters-mobile{margin-left:75%}.column.is-offset-two-thirds-mobile{margin-left:66.6666%}.column.is-offset-half-mobile{margin-left:50%}.column.is-offset-one-third-mobile{margin-left:33.3333%}.column.is-offset-one-quarter-mobile{margin-left:25%}.column.is-offset-one-fifth-mobile{margin-left:20%}.column.is-offset-two-fifths-mobile{margin-left:40%}.column.is-offset-three-fifths-mobile{margin-left:60%}.column.is-offset-four-fifths-mobile{margin-left:80%}.column.is-0-mobile{-webkit-box-flex:0;flex:none;width:0}.column.is-offset-0-mobile{margin-left:0}.column.is-1-mobile{-webkit-box-flex:0;flex:none;width:8.33333%}.column.is-offset-1-mobile{margin-left:8.33333%}.column.is-2-mobile{-webkit-box-flex:0;flex:none;width:16.66667%}.column.is-offset-2-mobile{margin-left:16.66667%}.column.is-3-mobile{-webkit-box-flex:0;flex:none;width:25%}.column.is-offset-3-mobile{margin-left:25%}.column.is-4-mobile{-webkit-box-flex:0;flex:none;width:33.33333%}.column.is-offset-4-mobile{margin-left:33.33333%}.column.is-5-mobile{-webkit-box-flex:0;flex:none;width:41.66667%}.column.is-offset-5-mobile{margin-left:41.66667%}.column.is-6-mobile{-webkit-box-flex:0;flex:none;width:50%}.column.is-offset-6-mobile{margin-left:50%}.column.is-7-mobile{-webkit-box-flex:0;flex:none;width:58.33333%}.column.is-offset-7-mobile{margin-left:58.33333%}.column.is-8-mobile{-webkit-box-flex:0;flex:none;width:66.66667%}.column.is-offset-8-mobile{margin-left:66.66667%}.column.is-9-mobile{-webkit-box-flex:0;flex:none;width:75%}.column.is-offset-9-mobile{margin-left:75%}.column.is-10-mobile{-webkit-box-flex:0;flex:none;width:83.33333%}.column.is-offset-10-mobile{margin-left:83.33333%}.column.is-11-mobile{-webkit-box-flex:0;flex:none;width:91.66667%}.column.is-offset-11-mobile{margin-left:91.66667%}.column.is-12-mobile{-webkit-box-flex:0;flex:none;width:100%}.column.is-offset-12-mobile{margin-left:100%}}@media print,screen and (min-width:769px){.column.is-narrow,.column.is-narrow-tablet{-webkit-box-flex:0;flex:none}.column.is-full,.column.is-full-tablet{-webkit-box-flex:0;flex:none;width:100%}.column.is-three-quarters,.column.is-three-quarters-tablet{-webkit-box-flex:0;flex:none;width:75%}.column.is-two-thirds,.column.is-two-thirds-tablet{-webkit-box-flex:0;flex:none;width:66.6666%}.column.is-half,.column.is-half-tablet{-webkit-box-flex:0;flex:none;width:50%}.column.is-one-third,.column.is-one-third-tablet{-webkit-box-flex:0;flex:none;width:33.3333%}.column.is-one-quarter,.column.is-one-quarter-tablet{-webkit-box-flex:0;flex:none;width:25%}.column.is-one-fifth,.column.is-one-fifth-tablet{-webkit-box-flex:0;flex:none;width:20%}.column.is-two-fifths,.column.is-two-fifths-tablet{-webkit-box-flex:0;flex:none;width:40%}.column.is-three-fifths,.column.is-three-fifths-tablet{-webkit-box-flex:0;flex:none;width:60%}.column.is-four-fifths,.column.is-four-fifths-tablet{-webkit-box-flex:0;flex:none;width:80%}.column.is-offset-three-quarters,.column.is-offset-three-quarters-tablet{margin-left:75%}.column.is-offset-two-thirds,.column.is-offset-two-thirds-tablet{margin-left:66.6666%}.column.is-offset-half,.column.is-offset-half-tablet{margin-left:50%}.column.is-offset-one-third,.column.is-offset-one-third-tablet{margin-left:33.3333%}.column.is-offset-one-quarter,.column.is-offset-one-quarter-tablet{margin-left:25%}.column.is-offset-one-fifth,.column.is-offset-one-fifth-tablet{margin-left:20%}.column.is-offset-two-fifths,.column.is-offset-two-fifths-tablet{margin-left:40%}.column.is-offset-three-fifths,.column.is-offset-three-fifths-tablet{margin-left:60%}.column.is-offset-four-fifths,.column.is-offset-four-fifths-tablet{margin-left:80%}.column.is-0,.column.is-0-tablet{-webkit-box-flex:0;flex:none;width:0}.column.is-offset-0,.column.is-offset-0-tablet{margin-left:0}.column.is-1,.column.is-1-tablet{-webkit-box-flex:0;flex:none;width:8.33333%}.column.is-offset-1,.column.is-offset-1-tablet{margin-left:8.33333%}.column.is-2,.column.is-2-tablet{-webkit-box-flex:0;flex:none;width:16.66667%}.column.is-offset-2,.column.is-offset-2-tablet{margin-left:16.66667%}.column.is-3,.column.is-3-tablet{-webkit-box-flex:0;flex:none;width:25%}.column.is-offset-3,.column.is-offset-3-tablet{margin-left:25%}.column.is-4,.column.is-4-tablet{-webkit-box-flex:0;flex:none;width:33.33333%}.column.is-offset-4,.column.is-offset-4-tablet{margin-left:33.33333%}.column.is-5,.column.is-5-tablet{-webkit-box-flex:0;flex:none;width:41.66667%}.column.is-offset-5,.column.is-offset-5-tablet{margin-left:41.66667%}.column.is-6,.column.is-6-tablet{-webkit-box-flex:0;flex:none;width:50%}.column.is-offset-6,.column.is-offset-6-tablet{margin-left:50%}.column.is-7,.column.is-7-tablet{-webkit-box-flex:0;flex:none;width:58.33333%}.column.is-offset-7,.column.is-offset-7-tablet{margin-left:58.33333%}.column.is-8,.column.is-8-tablet{-webkit-box-flex:0;flex:none;width:66.66667%}.column.is-offset-8,.column.is-offset-8-tablet{margin-left:66.66667%}.column.is-9,.column.is-9-tablet{-webkit-box-flex:0;flex:none;width:75%}.column.is-offset-9,.column.is-offset-9-tablet{margin-left:75%}.column.is-10,.column.is-10-tablet{-webkit-box-flex:0;flex:none;width:83.33333%}.column.is-offset-10,.column.is-offset-10-tablet{margin-left:83.33333%}.column.is-11,.column.is-11-tablet{-webkit-box-flex:0;flex:none;width:91.66667%}.column.is-offset-11,.column.is-offset-11-tablet{margin-left:91.66667%}.column.is-12,.column.is-12-tablet{-webkit-box-flex:0;flex:none;width:100%}.column.is-offset-12,.column.is-offset-12-tablet{margin-left:100%}}@media screen and (max-width:1023px){.column.is-full-touch,.column.is-narrow-touch{-webkit-box-flex:0;flex:none}.column.is-full-touch{width:100%}.column.is-three-quarters-touch{-webkit-box-flex:0;flex:none;width:75%}.column.is-two-thirds-touch{-webkit-box-flex:0;flex:none;width:66.6666%}.column.is-half-touch{-webkit-box-flex:0;flex:none;width:50%}.column.is-one-third-touch{-webkit-box-flex:0;flex:none;width:33.3333%}.column.is-one-quarter-touch{-webkit-box-flex:0;flex:none;width:25%}.column.is-one-fifth-touch{-webkit-box-flex:0;flex:none;width:20%}.column.is-two-fifths-touch{-webkit-box-flex:0;flex:none;width:40%}.column.is-three-fifths-touch{-webkit-box-flex:0;flex:none;width:60%}.column.is-four-fifths-touch{-webkit-box-flex:0;flex:none;width:80%}.column.is-offset-three-quarters-touch{margin-left:75%}.column.is-offset-two-thirds-touch{margin-left:66.6666%}.column.is-offset-half-touch{margin-left:50%}.column.is-offset-one-third-touch{margin-left:33.3333%}.column.is-offset-one-quarter-touch{margin-left:25%}.column.is-offset-one-fifth-touch{margin-left:20%}.column.is-offset-two-fifths-touch{margin-left:40%}.column.is-offset-three-fifths-touch{margin-left:60%}.column.is-offset-four-fifths-touch{margin-left:80%}.column.is-0-touch{-webkit-box-flex:0;flex:none;width:0}.column.is-offset-0-touch{margin-left:0}.column.is-1-touch{-webkit-box-flex:0;flex:none;width:8.33333%}.column.is-offset-1-touch{margin-left:8.33333%}.column.is-2-touch{-webkit-box-flex:0;flex:none;width:16.66667%}.column.is-offset-2-touch{margin-left:16.66667%}.column.is-3-touch{-webkit-box-flex:0;flex:none;width:25%}.column.is-offset-3-touch{margin-left:25%}.column.is-4-touch{-webkit-box-flex:0;flex:none;width:33.33333%}.column.is-offset-4-touch{margin-left:33.33333%}.column.is-5-touch{-webkit-box-flex:0;flex:none;width:41.66667%}.column.is-offset-5-touch{margin-left:41.66667%}.column.is-6-touch{-webkit-box-flex:0;flex:none;width:50%}.column.is-offset-6-touch{margin-left:50%}.column.is-7-touch{-webkit-box-flex:0;flex:none;width:58.33333%}.column.is-offset-7-touch{margin-left:58.33333%}.column.is-8-touch{-webkit-box-flex:0;flex:none;width:66.66667%}.column.is-offset-8-touch{margin-left:66.66667%}.column.is-9-touch{-webkit-box-flex:0;flex:none;width:75%}.column.is-offset-9-touch{margin-left:75%}.column.is-10-touch{-webkit-box-flex:0;flex:none;width:83.33333%}.column.is-offset-10-touch{margin-left:83.33333%}.column.is-11-touch{-webkit-box-flex:0;flex:none;width:91.66667%}.column.is-offset-11-touch{margin-left:91.66667%}.column.is-12-touch{-webkit-box-flex:0;flex:none;width:100%}.column.is-offset-12-touch{margin-left:100%}}@media screen and (min-width:1024px){.column.is-full-desktop,.column.is-narrow-desktop{-webkit-box-flex:0;flex:none}.column.is-full-desktop{width:100%}.column.is-three-quarters-desktop{-webkit-box-flex:0;flex:none;width:75%}.column.is-two-thirds-desktop{-webkit-box-flex:0;flex:none;width:66.6666%}.column.is-half-desktop{-webkit-box-flex:0;flex:none;width:50%}.column.is-one-third-desktop{-webkit-box-flex:0;flex:none;width:33.3333%}.column.is-one-quarter-desktop{-webkit-box-flex:0;flex:none;width:25%}.column.is-one-fifth-desktop{-webkit-box-flex:0;flex:none;width:20%}.column.is-two-fifths-desktop{-webkit-box-flex:0;flex:none;width:40%}.column.is-three-fifths-desktop{-webkit-box-flex:0;flex:none;width:60%}.column.is-four-fifths-desktop{-webkit-box-flex:0;flex:none;width:80%}.column.is-offset-three-quarters-desktop{margin-left:75%}.column.is-offset-two-thirds-desktop{margin-left:66.6666%}.column.is-offset-half-desktop{margin-left:50%}.column.is-offset-one-third-desktop{margin-left:33.3333%}.column.is-offset-one-quarter-desktop{margin-left:25%}.column.is-offset-one-fifth-desktop{margin-left:20%}.column.is-offset-two-fifths-desktop{margin-left:40%}.column.is-offset-three-fifths-desktop{margin-left:60%}.column.is-offset-four-fifths-desktop{margin-left:80%}.column.is-0-desktop{-webkit-box-flex:0;flex:none;width:0}.column.is-offset-0-desktop{margin-left:0}.column.is-1-desktop{-webkit-box-flex:0;flex:none;width:8.33333%}.column.is-offset-1-desktop{margin-left:8.33333%}.column.is-2-desktop{-webkit-box-flex:0;flex:none;width:16.66667%}.column.is-offset-2-desktop{margin-left:16.66667%}.column.is-3-desktop{-webkit-box-flex:0;flex:none;width:25%}.column.is-offset-3-desktop{margin-left:25%}.column.is-4-desktop{-webkit-box-flex:0;flex:none;width:33.33333%}.column.is-offset-4-desktop{margin-left:33.33333%}.column.is-5-desktop{-webkit-box-flex:0;flex:none;width:41.66667%}.column.is-offset-5-desktop{margin-left:41.66667%}.column.is-6-desktop{-webkit-box-flex:0;flex:none;width:50%}.column.is-offset-6-desktop{margin-left:50%}.column.is-7-desktop{-webkit-box-flex:0;flex:none;width:58.33333%}.column.is-offset-7-desktop{margin-left:58.33333%}.column.is-8-desktop{-webkit-box-flex:0;flex:none;width:66.66667%}.column.is-offset-8-desktop{margin-left:66.66667%}.column.is-9-desktop{-webkit-box-flex:0;flex:none;width:75%}.column.is-offset-9-desktop{margin-left:75%}.column.is-10-desktop{-webkit-box-flex:0;flex:none;width:83.33333%}.column.is-offset-10-desktop{margin-left:83.33333%}.column.is-11-desktop{-webkit-box-flex:0;flex:none;width:91.66667%}.column.is-offset-11-desktop{margin-left:91.66667%}.column.is-12-desktop{-webkit-box-flex:0;flex:none;width:100%}.column.is-offset-12-desktop{margin-left:100%}}@media screen and (min-width:1216px){.column.is-full-widescreen,.column.is-narrow-widescreen{-webkit-box-flex:0;flex:none}.column.is-full-widescreen{width:100%}.column.is-three-quarters-widescreen{-webkit-box-flex:0;flex:none;width:75%}.column.is-two-thirds-widescreen{-webkit-box-flex:0;flex:none;width:66.6666%}.column.is-half-widescreen{-webkit-box-flex:0;flex:none;width:50%}.column.is-one-third-widescreen{-webkit-box-flex:0;flex:none;width:33.3333%}.column.is-one-quarter-widescreen{-webkit-box-flex:0;flex:none;width:25%}.column.is-one-fifth-widescreen{-webkit-box-flex:0;flex:none;width:20%}.column.is-two-fifths-widescreen{-webkit-box-flex:0;flex:none;width:40%}.column.is-three-fifths-widescreen{-webkit-box-flex:0;flex:none;width:60%}.column.is-four-fifths-widescreen{-webkit-box-flex:0;flex:none;width:80%}.column.is-offset-three-quarters-widescreen{margin-left:75%}.column.is-offset-two-thirds-widescreen{margin-left:66.6666%}.column.is-offset-half-widescreen{margin-left:50%}.column.is-offset-one-third-widescreen{margin-left:33.3333%}.column.is-offset-one-quarter-widescreen{margin-left:25%}.column.is-offset-one-fifth-widescreen{margin-left:20%}.column.is-offset-two-fifths-widescreen{margin-left:40%}.column.is-offset-three-fifths-widescreen{margin-left:60%}.column.is-offset-four-fifths-widescreen{margin-left:80%}.column.is-0-widescreen{-webkit-box-flex:0;flex:none;width:0}.column.is-offset-0-widescreen{margin-left:0}.column.is-1-widescreen{-webkit-box-flex:0;flex:none;width:8.33333%}.column.is-offset-1-widescreen{margin-left:8.33333%}.column.is-2-widescreen{-webkit-box-flex:0;flex:none;width:16.66667%}.column.is-offset-2-widescreen{margin-left:16.66667%}.column.is-3-widescreen{-webkit-box-flex:0;flex:none;width:25%}.column.is-offset-3-widescreen{margin-left:25%}.column.is-4-widescreen{-webkit-box-flex:0;flex:none;width:33.33333%}.column.is-offset-4-widescreen{margin-left:33.33333%}.column.is-5-widescreen{-webkit-box-flex:0;flex:none;width:41.66667%}.column.is-offset-5-widescreen{margin-left:41.66667%}.column.is-6-widescreen{-webkit-box-flex:0;flex:none;width:50%}.column.is-offset-6-widescreen{margin-left:50%}.column.is-7-widescreen{-webkit-box-flex:0;flex:none;width:58.33333%}.column.is-offset-7-widescreen{margin-left:58.33333%}.column.is-8-widescreen{-webkit-box-flex:0;flex:none;width:66.66667%}.column.is-offset-8-widescreen{margin-left:66.66667%}.column.is-9-widescreen{-webkit-box-flex:0;flex:none;width:75%}.column.is-offset-9-widescreen{margin-left:75%}.column.is-10-widescreen{-webkit-box-flex:0;flex:none;width:83.33333%}.column.is-offset-10-widescreen{margin-left:83.33333%}.column.is-11-widescreen{-webkit-box-flex:0;flex:none;width:91.66667%}.column.is-offset-11-widescreen{margin-left:91.66667%}.column.is-12-widescreen{-webkit-box-flex:0;flex:none;width:100%}.column.is-offset-12-widescreen{margin-left:100%}}@media screen and (min-width:1408px){.column.is-full-fullhd,.column.is-narrow-fullhd{-webkit-box-flex:0;flex:none}.column.is-full-fullhd{width:100%}.column.is-three-quarters-fullhd{-webkit-box-flex:0;flex:none;width:75%}.column.is-two-thirds-fullhd{-webkit-box-flex:0;flex:none;width:66.6666%}.column.is-half-fullhd{-webkit-box-flex:0;flex:none;width:50%}.column.is-one-third-fullhd{-webkit-box-flex:0;flex:none;width:33.3333%}.column.is-one-quarter-fullhd{-webkit-box-flex:0;flex:none;width:25%}.column.is-one-fifth-fullhd{-webkit-box-flex:0;flex:none;width:20%}.column.is-two-fifths-fullhd{-webkit-box-flex:0;flex:none;width:40%}.column.is-three-fifths-fullhd{-webkit-box-flex:0;flex:none;width:60%}.column.is-four-fifths-fullhd{-webkit-box-flex:0;flex:none;width:80%}.column.is-offset-three-quarters-fullhd{margin-left:75%}.column.is-offset-two-thirds-fullhd{margin-left:66.6666%}.column.is-offset-half-fullhd{margin-left:50%}.column.is-offset-one-third-fullhd{margin-left:33.3333%}.column.is-offset-one-quarter-fullhd{margin-left:25%}.column.is-offset-one-fifth-fullhd{margin-left:20%}.column.is-offset-two-fifths-fullhd{margin-left:40%}.column.is-offset-three-fifths-fullhd{margin-left:60%}.column.is-offset-four-fifths-fullhd{margin-left:80%}.column.is-0-fullhd{-webkit-box-flex:0;flex:none;width:0}.column.is-offset-0-fullhd{margin-left:0}.column.is-1-fullhd{-webkit-box-flex:0;flex:none;width:8.33333%}.column.is-offset-1-fullhd{margin-left:8.33333%}.column.is-2-fullhd{-webkit-box-flex:0;flex:none;width:16.66667%}.column.is-offset-2-fullhd{margin-left:16.66667%}.column.is-3-fullhd{-webkit-box-flex:0;flex:none;width:25%}.column.is-offset-3-fullhd{margin-left:25%}.column.is-4-fullhd{-webkit-box-flex:0;flex:none;width:33.33333%}.column.is-offset-4-fullhd{margin-left:33.33333%}.column.is-5-fullhd{-webkit-box-flex:0;flex:none;width:41.66667%}.column.is-offset-5-fullhd{margin-left:41.66667%}.column.is-6-fullhd{-webkit-box-flex:0;flex:none;width:50%}.column.is-offset-6-fullhd{margin-left:50%}.column.is-7-fullhd{-webkit-box-flex:0;flex:none;width:58.33333%}.column.is-offset-7-fullhd{margin-left:58.33333%}.column.is-8-fullhd{-webkit-box-flex:0;flex:none;width:66.66667%}.column.is-offset-8-fullhd{margin-left:66.66667%}.column.is-9-fullhd{-webkit-box-flex:0;flex:none;width:75%}.column.is-offset-9-fullhd{margin-left:75%}.column.is-10-fullhd{-webkit-box-flex:0;flex:none;width:83.33333%}.column.is-offset-10-fullhd{margin-left:83.33333%}.column.is-11-fullhd{-webkit-box-flex:0;flex:none;width:91.66667%}.column.is-offset-11-fullhd{margin-left:91.66667%}.column.is-12-fullhd{-webkit-box-flex:0;flex:none;width:100%}.column.is-offset-12-fullhd{margin-left:100%}}.columns{margin-left:-.75rem;margin-right:-.75rem;margin-top:-.75rem}.columns:last-child{margin-bottom:-.75rem}.columns:not(:last-child){margin-bottom:.75rem}.columns.is-centered{-webkit-box-pack:center;justify-content:center}.columns.is-gapless{margin-left:0;margin-right:0;margin-top:0}.columns.is-gapless>.column{margin:0;padding:0!important}.columns.is-gapless:not(:last-child){margin-bottom:1.5rem}.columns.is-gapless:last-child{margin-bottom:0}.columns.is-mobile{display:-webkit-box;display:flex}.columns.is-multiline{flex-wrap:wrap}.columns.is-vcentered{-webkit-box-align:center;align-items:center}@media print,screen and (min-width:769px){.columns:not(.is-desktop){display:-webkit-box;display:flex}}@media screen and (min-width:1024px){.columns.is-desktop{display:-webkit-box;display:flex}}.columns.is-variable{--columnGap:0.75rem;margin-left:calc(-1*var(--columnGap));margin-right:calc(-1*var(--columnGap))}.columns.is-variable .column{padding-left:var(--columnGap);padding-right:var(--columnGap)}.columns.is-variable.is-0{--columnGap:0rem}@media screen and (max-width:768px){.columns.is-variable.is-0-mobile{--columnGap:0rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-0-tablet{--columnGap:0rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-0-tablet-only{--columnGap:0rem}}@media screen and (max-width:1023px){.columns.is-variable.is-0-touch{--columnGap:0rem}}@media screen and (min-width:1024px){.columns.is-variable.is-0-desktop{--columnGap:0rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-0-desktop-only{--columnGap:0rem}}@media screen and (min-width:1216px){.columns.is-variable.is-0-widescreen{--columnGap:0rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-0-widescreen-only{--columnGap:0rem}}@media screen and (min-width:1408px){.columns.is-variable.is-0-fullhd{--columnGap:0rem}}.columns.is-variable.is-1{--columnGap:0.25rem}@media screen and (max-width:768px){.columns.is-variable.is-1-mobile{--columnGap:0.25rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-1-tablet{--columnGap:0.25rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-1-tablet-only{--columnGap:0.25rem}}@media screen and (max-width:1023px){.columns.is-variable.is-1-touch{--columnGap:0.25rem}}@media screen and (min-width:1024px){.columns.is-variable.is-1-desktop{--columnGap:0.25rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-1-desktop-only{--columnGap:0.25rem}}@media screen and (min-width:1216px){.columns.is-variable.is-1-widescreen{--columnGap:0.25rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-1-widescreen-only{--columnGap:0.25rem}}@media screen and (min-width:1408px){.columns.is-variable.is-1-fullhd{--columnGap:0.25rem}}.columns.is-variable.is-2{--columnGap:0.5rem}@media screen and (max-width:768px){.columns.is-variable.is-2-mobile{--columnGap:0.5rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-2-tablet{--columnGap:0.5rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-2-tablet-only{--columnGap:0.5rem}}@media screen and (max-width:1023px){.columns.is-variable.is-2-touch{--columnGap:0.5rem}}@media screen and (min-width:1024px){.columns.is-variable.is-2-desktop{--columnGap:0.5rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-2-desktop-only{--columnGap:0.5rem}}@media screen and (min-width:1216px){.columns.is-variable.is-2-widescreen{--columnGap:0.5rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-2-widescreen-only{--columnGap:0.5rem}}@media screen and (min-width:1408px){.columns.is-variable.is-2-fullhd{--columnGap:0.5rem}}.columns.is-variable.is-3{--columnGap:0.75rem}@media screen and (max-width:768px){.columns.is-variable.is-3-mobile{--columnGap:0.75rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-3-tablet{--columnGap:0.75rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-3-tablet-only{--columnGap:0.75rem}}@media screen and (max-width:1023px){.columns.is-variable.is-3-touch{--columnGap:0.75rem}}@media screen and (min-width:1024px){.columns.is-variable.is-3-desktop{--columnGap:0.75rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-3-desktop-only{--columnGap:0.75rem}}@media screen and (min-width:1216px){.columns.is-variable.is-3-widescreen{--columnGap:0.75rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-3-widescreen-only{--columnGap:0.75rem}}@media screen and (min-width:1408px){.columns.is-variable.is-3-fullhd{--columnGap:0.75rem}}.columns.is-variable.is-4{--columnGap:1rem}@media screen and (max-width:768px){.columns.is-variable.is-4-mobile{--columnGap:1rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-4-tablet{--columnGap:1rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-4-tablet-only{--columnGap:1rem}}@media screen and (max-width:1023px){.columns.is-variable.is-4-touch{--columnGap:1rem}}@media screen and (min-width:1024px){.columns.is-variable.is-4-desktop{--columnGap:1rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-4-desktop-only{--columnGap:1rem}}@media screen and (min-width:1216px){.columns.is-variable.is-4-widescreen{--columnGap:1rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-4-widescreen-only{--columnGap:1rem}}@media screen and (min-width:1408px){.columns.is-variable.is-4-fullhd{--columnGap:1rem}}.columns.is-variable.is-5{--columnGap:1.25rem}@media screen and (max-width:768px){.columns.is-variable.is-5-mobile{--columnGap:1.25rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-5-tablet{--columnGap:1.25rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-5-tablet-only{--columnGap:1.25rem}}@media screen and (max-width:1023px){.columns.is-variable.is-5-touch{--columnGap:1.25rem}}@media screen and (min-width:1024px){.columns.is-variable.is-5-desktop{--columnGap:1.25rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-5-desktop-only{--columnGap:1.25rem}}@media screen and (min-width:1216px){.columns.is-variable.is-5-widescreen{--columnGap:1.25rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-5-widescreen-only{--columnGap:1.25rem}}@media screen and (min-width:1408px){.columns.is-variable.is-5-fullhd{--columnGap:1.25rem}}.columns.is-variable.is-6{--columnGap:1.5rem}@media screen and (max-width:768px){.columns.is-variable.is-6-mobile{--columnGap:1.5rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-6-tablet{--columnGap:1.5rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-6-tablet-only{--columnGap:1.5rem}}@media screen and (max-width:1023px){.columns.is-variable.is-6-touch{--columnGap:1.5rem}}@media screen and (min-width:1024px){.columns.is-variable.is-6-desktop{--columnGap:1.5rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-6-desktop-only{--columnGap:1.5rem}}@media screen and (min-width:1216px){.columns.is-variable.is-6-widescreen{--columnGap:1.5rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-6-widescreen-only{--columnGap:1.5rem}}@media screen and (min-width:1408px){.columns.is-variable.is-6-fullhd{--columnGap:1.5rem}}.columns.is-variable.is-7{--columnGap:1.75rem}@media screen and (max-width:768px){.columns.is-variable.is-7-mobile{--columnGap:1.75rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-7-tablet{--columnGap:1.75rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-7-tablet-only{--columnGap:1.75rem}}@media screen and (max-width:1023px){.columns.is-variable.is-7-touch{--columnGap:1.75rem}}@media screen and (min-width:1024px){.columns.is-variable.is-7-desktop{--columnGap:1.75rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-7-desktop-only{--columnGap:1.75rem}}@media screen and (min-width:1216px){.columns.is-variable.is-7-widescreen{--columnGap:1.75rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-7-widescreen-only{--columnGap:1.75rem}}@media screen and (min-width:1408px){.columns.is-variable.is-7-fullhd{--columnGap:1.75rem}}.columns.is-variable.is-8{--columnGap:2rem}@media screen and (max-width:768px){.columns.is-variable.is-8-mobile{--columnGap:2rem}}@media print,screen and (min-width:769px){.columns.is-variable.is-8-tablet{--columnGap:2rem}}@media screen and (min-width:769px) and (max-width:1023px){.columns.is-variable.is-8-tablet-only{--columnGap:2rem}}@media screen and (max-width:1023px){.columns.is-variable.is-8-touch{--columnGap:2rem}}@media screen and (min-width:1024px){.columns.is-variable.is-8-desktop{--columnGap:2rem}}@media screen and (min-width:1024px) and (max-width:1215px){.columns.is-variable.is-8-desktop-only{--columnGap:2rem}}@media screen and (min-width:1216px){.columns.is-variable.is-8-widescreen{--columnGap:2rem}}@media screen and (min-width:1216px) and (max-width:1407px){.columns.is-variable.is-8-widescreen-only{--columnGap:2rem}}@media screen and (min-width:1408px){.columns.is-variable.is-8-fullhd{--columnGap:2rem}}.tile{-webkit-box-align:stretch;align-items:stretch;display:block;flex-basis:0;-webkit-box-flex:1;flex-grow:1;flex-shrink:1;min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content}.tile.is-ancestor{margin-left:-.75rem;margin-right:-.75rem;margin-top:-.75rem}.tile.is-ancestor:last-child{margin-bottom:-.75rem}.tile.is-ancestor:not(:last-child){margin-bottom:.75rem}.tile.is-child{margin:0!important}.tile.is-parent{padding:.75rem}.tile.is-vertical{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.tile.is-vertical>.tile.is-child:not(:last-child){margin-bottom:1.5rem!important}@media print,screen and (min-width:769px){.tile:not(.is-child){display:-webkit-box;display:flex}.tile.is-1{width:8.33333%}.tile.is-1,.tile.is-2{-webkit-box-flex:0;flex:none}.tile.is-2{width:16.66667%}.tile.is-3{width:25%}.tile.is-3,.tile.is-4{-webkit-box-flex:0;flex:none}.tile.is-4{width:33.33333%}.tile.is-5{width:41.66667%}.tile.is-5,.tile.is-6{-webkit-box-flex:0;flex:none}.tile.is-6{width:50%}.tile.is-7{width:58.33333%}.tile.is-7,.tile.is-8{-webkit-box-flex:0;flex:none}.tile.is-8{width:66.66667%}.tile.is-9{width:75%}.tile.is-9,.tile.is-10{-webkit-box-flex:0;flex:none}.tile.is-10{width:83.33333%}.tile.is-11{width:91.66667%}.tile.is-11,.tile.is-12{-webkit-box-flex:0;flex:none}.tile.is-12{width:100%}}.hero{-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between}.hero .navbar{background:none}.hero .tabs ul{border-bottom:none}.hero.is-white{background-color:#fff;color:#0a0a0a}.hero.is-white a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-white strong{color:inherit}.hero.is-white .title{color:#0a0a0a}.hero.is-white .subtitle{color:rgba(10,10,10,.9)}.hero.is-white .subtitle a:not(.button),.hero.is-white .subtitle strong{color:#0a0a0a}@media screen and (max-width:1023px){.hero.is-white .navbar-menu{background-color:#fff}}.hero.is-white .navbar-item,.hero.is-white .navbar-link{color:rgba(10,10,10,.7)}.hero.is-white .navbar-link.is-active,.hero.is-white .navbar-link:hover,.hero.is-white a.navbar-item.is-active,.hero.is-white a.navbar-item:hover{background-color:#f2f2f2;color:#0a0a0a}.hero.is-white .tabs a{color:#0a0a0a;opacity:.9}.hero.is-white .tabs a:hover,.hero.is-white .tabs li.is-active a{opacity:1}.hero.is-white .tabs.is-boxed a,.hero.is-white .tabs.is-toggle a{color:#0a0a0a}.hero.is-white .tabs.is-boxed a:hover,.hero.is-white .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-white .tabs.is-boxed li.is-active a,.hero.is-white .tabs.is-boxed li.is-active a:hover,.hero.is-white .tabs.is-toggle li.is-active a,.hero.is-white .tabs.is-toggle li.is-active a:hover{background-color:#0a0a0a;border-color:#0a0a0a;color:#fff}.hero.is-white.is-bold{background-image:linear-gradient(141deg,#e6e6e6,#fff 71%,#fff)}@media screen and (max-width:768px){.hero.is-white.is-bold .navbar-menu{background-image:linear-gradient(141deg,#e6e6e6,#fff 71%,#fff)}}.hero.is-black{background-color:#0a0a0a;color:#fff}.hero.is-black a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-black strong{color:inherit}.hero.is-black .title{color:#fff}.hero.is-black .subtitle{color:hsla(0,0%,100%,.9)}.hero.is-black .subtitle a:not(.button),.hero.is-black .subtitle strong{color:#fff}@media screen and (max-width:1023px){.hero.is-black .navbar-menu{background-color:#0a0a0a}}.hero.is-black .navbar-item,.hero.is-black .navbar-link{color:hsla(0,0%,100%,.7)}.hero.is-black .navbar-link.is-active,.hero.is-black .navbar-link:hover,.hero.is-black a.navbar-item.is-active,.hero.is-black a.navbar-item:hover{background-color:#000;color:#fff}.hero.is-black .tabs a{color:#fff;opacity:.9}.hero.is-black .tabs a:hover,.hero.is-black .tabs li.is-active a{opacity:1}.hero.is-black .tabs.is-boxed a,.hero.is-black .tabs.is-toggle a{color:#fff}.hero.is-black .tabs.is-boxed a:hover,.hero.is-black .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-black .tabs.is-boxed li.is-active a,.hero.is-black .tabs.is-boxed li.is-active a:hover,.hero.is-black .tabs.is-toggle li.is-active a,.hero.is-black .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#0a0a0a}.hero.is-black.is-bold{background-image:linear-gradient(141deg,#000,#0a0a0a 71%,#181616)}@media screen and (max-width:768px){.hero.is-black.is-bold .navbar-menu{background-image:linear-gradient(141deg,#000,#0a0a0a 71%,#181616)}}.hero.is-light{background-color:#f5f5f5;color:rgba(0,0,0,.7)}.hero.is-light a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-light strong{color:inherit}.hero.is-light .title{color:rgba(0,0,0,.7)}.hero.is-light .subtitle{color:rgba(0,0,0,.9)}.hero.is-light .subtitle a:not(.button),.hero.is-light .subtitle strong{color:rgba(0,0,0,.7)}@media screen and (max-width:1023px){.hero.is-light .navbar-menu{background-color:#f5f5f5}}.hero.is-light .navbar-item,.hero.is-light .navbar-link{color:rgba(0,0,0,.7)}.hero.is-light .navbar-link.is-active,.hero.is-light .navbar-link:hover,.hero.is-light a.navbar-item.is-active,.hero.is-light a.navbar-item:hover{background-color:#e8e8e8;color:rgba(0,0,0,.7)}.hero.is-light .tabs a{color:rgba(0,0,0,.7);opacity:.9}.hero.is-light .tabs a:hover,.hero.is-light .tabs li.is-active a{opacity:1}.hero.is-light .tabs.is-boxed a,.hero.is-light .tabs.is-toggle a{color:rgba(0,0,0,.7)}.hero.is-light .tabs.is-boxed a:hover,.hero.is-light .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-light .tabs.is-boxed li.is-active a,.hero.is-light .tabs.is-boxed li.is-active a:hover,.hero.is-light .tabs.is-toggle li.is-active a,.hero.is-light .tabs.is-toggle li.is-active a:hover{background-color:rgba(0,0,0,.7);border-color:rgba(0,0,0,.7);color:#f5f5f5}.hero.is-light.is-bold{background-image:linear-gradient(141deg,#dfd8d9,#f5f5f5 71%,#fff)}@media screen and (max-width:768px){.hero.is-light.is-bold .navbar-menu{background-image:linear-gradient(141deg,#dfd8d9,#f5f5f5 71%,#fff)}}.hero.is-dark{background-color:#363636;color:#fff}.hero.is-dark a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-dark strong{color:inherit}.hero.is-dark .title{color:#fff}.hero.is-dark .subtitle{color:hsla(0,0%,100%,.9)}.hero.is-dark .subtitle a:not(.button),.hero.is-dark .subtitle strong{color:#fff}@media screen and (max-width:1023px){.hero.is-dark .navbar-menu{background-color:#363636}}.hero.is-dark .navbar-item,.hero.is-dark .navbar-link{color:hsla(0,0%,100%,.7)}.hero.is-dark .navbar-link.is-active,.hero.is-dark .navbar-link:hover,.hero.is-dark a.navbar-item.is-active,.hero.is-dark a.navbar-item:hover{background-color:#292929;color:#fff}.hero.is-dark .tabs a{color:#fff;opacity:.9}.hero.is-dark .tabs a:hover,.hero.is-dark .tabs li.is-active a{opacity:1}.hero.is-dark .tabs.is-boxed a,.hero.is-dark .tabs.is-toggle a{color:#fff}.hero.is-dark .tabs.is-boxed a:hover,.hero.is-dark .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-dark .tabs.is-boxed li.is-active a,.hero.is-dark .tabs.is-boxed li.is-active a:hover,.hero.is-dark .tabs.is-toggle li.is-active a,.hero.is-dark .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#363636}.hero.is-dark.is-bold{background-image:linear-gradient(141deg,#1f191a,#363636 71%,#46403f)}@media screen and (max-width:768px){.hero.is-dark.is-bold .navbar-menu{background-image:linear-gradient(141deg,#1f191a,#363636 71%,#46403f)}}.hero.is-primary{background-color:#00d1b2;color:#fff}.hero.is-primary a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-primary strong{color:inherit}.hero.is-primary .title{color:#fff}.hero.is-primary .subtitle{color:hsla(0,0%,100%,.9)}.hero.is-primary .subtitle a:not(.button),.hero.is-primary .subtitle strong{color:#fff}@media screen and (max-width:1023px){.hero.is-primary .navbar-menu{background-color:#00d1b2}}.hero.is-primary .navbar-item,.hero.is-primary .navbar-link{color:hsla(0,0%,100%,.7)}.hero.is-primary .navbar-link.is-active,.hero.is-primary .navbar-link:hover,.hero.is-primary a.navbar-item.is-active,.hero.is-primary a.navbar-item:hover{background-color:#00b89c;color:#fff}.hero.is-primary .tabs a{color:#fff;opacity:.9}.hero.is-primary .tabs a:hover,.hero.is-primary .tabs li.is-active a{opacity:1}.hero.is-primary .tabs.is-boxed a,.hero.is-primary .tabs.is-toggle a{color:#fff}.hero.is-primary .tabs.is-boxed a:hover,.hero.is-primary .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-primary .tabs.is-boxed li.is-active a,.hero.is-primary .tabs.is-boxed li.is-active a:hover,.hero.is-primary .tabs.is-toggle li.is-active a,.hero.is-primary .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#00d1b2}.hero.is-primary.is-bold{background-image:linear-gradient(141deg,#009e6c,#00d1b2 71%,#00e7eb)}@media screen and (max-width:768px){.hero.is-primary.is-bold .navbar-menu{background-image:linear-gradient(141deg,#009e6c,#00d1b2 71%,#00e7eb)}}.hero.is-link{background-color:#3273dc;color:#fff}.hero.is-link a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-link strong{color:inherit}.hero.is-link .title{color:#fff}.hero.is-link .subtitle{color:hsla(0,0%,100%,.9)}.hero.is-link .subtitle a:not(.button),.hero.is-link .subtitle strong{color:#fff}@media screen and (max-width:1023px){.hero.is-link .navbar-menu{background-color:#3273dc}}.hero.is-link .navbar-item,.hero.is-link .navbar-link{color:hsla(0,0%,100%,.7)}.hero.is-link .navbar-link.is-active,.hero.is-link .navbar-link:hover,.hero.is-link a.navbar-item.is-active,.hero.is-link a.navbar-item:hover{background-color:#2366d1;color:#fff}.hero.is-link .tabs a{color:#fff;opacity:.9}.hero.is-link .tabs a:hover,.hero.is-link .tabs li.is-active a{opacity:1}.hero.is-link .tabs.is-boxed a,.hero.is-link .tabs.is-toggle a{color:#fff}.hero.is-link .tabs.is-boxed a:hover,.hero.is-link .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-link .tabs.is-boxed li.is-active a,.hero.is-link .tabs.is-boxed li.is-active a:hover,.hero.is-link .tabs.is-toggle li.is-active a,.hero.is-link .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#3273dc}.hero.is-link.is-bold{background-image:linear-gradient(141deg,#1577c6,#3273dc 71%,#4366e5)}@media screen and (max-width:768px){.hero.is-link.is-bold .navbar-menu{background-image:linear-gradient(141deg,#1577c6,#3273dc 71%,#4366e5)}}.hero.is-info{background-color:#3298dc;color:#fff}.hero.is-info a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-info strong{color:inherit}.hero.is-info .title{color:#fff}.hero.is-info .subtitle{color:hsla(0,0%,100%,.9)}.hero.is-info .subtitle a:not(.button),.hero.is-info .subtitle strong{color:#fff}@media screen and (max-width:1023px){.hero.is-info .navbar-menu{background-color:#3298dc}}.hero.is-info .navbar-item,.hero.is-info .navbar-link{color:hsla(0,0%,100%,.7)}.hero.is-info .navbar-link.is-active,.hero.is-info .navbar-link:hover,.hero.is-info a.navbar-item.is-active,.hero.is-info a.navbar-item:hover{background-color:#238cd1;color:#fff}.hero.is-info .tabs a{color:#fff;opacity:.9}.hero.is-info .tabs a:hover,.hero.is-info .tabs li.is-active a{opacity:1}.hero.is-info .tabs.is-boxed a,.hero.is-info .tabs.is-toggle a{color:#fff}.hero.is-info .tabs.is-boxed a:hover,.hero.is-info .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-info .tabs.is-boxed li.is-active a,.hero.is-info .tabs.is-boxed li.is-active a:hover,.hero.is-info .tabs.is-toggle li.is-active a,.hero.is-info .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#3298dc}.hero.is-info.is-bold{background-image:linear-gradient(141deg,#159dc6,#3298dc 71%,#4389e5)}@media screen and (max-width:768px){.hero.is-info.is-bold .navbar-menu{background-image:linear-gradient(141deg,#159dc6,#3298dc 71%,#4389e5)}}.hero.is-success{background-color:#48c774;color:#fff}.hero.is-success a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-success strong{color:inherit}.hero.is-success .title{color:#fff}.hero.is-success .subtitle{color:hsla(0,0%,100%,.9)}.hero.is-success .subtitle a:not(.button),.hero.is-success .subtitle strong{color:#fff}@media screen and (max-width:1023px){.hero.is-success .navbar-menu{background-color:#48c774}}.hero.is-success .navbar-item,.hero.is-success .navbar-link{color:hsla(0,0%,100%,.7)}.hero.is-success .navbar-link.is-active,.hero.is-success .navbar-link:hover,.hero.is-success a.navbar-item.is-active,.hero.is-success a.navbar-item:hover{background-color:#3abb67;color:#fff}.hero.is-success .tabs a{color:#fff;opacity:.9}.hero.is-success .tabs a:hover,.hero.is-success .tabs li.is-active a{opacity:1}.hero.is-success .tabs.is-boxed a,.hero.is-success .tabs.is-toggle a{color:#fff}.hero.is-success .tabs.is-boxed a:hover,.hero.is-success .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-success .tabs.is-boxed li.is-active a,.hero.is-success .tabs.is-boxed li.is-active a:hover,.hero.is-success .tabs.is-toggle li.is-active a,.hero.is-success .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#48c774}.hero.is-success.is-bold{background-image:linear-gradient(141deg,#29b342,#48c774 71%,#56d296)}@media screen and (max-width:768px){.hero.is-success.is-bold .navbar-menu{background-image:linear-gradient(141deg,#29b342,#48c774 71%,#56d296)}}.hero.is-warning{background-color:#ffdd57;color:rgba(0,0,0,.7)}.hero.is-warning a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-warning strong{color:inherit}.hero.is-warning .title{color:rgba(0,0,0,.7)}.hero.is-warning .subtitle{color:rgba(0,0,0,.9)}.hero.is-warning .subtitle a:not(.button),.hero.is-warning .subtitle strong{color:rgba(0,0,0,.7)}@media screen and (max-width:1023px){.hero.is-warning .navbar-menu{background-color:#ffdd57}}.hero.is-warning .navbar-item,.hero.is-warning .navbar-link{color:rgba(0,0,0,.7)}.hero.is-warning .navbar-link.is-active,.hero.is-warning .navbar-link:hover,.hero.is-warning a.navbar-item.is-active,.hero.is-warning a.navbar-item:hover{background-color:#ffd83d;color:rgba(0,0,0,.7)}.hero.is-warning .tabs a{color:rgba(0,0,0,.7);opacity:.9}.hero.is-warning .tabs a:hover,.hero.is-warning .tabs li.is-active a{opacity:1}.hero.is-warning .tabs.is-boxed a,.hero.is-warning .tabs.is-toggle a{color:rgba(0,0,0,.7)}.hero.is-warning .tabs.is-boxed a:hover,.hero.is-warning .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-warning .tabs.is-boxed li.is-active a,.hero.is-warning .tabs.is-boxed li.is-active a:hover,.hero.is-warning .tabs.is-toggle li.is-active a,.hero.is-warning .tabs.is-toggle li.is-active a:hover{background-color:rgba(0,0,0,.7);border-color:rgba(0,0,0,.7);color:#ffdd57}.hero.is-warning.is-bold{background-image:linear-gradient(141deg,#ffaf24,#ffdd57 71%,#fffa70)}@media screen and (max-width:768px){.hero.is-warning.is-bold .navbar-menu{background-image:linear-gradient(141deg,#ffaf24,#ffdd57 71%,#fffa70)}}.hero.is-danger{background-color:#f14668;color:#fff}.hero.is-danger a:not(.button):not(.dropdown-item):not(.tag):not(.pagination-link.is-current),.hero.is-danger strong{color:inherit}.hero.is-danger .title{color:#fff}.hero.is-danger .subtitle{color:hsla(0,0%,100%,.9)}.hero.is-danger .subtitle a:not(.button),.hero.is-danger .subtitle strong{color:#fff}@media screen and (max-width:1023px){.hero.is-danger .navbar-menu{background-color:#f14668}}.hero.is-danger .navbar-item,.hero.is-danger .navbar-link{color:hsla(0,0%,100%,.7)}.hero.is-danger .navbar-link.is-active,.hero.is-danger .navbar-link:hover,.hero.is-danger a.navbar-item.is-active,.hero.is-danger a.navbar-item:hover{background-color:#ef2e55;color:#fff}.hero.is-danger .tabs a{color:#fff;opacity:.9}.hero.is-danger .tabs a:hover,.hero.is-danger .tabs li.is-active a{opacity:1}.hero.is-danger .tabs.is-boxed a,.hero.is-danger .tabs.is-toggle a{color:#fff}.hero.is-danger .tabs.is-boxed a:hover,.hero.is-danger .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-danger .tabs.is-boxed li.is-active a,.hero.is-danger .tabs.is-boxed li.is-active a:hover,.hero.is-danger .tabs.is-toggle li.is-active a,.hero.is-danger .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#f14668}.hero.is-danger.is-bold{background-image:linear-gradient(141deg,#fa0a62,#f14668 71%,#f7595f)}@media screen and (max-width:768px){.hero.is-danger.is-bold .navbar-menu{background-image:linear-gradient(141deg,#fa0a62,#f14668 71%,#f7595f)}}.hero.is-small .hero-body{padding-bottom:1.5rem;padding-top:1.5rem}@media print,screen and (min-width:769px){.hero.is-medium .hero-body{padding-bottom:9rem;padding-top:9rem}}@media print,screen and (min-width:769px){.hero.is-large .hero-body{padding-bottom:18rem;padding-top:18rem}}.hero.is-fullheight-with-navbar .hero-body,.hero.is-fullheight .hero-body,.hero.is-halfheight .hero-body{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex}.hero.is-fullheight-with-navbar .hero-body>.container,.hero.is-fullheight .hero-body>.container,.hero.is-halfheight .hero-body>.container{-webkit-box-flex:1;flex-grow:1;flex-shrink:1}.hero.is-halfheight{min-height:50vh}.hero.is-fullheight{min-height:100vh}.hero-video{overflow:hidden}.hero-video video{left:50%;min-height:100%;min-width:100%;position:absolute;top:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}.hero-video.is-transparent{opacity:.3}@media screen and (max-width:768px){.hero-video{display:none}}.hero-buttons{margin-top:1.5rem}@media screen and (max-width:768px){.hero-buttons .button{display:-webkit-box;display:flex}.hero-buttons .button:not(:last-child){margin-bottom:.75rem}}@media print,screen and (min-width:769px){.hero-buttons{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.hero-buttons .button:not(:last-child){margin-right:1.5rem}}.hero-foot,.hero-head{-webkit-box-flex:0;flex-grow:0;flex-shrink:0}.hero-body{-webkit-box-flex:1;flex-grow:1;flex-shrink:0}.hero-body,.section{padding:3rem 1.5rem}@media screen and (min-width:1024px){.section.is-medium{padding:9rem 1.5rem}.section.is-large{padding:18rem 1.5rem}}.footer{background-color:#fafafa;padding:3rem 1.5rem 6rem}',""])},157:function(e,t,n){"use strict";var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=o},158:function(e,t,n){"use strict";n.r(t);n(159)},159:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,c=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,l=n(77),h=n(104),d=n(103),f=n(160),m=c.SDK_VERSION,v=new h.Logger("@firebase/firestore");function y(){return v.logLevel===h.LogLevel.DEBUG?o.DEBUG:v.logLevel===h.LogLevel.SILENT?o.SILENT:o.ERROR}function w(e){switch(e){case o.DEBUG:v.logLevel=h.LogLevel.DEBUG;break;case o.ERROR:v.logLevel=h.LogLevel.ERROR;break;case o.SILENT:v.logLevel=h.LogLevel.SILENT;break;default:v.error("Firestore ("+m+"): Invalid value passed to `setLogLevel`")}}function k(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(v.logLevel<=h.LogLevel.DEBUG){var o=n.map(T);v.debug.apply(v,l.__spreadArrays(["Firestore ("+m+") ["+e+"]: "+t],o))}}function x(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(v.logLevel<=h.LogLevel.ERROR){var r=t.map(T);v.error.apply(v,l.__spreadArrays(["Firestore ("+m+"): "+e],r))}}function T(e){if("string"==typeof e)return e;var t=S.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function I(e){var t="FIRESTORE ("+m+") INTERNAL ASSERTION FAILED: "+e;throw x(t),new Error(t)}function E(e,t){e||I(t)}!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(o||(o={}));var S=function(){function e(){}return e.setPlatform=function(t){e.platform&&I("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||I("Platform not set"),e.platform},e}();function A(){return S.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(e){function t(code,t){var n=e.call(this,t)||this;return n.code=code,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}return l.__extends(t,e),t}(Error);function N(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new C(_.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function R(e,t){return void 0!==e?e:t}function O(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function L(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function M(e){for(var t in E(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function P(e,t){if(0!==t.length)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+ne(t.length,"argument")+".")}function F(e,t,n){if(t.length!==n)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires "+ne(n,"argument")+", but was called with "+ne(t.length,"argument")+".")}function V(e,t,n){if(t.length<n)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires at least "+ne(n,"argument")+", but was called with "+ne(t.length,"argument")+".")}function U(e,t,n,r){if(t.length<n||t.length>r)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+ne(t.length,"argument")+".")}function B(e,t,n,r){H(e,t,te(n)+" argument",r)}function j(e,t,n,r){void 0!==r&&B(e,t,n,r)}function z(e,t,n,r){H(e,t,n+" option",r)}function G(e,t,n,r){void 0!==r&&z(e,t,n,r)}function K(e,t,n,r,o){void 0!==r&&function(e,t,n,r,o){if(!(r instanceof Array))throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+X(r));for(var i=0;i<r.length;++i)if(!o(r[i]))throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+i+" was: "+X(r[i]))}(e,t,n,r,o)}function W(e,t,n,input,r){void 0!==input&&function(e,t,n,input,r){for(var o=[],c=0,l=r;c<l.length;c++){var h=l[c];if(h===input)return;o.push(X(h))}var d=X(input);throw new C(_.INVALID_ARGUMENT,"Invalid value "+d+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,input,r)}function Q(e,t,n,r){if(!t.some((function(element){return element===r})))throw new C(_.INVALID_ARGUMENT,"Invalid value "+X(r)+" provided to function "+e+"() for its "+te(n)+" argument. Acceptable values: "+t.join(", "))}function H(e,t,n,input){if(!("object"===t?Y(input):"non-empty string"===t?"string"==typeof input&&""!==input:typeof input===t)){var r=X(input);throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+r)}}function Y(input){return"object"==typeof input&&null!==input&&(Object.getPrototypeOf(input)===Object.prototype||null===Object.getPrototypeOf(input))}function X(input){if(void 0===input)return"undefined";if(null===input)return"null";if("string"==typeof input)return input.length>20&&(input=input.substring(0,20)+"..."),JSON.stringify(input);if("number"==typeof input||"boolean"==typeof input)return""+input;if("object"==typeof input){if(input instanceof Array)return"an array";var e=function(input){if(input.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(input.constructor.toString());if(e&&e.length>1)return e[1]}return null}(input);return e?"a custom "+e+" object":"an object"}return"function"==typeof input?"a function":I("Unknown wrong type: "+typeof input)}function J(e,t,n){if(void 0===n)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+te(t)+" argument, but it was undefined.")}function $(e,t,n){L(t,(function(t,r){if(n.indexOf(t)<0)throw new C(_.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function Z(e,t,n,r){var o=X(r);return new C(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+te(n)+" argument to be a "+t+", but it was: "+o)}function ee(e,t,n){if(n<=0)throw new C(_.INVALID_ARGUMENT,'Function "'+e+'()" requires its '+te(t)+" argument to be a positive number, but it was: "+n+".")}function te(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function ne(e,t){return e+" "+t+(1===e?"":"s")}var ie=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",i=0;i<20;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return E(20===t.length,"Invalid auto ID: "+t),t},e}();function re(e,t){return e<t?-1:e>t?1:0}function oe(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].isEqual(t[i]))return!1;return!0}function ae(s){return s+"\0"}function se(){if("undefined"==typeof Uint8Array)throw new C(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ce(){if(!S.getPlatform().base64Available)throw new C(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ue,le=function(){function e(e){ce(),this._binaryString=e}return e.fromBase64String=function(t){F("Blob.fromBase64String",arguments,1),B("Blob.fromBase64String","string",1,t),ce();try{var n=S.getPlatform().atob(t);return new e(n)}catch(e){throw new C(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},e.fromUint8Array=function(t){if(F("Blob.fromUint8Array",arguments,1),se(),!(t instanceof Uint8Array))throw Z("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return F("Blob.toBase64",arguments,0),ce(),S.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){F("Blob.toUint8Array",arguments,0),se();for(var e=new Uint8Array(this._binaryString.length),i=0;i<this._binaryString.length;i++)e[i]=this._binaryString.charCodeAt(i);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return re(this._binaryString,e._binaryString)},e}(),he=N(le,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),de=function(e,t,n,r,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=o},fe="(default)",pe=function(){function e(e,t){this.projectId=e,this.database=t||fe}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===fe},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return re(this.projectId,e.projectId)||re(this.database,e.database)},e}(),me=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),be=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&I("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&I("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,E(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return E(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return E(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return E(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},e.prototype.forEach=function(e){for(var i=this.offset,t=this.limit();i<t;i++)e(this.segments[i])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=e.get(i),o=t.get(i);if(r<o)return-1;if(r>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(path){if(path.indexOf("//")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid path ("+path+"). Paths must not contain // in them.");return new t(path.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(be),ve=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ve.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(path){for(var e=[],n="",i=0,r=function(){if(0===n.length)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;i<path.length;){var c=path[i];if("\\"===c){if(i+1===path.length)throw new C(_.INVALID_ARGUMENT,"Path has trailing escape character: "+path);var l=path[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new C(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+path);n+=l,i+=2}else"`"===c?(o=!o,i++):"."!==c||o?(n+=c,i++):(r(),i++)}if(r(),o)throw new C(_.INVALID_ARGUMENT,"Unterminated ` in path: "+path);return new t(e)},t.EMPTY_PATH=new t([]),t}(be),we=function(){function e(path){this.path=path,E(e.isDocumentKey(path),"Invalid DocumentKey with an odd number of segments: "+path.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ge.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ge.comparator(e.path,t.path)},e.isDocumentKey=function(path){return path.length%2==0},e.fromSegments=function(t){return new e(new ge(t.slice()))},e.fromPathString=function(path){return new e(ge.fromString(path))},e.EMPTY=new e(new ge([])),e}(),ke=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction"}(ue||(ue={}));var xe=function(){function e(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new ke,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,o,c){var l=new e(t,n,Date.now()+r,o,c);return l.start(r),l},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),Te=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw x("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),E(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var o=xe.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(o),o},e.prototype.verifyNotFailed=function(){this.failure&&I("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){E(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){E(e===ue.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(a,b){return a.targetTimeMs-b.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),e!==ue.All&&o.timerId===e)break}return t.drain()}))},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);E(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),Ie="",Ee="",Se="",Ae="";function _e(path){for(var e="",i=0;i<path.length;i++)e.length>0&&(e=Ne(e)),e=Ce(path.get(i),e);return Ne(e)}function Ce(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=Ie+Se;break;case Ie:n+=Ie+Ae;break;default:n+=o}}return n}function Ne(e){return e+Ie+Ee}function De(path){var e=path.length;if(E(e>=2,"Invalid path "+path),2===e)return E(path.charAt(0)===Ie&&path.charAt(1)===Ee,"Non-empty path "+path+" had length 2"),ge.EMPTY_PATH;for(var t=e-2,n=[],r="",o=0;o<e;){var c=path.indexOf(Ie,o);switch((c<0||c>t)&&I('Invalid encoded resource path: "'+path+'"'),path.charAt(c+1)){case Ee:var l=path.substring(o,c),h=void 0;0===r.length?h=l:(h=r+=l,r=""),n.push(h);break;case Se:r+=path.substring(o,c),r+="\0";break;case Ae:r+=path.substring(o,c+1);break;default:I('Invalid encoded resource path: "'+path+'"')}o=c+2}return new ge(n)}var Re=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),Oe=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new Re(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new Re(0,0)),e}(),Le=function(){function e(e,t){this.comparator=e,this.root=t||Pe.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pe.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Me(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Me(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Me(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Me(this.root,e,this.comparator,!0)},e}(),Me=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){E(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Pe=function(){function e(t,n,r,o,c){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=c?c:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,c){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(t,o.key)){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw I("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw I("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw I("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Fe=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw I("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw I("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw I("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw I("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw I("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new Pe(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();Pe.EMPTY=new Fe;var Ve=function(){function e(e){this.comparator=e,this.data=new Le(this.comparator)}return e.fromMapKeys=function(map){var t=new e(map.comparator);return map.forEach((function(e){t=t.add(e)})),t},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new qe(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new qe(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(data){var t=new e(this.comparator);return t.data=data,t},e}(),qe=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ue=new Le(we.comparator);function Be(){return Ue}function je(){return Be()}var ze=new Le(we.comparator);function Ge(){return ze}var Ke=new Le(we.comparator);function We(){return Ke}var Qe=new Ve(we.comparator);function He(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Qe,r=0,o=e;r<o.length;r++){var c=o[r];n=n.add(c)}return n}var Ye=new Ve(re);function Xe(){return Ye}var Je=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,E(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&E(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;E(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var c=r[i];t=o.applyToRemoteDocument(t,c)}}return t},e.prototype.applyToLocalView=function(e,t){t&&E(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(h=r[n]).key.isEqual(e)&&(t=h.applyToLocalView(t,t,this.localWriteTime))}for(var o=t,c=0,l=this.mutations;c<l.length;c++){var h;(h=l[c]).key.isEqual(e)&&(t=h.applyToLocalView(t,o,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var o=t.applyToLocalView(r.key,e.get(r.key));o&&(n=n.insert(r.key,o))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),He())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&oe(this.mutations,e.mutations)&&oe(this.baseMutations,e.baseMutations)},e}(),$e=function(){function e(e,t,n,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return e.from=function(t,n,r,o){E(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var c=We(),l=t.mutations,i=0;i<l.length;i++)c=c.insert(l[i].key,r[i].version);return new e(t,n,r,o,c)},e}(),Ze=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&I("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,o){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,o)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,o)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,o=0,c=!1;t.forEach((function(element){++r,element.next((function(){++o,c&&o===r&&e()}),(function(e){return n(e)}))})),c=!0,o===r&&e()}))},e.or=function(t){for(var p=e.resolve(!1),n=function(t){p=p.next((function(n){return n?e.resolve(n):t()}))},r=0,o=t;r<o.length;r++){n(o[r])}return p},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,s){r.push(t.call(n,e,s))})),this.waitFor(r)},e}(),et="SimpleDb",tt=function(){function t(e){this.db=e,12.2===t.getIOSVersion(d.getUA())&&x("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return E(t.isAvailable(),"IndexedDB not supported in current environment."),k(et,"Opening database:",e),new Ze((function(o,c){var l=window.indexedDB.open(e,n);l.onsuccess=function(e){var n=e.target.result;o(new t(n))},l.onblocked=function(){c(new C(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(e){var t=e.target.error;"VersionError"===t.name?c(new C(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c(t)},l.onupgradeneeded=function(t){k(et,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r.createOrUpgrade(n,l.transaction,t.oldVersion,fn).next((function(){k(et,"Database upgrade to version "+fn+" complete")}))}})).toPromise()},t.delete=function(e){return k(et,"Removing database:",e),at(window.indexedDB.deleteDatabase(e)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var e=d.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,o=t.getAndroidVersion(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)},t.isMockPersistence=function(){return void 0!==e&&"YES"===e.env.USE_MOCK_PERSISTENCE},t.getStore=function(e,t){return e.store(t)},t.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},t.prototype.runTransaction=function(e,t,n){return l.__awaiter(this,void 0,void 0,(function(){var r,o,c,h,d,f;return l.__generator(this,(function(m){switch(m.label){case 0:r=e.startsWith("readonly"),o=e.endsWith("idempotent"),c=0,h=function(){var e,h,f,m;return l.__generator(this,(function(l){switch(l.label){case 0:++c,e=it.open(d.db,r?"readonly":"readwrite",t),l.label=1;case 1:return l.trys.push([1,3,,4]),(h=n(e).catch((function(t){return e.abort(t),Ze.reject(t)})).toPromise()).catch((function(){})),[4,e.completionPromise];case 2:return l.sent(),[2,{value:h}];case 3:return f=l.sent(),m=o&&"FirebaseError"!==f.name&&c<3,k(et,"Transaction failed with error: %s. Retrying: %s.",f.message,m),m?[3,4]:[2,{value:Promise.reject(f)}];case 4:return[2]}}))},d=this,m.label=1;case 1:return[5,h()];case 2:return"object"==typeof(f=m.sent())?[2,f.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),nt=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return at(this.dbCursor.delete())},e}(),it=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new ke,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=ct(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(k(et,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return E(!!t,"Object store not part of transaction: "+e),new ot(t)},e}(),ot=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(k(et,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(k(et,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),at(n)},e.prototype.add=function(e){return k(et,"ADD",this.store.name,e,e),at(this.store.add(e))},e.prototype.get=function(e){var t=this;return at(this.store.get(e)).next((function(n){return void 0===n&&(n=null),k(et,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return k(et,"DELETE",this.store.name,e),at(this.store.delete(e))},e.prototype.count=function(){return k(et,"COUNT",this.store.name),at(this.store.count())},e.prototype.loadAll=function(e,t){var cursor=this.cursor(this.options(e,t)),n=[];return this.iterateCursor(cursor,(function(e,t){n.push(t)})).next((function(){return n}))},e.prototype.deleteAll=function(e,t){k(et,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var cursor=this.cursor(n);return this.iterateCursor(cursor,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var cursor=this.cursor(n);return this.iterateCursor(cursor,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new Ze((function(n,r){t.onerror=function(e){var t=ct(e.target.error);r(t)},t.onsuccess=function(t){var cursor=t.target.result;cursor?e(cursor.primaryKey,cursor.value).next((function(e){e?cursor.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new Ze((function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var cursor=e.target.result;if(cursor){var o=new nt(cursor),c=t(cursor.primaryKey,cursor.value,o);if(c instanceof Ze){var l=c.catch((function(e){return o.done(),Ze.reject(e)}));n.push(l)}o.isDone?r():null===o.skipToKey?cursor.continue():cursor.continue(o.skipToKey)}else r()}})).next((function(){return Ze.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(E(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function at(e){return new Ze((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ct(e.target.error);n(t)}}))}var st=!1;function ct(e){var t=tt.getIOSVersion(d.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return st||(st=!0,setTimeout((function(){throw r}),0)),r}}return e}var ut=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,o){return E(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pt(e).iterate({index:vn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=ft(n),bt(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=ft(t),bt(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,r){var o=this,c=mt(e),l=pt(e);return l.add({}).next((function(h){E("number"==typeof h,"Auto-generated key is not a number");for(var d=new Je(h,t,n,r),f=o.serializer.toDbMutationBatch(o.userId,d),m=[],v=new Ve((function(e,t){return re(e.canonicalString(),t.canonicalString())})),y=0,w=r;y<w.length;y++){var k=w[y],x=yn.key(o.userId,k.key.path,h);v=v.add(k.key.path.popLast()),m.push(l.put(f)),m.push(c.put(x,yn.PLACEHOLDER))}return v.forEach((function(t){m.push(o.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){o.documentKeysByBatchId[h]=d.keys()})),Ze.waitFor(m).next((function(){return d}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return pt(e).get(t).next((function(e){return e?(E(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Ze.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]),c=null;return pt(e).iterate({index:vn.userMutationsIndex,range:o},(function(e,t,o){t.userId===n.userId&&(E(t.batchId>=r,"Should have found mutation after "+r),c=n.serializer.fromDbMutationBatch(t)),o.done()})).next((function(){return c}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return pt(e).iterate({index:vn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pt(e).loadAll(vn.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=yn.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return mt(e).iterate({range:o},(function(r,o,l){var h=r[0],d=r[1],f=r[2],path=De(d);if(h===n.userId&&t.path.isEqual(path))return pt(e).get(f).next((function(e){if(!e)throw I("Dangling document-mutation reference found: "+r+" which points to "+f);E(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+f),c.push(n.serializer.fromDbMutationBatch(e))}));l.done()})).next((function(){return c}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ve(re),o=[];return t.forEach((function(t){var c=yn.prefixForPath(n.userId,t.path),l=IDBKeyRange.lowerBound(c),h=mt(e).iterate({range:l},(function(e,o,c){var l=e[0],h=e[1],d=e[2],path=De(h);l===n.userId&&t.path.isEqual(path)?r=r.add(d):c.done()}));o.push(h)})),Ze.waitFor(o).next((function(){return n.lookupMutationBatches(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;E(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),E(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,o=r.length+1,c=yn.prefixForPath(this.userId,r),l=IDBKeyRange.lowerBound(c),h=new Ve(re);return mt(e).iterate({range:l},(function(e,t,c){var l=e[0],d=e[1],f=e[2],path=De(d);l===n.userId&&r.isPrefixOf(path)?path.length===o&&(h=h.add(f)):c.done()})).next((function(){return n.lookupMutationBatches(e,h)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],o=[];return t.forEach((function(t){o.push(pt(e).get(t).next((function(e){if(null===e)throw I("Dangling document-mutation reference found, which points to "+t);E(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),Ze.waitFor(o).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return ht(e.simpleDbTransaction,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.removeCachedMutationKeys(t.batchId)})),Ze.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ze.resolve();var r=IDBKeyRange.lowerBound(yn.prefixForUser(t.userId)),o=[];return mt(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var path=De(e[1]);o.push(path)}else r.done()})).next((function(){E(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map((function(p){return p.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return lt(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return bt(e).get(this.userId).next((function(e){return e||new gn(t.userId,-1,"")}))},e}();function lt(e,t,n){var r=yn.prefixForPath(t,n.path),o=r[1],c=IDBKeyRange.lowerBound(r),l=!1;return mt(e).iterate({range:c,keysOnly:!0},(function(e,n,r){var c=e[0],h=e[1];e[2];c===t&&h===o&&(l=!0),r.done()})).next((function(){return l}))}function ht(e,t,n){var r=e.store(vn.store),o=e.store(yn.store),c=[],l=IDBKeyRange.only(n.batchId),h=0,d=r.iterate({range:l},(function(e,t,n){return h++,n.delete()}));c.push(d.next((function(){E(1===h,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var f=[],m=0,v=n.mutations;m<v.length;m++){var y=v[m],w=yn.key(t,y.key.path,n.batchId);c.push(o.delete(w)),f.push(y.key)}return Ze.waitFor(c).next((function(){return f}))}function ft(e){return e instanceof Uint8Array?(E(tt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function pt(e){return Xn.getStore(e,vn.store)}function mt(e){return Xn.getStore(e,yn.store)}function bt(e){return Xn.getStore(e,gn.store)}var gt,vt=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(gt||(gt={}));var yt=function(){function e(e,t){this.generatorId=e,E((e&vt)===e,"Generator ID "+e+" contains more than "+vt+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<vt,e},e.prototype.after=function(e){return this.seek(e+(1<<vt)),this.next()},e.prototype.seek=function(e){E((e&vt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forTargetCache=function(){return new e(gt.QueryCache,2)},e.forSyncEngine=function(){return new e(gt.SyncEngine)},e}(),wt=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=yt.forTargetCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return Oe.fromTimestamp(new Re(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return Tt(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.saveMetadata(e,o)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.saveTargetData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromTargetData(t,r),n.saveMetadata(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.saveTargetData(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return kt(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return E(t.targetCount>0,"Removing from an empty target cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,c=[];return kt(e).iterate((function(l,h){var d=r.serializer.fromDbTarget(h);d.sequenceNumber<=t&&null===n.get(d.targetId)&&(o++,c.push(r.removeTargetData(e,d)))})).next((function(){return Ze.waitFor(c)})).next((function(){return o}))},e.prototype.forEachTarget=function(e,t){var n=this;return kt(e).iterate((function(e,r){var o=n.serializer.fromDbTarget(r);t(o)}))},e.prototype.retrieveMetadata=function(e){return xt(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Xn.getStore(n,Sn.store)).put(Sn.key,t);var n},e.prototype.saveTargetData=function(e,t){return kt(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromTargetData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=this,r=t.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),c=null;return kt(e).iterate({range:o,index:In.queryTargetsIndexName},(function(e,r,o){var l=n.serializer.fromDbTarget(r);t.isEqual(l.target)&&(c=l,o.done())})).next((function(){return c}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],c=It(e);return t.forEach((function(t){var path=_e(t.path);o.push(c.put(new En(n,path))),o.push(r.referenceDelegate.addReference(e,t))})),Ze.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=It(e);return Ze.forEach(t,(function(t){var path=_e(t.path);return Ze.waitFor([o.delete([n,path]),r.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=It(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=It(e),o=He();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var path=De(e[1]),r=new we(path);o=o.add(r)})).next((function(){return o}))},e.prototype.containsKey=function(e,t){var path=_e(t.path),n=IDBKeyRange.bound([path],[ae(path)],!1,!0),r=0;return It(e).iterate({index:En.documentTargetsIndex,keysOnly:!0,range:n},(function(e,t,n){var o=e[0];e[1];0!==o&&(r++,n.done())})).next((function(){return r>0}))},e.prototype.getTargetDataForTarget=function(e,t){var n=this;return kt(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();function kt(e){return Xn.getStore(e,In.store)}function xt(e){return tt.getStore(e,Sn.store).get(Sn.key).next((function(e){return E(null!==e,"Missing metadata row."),e}))}function Tt(e){return xt(e).next((function(e){return e.highestListenSequenceNumber}))}function It(e){return Xn.getStore(e,En.store)}var Et,St=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new Ve(ye.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),At=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),_t=function(e,t){this.version=e,this.transformResults=t};!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(Et||(Et={}));var Ct,Nt,Dt=function(){function e(e,t){this.updateTime=e,this.exists=t,E(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof en&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof en:(E(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!=t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),Rt=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&E(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof en?e.version:Oe.MIN},e}(),Ot=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.value=n,o.precondition=r,o.type=Et.Set,o}return l.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),E(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new en(this.key,n,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Rt.getPostMutationVersion(e);return new en(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(Rt),Lt=function(e){function t(t,data,n,r){var o=e.call(this)||this;return o.key=t,o.data=data,o.fieldMask=n,o.precondition=r,o.type=Et.Patch,o}return l.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),E(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new nn(this.key,t.version);var n=this.patchDocument(e);return new en(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Rt.getPostMutationVersion(e),o=this.patchDocument(e);return new en(this.key,r,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var data;return data=e instanceof en?e.data():Jt.EMPTY,this.patchObject(data)},t.prototype.patchObject=function(data){var e=this;return this.fieldMask.fields.forEach((function(t){if(!t.isEmpty()){var n=e.data.field(t);data=null!==n?data.set(t,n):data.delete(t)}})),data},t}(Rt),Mt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=Et.Transform,r.precondition=Dt.exists(!0),r}return l.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),E(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new nn(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),o=t.version,c=this.transformObject(n.data(),r);return new en(this.key,o,{hasCommittedMutations:!0},c)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),o=this.localTransformResults(n,e,t),c=this.transformObject(r.data(),o);return new en(this.key,r.version,{hasLocalMutations:!0},c)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var o=r[n],c=e instanceof en?e.field(o.field):void 0,l=o.transform.computeBaseValue(c||null);null!=l&&(t=null==t?Jt.EMPTY.set(o.field,l):t.set(o.field,l))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&oe(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){E(e instanceof en,"Unknown MaybeDocument type "+e);var t=e;return E(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];E(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<t.length;i++){var r=this.fieldTransforms[i],o=r.transform,c=null;e instanceof en&&(c=e.field(r.field)),n.push(o.applyToRemoteDocument(c,t[i]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],o=0,c=this.fieldTransforms;o<c.length;o++){var l=c[o],h=l.transform,d=null;t instanceof en&&(d=t.field(l.field)),null===d&&n instanceof en&&(d=n.field(l.field)),r.push(h.applyToLocalView(d,e))}return r},t.prototype.transformObject=function(data,e){E(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var i=0;i<this.fieldTransforms.length;i++){var t=this.fieldTransforms[i].field;data=data.set(t,e[i])}return data},t}(Rt),Pt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=Et.Delete,r}return l.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),E(null==t.transformResults,"Transform results received by DeleteMutation."),new tn(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&E(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new tn(this.key,Oe.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(Rt);!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(Ct||(Ct={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(Nt||(Nt={}));var Ft=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(Nt.Estimate,n);case"previous":return new e(Nt.Previous,n);case"none":case void 0:return new e(Nt.Default,n);default:return I("fromSnapshotOptions() called with invalid options.")}},e}(),Vt=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return E(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),re(this.typeOrder,e.typeOrder)},e}(),qt=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=Ct.NullValue,t.internalValue=null,t}return l.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Vt),Ut=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.BooleanValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?re(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Vt),Bt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.NumberValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t}(Vt);function jt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&jt(this.internalValue,e.internalValue)},t}(Bt),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&jt(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Bt),Kt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.StringValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?re(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Vt),Wt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.TimestampValue,n}return l.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Qt?-1:this.defaultCompareTo(e)},t}(Vt),Qt=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=Ct.TimestampValue,r}return l.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===Nt.Estimate?new Wt(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Nt.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Wt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Vt),Ht=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.BlobValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Vt),Yt=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=Ct.RefValue,r}return l.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:we.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(Vt),Xt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.GeoPointValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Vt),Jt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.ObjectValue,n}return l.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),c=r.getNext();if(o.key!==c.key||!o.value.isEqual(c.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),c=r.getNext(),l=re(o.key,c.key)||o.value.compareTo(c.value);if(l)return l}return re(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(path,e){if(E(!path.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===path.length)return this.setChild(path.firstSegment(),e);var n=this.child(path.firstSegment());n instanceof t||(n=t.EMPTY);var r=n.set(path.popFirst(),e);return this.setChild(path.firstSegment(),r)},t.prototype.delete=function(path){if(E(!path.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===path.length)return new t(this.internalValue.remove(path.firstSegment()));var e=this.child(path.firstSegment());if(e instanceof t){var n=e.delete(path.popFirst());return new t(this.internalValue.insert(path.firstSegment(),n))}return this},t.prototype.contains=function(path){return null!==this.field(path)},t.prototype.field=function(path){E(!path.isEmpty(),"Can't get field of empty path");var e=this;return path.forEach((function(n){e=e instanceof t?e.internalValue.get(n):null})),e},t.prototype.fieldMask=function(){var e=new Ve(ye.comparator);return this.internalValue.forEach((function(n,r){var o=new ye([n]);if(r instanceof t){var c=r.fieldMask().fields;c.isEmpty()?e=e.add(o):c.forEach((function(t){e=e.add(o.child(t))}))}else e=e.add(o)})),St.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Le(re)),t}(Vt),$t=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.ArrayValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){if(n[t].isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var i=0;i<this.internalValue.length;i++)if(!this.internalValue[i].isEqual(e.internalValue[i]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),i=0;i<n;i++){var r=this.internalValue[i].compareTo(e.internalValue[i]);if(r)return r}return re(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(Vt),Zt=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return we.comparator(e.key,t.key)},e}(),en=function(e){function t(t,n,r,o,c,l){var h=e.call(this,t,n)||this;return h.objectValue=o,h.proto=c,h.converter=l,E(void 0!==h.objectValue||void 0!==h.proto&&void 0!==h.converter,"If objectValue is not defined, proto and converter need to be set."),h.hasLocalMutations=!!r.hasLocalMutations,h.hasCommittedMutations=!!r.hasCommittedMutations,h}return l.__extends(t,e),t.prototype.field=function(path){if(this.objectValue)return this.objectValue.field(path);this.fieldValueCache||(this.fieldValueCache=new Map);var e=path.canonicalString(),t=this.fieldValueCache.get(e);if(void 0===t){var n=this.getProtoField(path);t=void 0===n?null:this.converter(n),this.fieldValueCache.set(e,t)}return t},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=Jt.EMPTY;L(this.proto.fields||{},(function(n,r){t=t.set(new ye([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(path){E(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[path.firstSegment()]:void 0,i=1;i<path.length;++i){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[path.get(i)]}return e},t.compareByField=function(e,t,n){var r=t.field(e),o=n.field(e);return null!==r&&null!==o?r.compareTo(o):I("Trying to compare documents on fields that don't exist")},t}(Zt),tn=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return l.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Zt),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Zt),rn=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var c=o[r],l=c[0],h=c[1];if(l.isEqual(e))return h}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(i,1),!0;return!1},e.prototype.forEach=function(e){L(this.inner,(function(t,n){for(var r=0,o=n;r<o.length;r++){var c=o[r],l=c[0],h=c[1];e(l,h)}}))},e.prototype.isEmpty=function(){return M(this.inner)},e}(),on=function(){function e(){this.changes=new rn((function(e){return e.toString()})),this.changesApplied=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return E(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){E(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},e.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ze.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){E(!this.changesApplied,"Changes have already been applied.")},e}(),an=function(){function e(e,t){this.serializer=e,this.indexManager=t}return e.prototype.addEntry=function(e,t,n){return cn(e).put(un(t),n)},e.prototype.removeEntry=function(e,t){var n=cn(e),r=un(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return cn(e).get(un(t)).next((function(e){return n.maybeDecodeDocument(e)}))},e.prototype.getSizedEntry=function(e,t){var n=this;return cn(e).get(un(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:ln(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=je();return this.forEachDbEntry(e,t,(function(e,t){var o=n.maybeDecodeDocument(t);r=r.insert(e,o)})).next((function(){return r}))},e.prototype.getSizedEntries=function(e,t){var n=this,r=je(),o=new Le(we.comparator);return this.forEachDbEntry(e,t,(function(e,t){var c=n.maybeDecodeDocument(t);c?(r=r.insert(e,c),o=o.insert(e,ln(t))):(r=r.insert(e,null),o=o.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:o}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Ze.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),c=o.getNext();return cn(e).iterate({range:r},(function(e,t,r){for(var l=we.fromSegments(e);c&&we.comparator(c,l)<0;)n(c,null),c=o.getNext();c&&c.isEqual(l)&&(n(c,t),c=o.hasNext()?o.getNext():null),c?r.skip(c.path.toArray()):r.done()})).next((function(){for(;c;)n(c,null),c=o.hasNext()?o.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this;E(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var o=Ge(),c=t.path.length+1,l={};if(n.isEqual(Oe.MIN)){var h=t.path.toArray();l.range=IDBKeyRange.lowerBound(h)}else{var d=t.path.toArray(),f=this.serializer.toDbTimestampKey(n);l.range=IDBKeyRange.lowerBound([d,f],!0),l.index=xn.collectionReadTimeIndex}return cn(e).iterate(l,(function(e,n,l){if(e.length===c){var h=r.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(h.key.path)?h instanceof en&&t.matches(h)&&(o=o.insert(h.key,h)):l.done()}})).next((function(){return o}))},e.prototype.getNewDocumentChanges=function(e,t){var n=this,r=Be(),o=this.serializer.toDbTimestampKey(t),c=cn(e),l=IDBKeyRange.lowerBound(o,!0);return c.iterate({index:xn.readTimeIndex,range:l},(function(e,t){var c=n.serializer.fromDbRemoteDocument(t);r=r.insert(c.key,c),o=t.readTime})).next((function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(o)}}))},e.prototype.getLastDocumentChange=function(e){var t,n=this,r=cn(e),o=Oe.MIN;return r.iterate({index:xn.readTimeIndex,reverse:!0},(function(e,r,c){t=n.serializer.fromDbRemoteDocument(r),r.readTime&&(o=n.serializer.fromDbTimestampKey(r.readTime)),c.done()})).next((function(){return{changedDoc:t,readTime:o}}))},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return sn(e).get(Tn.key).next((function(e){return E(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return sn(e).put(Tn.key,t)},e.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof tn&&t.version.isEqual(Oe.forDeletedDoc())?null:t}return null},e.RemoteDocumentChangeBuffer=function(e){function t(t,n){var r=e.call(this)||this;return r.documentCache=t,r.trackRemovals=n,r.documentSizes=new rn((function(e){return e.toString()})),r}return l.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,o=new Ve((function(e,t){return re(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(c,l){var h=t.documentSizes.get(c);if(E(void 0!==h,"Cannot modify a document that wasn't read (for "+c+")"),l){E(!t.readTime.isEqual(Oe.MIN),"Cannot add a document with a read time of zero");var d=t.documentCache.serializer.toDbRemoteDocument(l,t.readTime);o=o.add(c.path.popLast());var f=ln(d);r+=f-h,n.push(t.documentCache.addEntry(e,c,d))}else if(r-=h,t.trackRemovals){var m=t.documentCache.serializer.toDbRemoteDocument(new tn(c,Oe.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,c,m))}else n.push(t.documentCache.removeEntry(e,c))})),o.forEach((function(r){n.push(t.documentCache.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.documentCache.updateMetadata(e,r)),Ze.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},t}(on),e}();function sn(e){return Xn.getStore(e,Tn.store)}function cn(e){return Xn.getStore(e,xn.store)}function un(e){return e.path.toArray()}function ln(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw I("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var hn=function(){function e(){this.collectionParentIndex=new dn}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),Ze.resolve()},e.prototype.getCollectionParents=function(e,t){return Ze.resolve(this.collectionParentIndex.getEntries(t))},e}(),dn=function(){function e(){this.index={}}return e.prototype.add=function(e){E(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ve(ge.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ve(ge.comparator)).toArray()},e}(),fn=9,pn=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var o=this;E(n<r&&n>=0&&r<=fn,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var c=new it(t);n<1&&r>=1&&(function(e){e.createObjectStore(bn.store)}(e),function(e){e.createObjectStore(gn.store,{keyPath:gn.keyPath}),e.createObjectStore(vn.store,{keyPath:vn.keyPath,autoIncrement:!0}).createIndex(vn.userMutationsIndex,vn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(yn.store)}(e),_n(e),function(e){e.createObjectStore(xn.store)}(e));var p=Ze.resolve();return n<3&&r>=3&&(0!==n&&(!function(e){e.deleteObjectStore(En.store),e.deleteObjectStore(In.store),e.deleteObjectStore(Sn.store)}(e),_n(e)),p=p.next((function(){return function(e){var t=e.store(Sn.store),n=new Sn(0,0,Oe.MIN.toTimestamp(),0);return t.put(Sn.key,n)}(c)}))),n<4&&r>=4&&(0!==n&&(p=p.next((function(){return function(e,t){return t.store(vn.store).loadAll().next((function(n){e.deleteObjectStore(vn.store),e.createObjectStore(vn.store,{keyPath:vn.keyPath,autoIncrement:!0}).createIndex(vn.userMutationsIndex,vn.userMutationsKeyPath,{unique:!0});var r=t.store(vn.store),o=n.map((function(e){return r.put(e)}));return Ze.waitFor(o)}))}(e,c)}))),p=p.next((function(){!function(e){e.createObjectStore(Cn.store,{keyPath:Cn.keyPath})}(e)}))),n<5&&r>=5&&(p=p.next((function(){return o.removeAcknowledgedMutations(c)}))),n<6&&r>=6&&(p=p.next((function(){return function(e){e.createObjectStore(Tn.store)}(e),o.addDocumentGlobal(c)}))),n<7&&r>=7&&(p=p.next((function(){return o.ensureSequenceNumbers(c)}))),n<8&&r>=8&&(p=p.next((function(){return o.createCollectionParentIndex(e,c)}))),n<9&&r>=9&&(p=p.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(xn.store);t.createIndex(xn.readTimeIndex,xn.readTimeIndexPath,{unique:!1}),t.createIndex(xn.collectionReadTimeIndex,xn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),p},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(xn.store).iterate((function(e,n){t+=ln(n)})).next((function(){var n=new Tn(t);return e.store(Tn.store).put(Tn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(gn.store),r=e.store(vn.store);return n.loadAll().next((function(n){return Ze.forEach(n,(function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(vn.userMutationsIndex,o).next((function(r){return Ze.forEach(r,(function(r){E(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=t.serializer.fromDbMutationBatch(r);return ht(e,n.userId,o).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(En.store),n=e.store(xn.store);return Tt(e).next((function(e){var r=[];return n.iterate((function(n,o){var path=new ge(n),c=function(path){return[0,_e(path)]}(path);r.push(t.get(c).next((function(n){return n?Ze.resolve():function(path){return t.put(new En(0,_e(path),e))}(path)})))})).next((function(){return Ze.waitFor(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(An.store,{keyPath:An.keyPath});var n=t.store(An.store),r=new dn,o=function(e){if(r.add(e)){var t=e.lastSegment(),o=e.popLast();return n.put({collectionId:t,parent:_e(o)})}};return t.store(xn.store).iterate({keysOnly:!0},(function(e,t){var path=new ge(e);return o(path.popLast())})).next((function(){return t.store(yn.store).iterate({keysOnly:!0},(function(e,t){e[0];var n=e[1],path=(e[2],De(n));return o(path.popLast())}))}))},e}();var mn=function(e,t){this.seconds=e,this.nanoseconds=t},bn=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var gn=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),vn=function(){function e(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var yn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,path){return[e,_e(path)]},e.key=function(e,path,t){return[e,_e(path),t]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var wn=function(path,e){this.path=path,this.readTime=e},kn=function(path,e){this.path=path,this.version=e},xn=function(){function e(e,t,n,r,o,c){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=c}return e.store="remoteDocuments",e.readTimeIndex="readTimeIndex",e.readTimeIndexPath="readTime",e.collectionReadTimeIndex="collectionReadTimeIndex",e.collectionReadTimeIndexPath=["parentPath","readTime"],e}(),Tn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var In=function(){function e(e,t,n,r,o,c,l){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=c,this.query=l}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),En=function(){function e(e,path,t){this.targetId=e,this.path=path,this.sequenceNumber=t,E(0===e==(void 0!==t),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),Sn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),An=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function _n(e){e.createObjectStore(En.store,{keyPath:En.keyPath}).createIndex(En.documentTargetsIndex,En.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(In.store,{keyPath:In.keyPath}).createIndex(In.queryTargetsIndexName,In.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Sn.store)}var Cn=function(){function e(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}return e.store="clientMetadata",e.keyPath="clientId",e}();var Nn,Dn=[gn.store,vn.store,yn.store,xn.store,In.store,bn.store,Sn.store,En.store],Rn=l.__spreadArrays(Dn,[Cn.store]),On=l.__spreadArrays(Rn,[Tn.store]),Ln=l.__spreadArrays(On,[An.store]),Mn=function(){function e(){this.collectionParentsCache=new dn}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(E(t.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(t)){var r=t.lastSegment(),o=t.popLast();return e.addOnCommittedListener((function(){n.collectionParentsCache.add(t)})),Pn(e).put({collectionId:r,parent:_e(o)})}return Ze.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ae(t),""],!1,!0);return Pn(e).loadAll(r).next((function(e){for(var r=0,o=e;r<o.length;r++){var c=o[r];if(c.collectionId!==t)break;n.push(De(c.parent))}return n}))},e}();function Pn(e){return Xn.getStore(e,An.store)}!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(Nn||(Nn={}));var Fn=function(){function e(e,t,n,r,o,c,l){void 0===o&&(o=Oe.MIN),void 0===c&&(c=Oe.MIN),void 0===l&&(l=A()),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.target.isEqual(e.target)},e}(),Vn=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=we.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new tn(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=we.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new nn(t,n)}return I("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),r=e.key.path.popLast().toArray();if(e instanceof en){var o=e.proto?e.proto:this.remoteSerializer.toDocument(e),c=e.hasCommittedMutations;return new xn(null,null,o,c,n,r)}if(e instanceof tn){var path=e.key.path.toArray(),l=this.toDbTimestamp(e.version);c=e.hasCommittedMutations;return new xn(null,new wn(path,l),null,c,n,r)}if(e instanceof nn){path=e.key.path.toArray();var h=this.toDbTimestamp(e.version);return new xn(new kn(path,h),null,null,!0,n,r)}return I("Unexpected MaybeDocument")},e.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},e.prototype.fromDbTimestampKey=function(e){var t=new Re(e[0],e[1]);return Oe.fromTimestamp(t)},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new mn(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new Re(e.seconds,e.nanoseconds);return Oe.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),o=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new vn(e,t.batchId,t.localWriteTime.toMillis(),r,o)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),o=Re.fromMillis(e.localWriteTimeMs);return new Je(e.batchId,o,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(_e(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=He(),n=0,r=e;n<r.length;n++){var o=r[n];t=t.add(new we(De(o)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):Oe.MIN,o=e.resumeToken;return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Fn(t,e.targetId,Nn.Listen,e.lastListenSequenceNumber,n,r,o)},e.prototype.toDbTarget=function(e){E(Nn.Listen===e.purpose,"Only queries with purpose "+Nn.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion),o=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.target):this.remoteSerializer.toQueryTarget(e.target),e.resumeToken instanceof Uint8Array?(E(tt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new In(e.targetId,e.target.canonicalId(),r,n,e.sequenceNumber,o,t)},e}();function qn(e,t){var n=e[0],r=e[1],o=t[0],c=t[1],l=re(n,o);return 0===l?re(r,c):l}var Un=function(){function e(e){this.maxElements=e,this.buffer=new Ve(qn),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();qn(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Bn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jn=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),zn=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){E(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==jn.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;E(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;k("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ue.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(Jn)}))},e}(),Gn=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Ze.resolve(me.INVALID);var r=new Un(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===jn.COLLECTION_DISABLED?(k("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(Bn)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Bn):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,c,l,h,d,f,m=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>m.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+t),r=m.params.maximumSequenceNumbersToCollect):r=t,l=Date.now(),m.nthSequenceNumber(e,r)})).next((function(r){return n=r,h=Date.now(),m.removeTargets(e,n,t)})).next((function(t){return c=t,d=Date.now(),m.removeOrphanedDocuments(e,n)})).next((function(e){(f=Date.now(),y()<=o.DEBUG)&&k("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(l-v)+"ms\n\tDetermined least recently used "+r+" in "+(h-l)+"ms\n\tRemoved "+c+" targets in "+(d-h)+"ms\n\tRemoved "+e+" documents in "+(f-d)+"ms\nTotal Duration: "+(f-v)+"ms");return Ze.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:c,documentsRemoved:e})}))},e}(),Kn=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Wn="IndexedDbPersistence",Qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Yn=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return l.__extends(t,e),t}(Kn),Xn=function(){function e(t,n,r,o,c,l,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=l,this.sequenceNumberSyncer=d,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new ei(this,c),this.dbName=n+e.MAIN_DATABASE,this.serializer=new Vn(h),this.document=o.document,this.targetCache=new wt(this.referenceDelegate,this.serializer),this.indexManager=new Mn,this.remoteDocumentCache=new an(this.serializer,this.indexManager),!o.window||!o.window.localStorage)throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=o.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Yn)return tt.getStore(e.simpleDbTransaction,t);throw I("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return l.__awaiter(this,void 0,void 0,(function(){var n;return l.__generator(this,(function(r){switch(r.label){case 0:if(!e.isAvailable())throw new C(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}}))}))},e.prototype.start=function(){var e=this;return E(!this.started,"IndexedDbPersistence double-started!"),E(null!==this.window,"Expected 'window' to be defined"),tt.openOrCreate(this.dbName,fn,new pn(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.simpleDb.runTransaction("readonly-idempotent",[Sn.store],(function(e){return Tt(e)}))})).then((function(t){e.listenSequence=new me(t,e.sequenceNumberSyncer)})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return l.__awaiter(t,void 0,void 0,(function(){return l.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return l.__awaiter(t,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return l.__awaiter(t,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite-idempotent",Ln,(function(t){return Zn(t).put(new Cn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){return e.isPrimary&&!n?e.releasePrimaryLeaseIfHeld(t).next((function(){return!1})):!!n&&e.acquireOrExtendPrimaryLease(t).next((function(){return!0}))}))})).catch((function(t){if(!e.allowTabSynchronization)throw t;return k(Wn,"Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(t)})),e.isPrimary=t}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return $n(e).get(bn.key).next((function(e){return Ze.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return Zn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return l.__awaiter(this,void 0,void 0,(function(){var t=this;return l.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=e.getStore(n,Cn.store);return r.loadAll().next((function(e){var n=t.filterActiveClients(e,18e5),o=e.filter((function(e){return-1===n.indexOf(e)}));return Ze.forEach(o,(function(e){return r.delete(e.clientId)})).next((function(){return o}))}))}))]);case 1:n.sent().forEach((function(e){t.window.localStorage.removeItem(t.zombiedClientLocalStorageKey(e.clientId))})),n.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ue.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return $n(e).get(bn.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Hn);return!1}}return!(!t.networkEnabled||!t.inForeground)||Zn(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,o=t.networkEnabled===e.networkEnabled;if(n||r&&o)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&k(Wn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return l.__awaiter(this,void 0,void 0,(function(){var e=this;return l.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[bn.store,Cn.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly-idempotent",[Cn.store],(function(t){return Zn(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return l.__awaiter(this,void 0,void 0,(function(){var n;return l.__generator(this,(function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,tt.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return E(this.started,"Cannot initialize MutationQueue before persistence is started."),ut.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getTargetCache=function(){return E(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},e.prototype.getRemoteDocumentCache=function(){return E(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return E(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;k(Wn,"Starting transaction:",e);var o,c=t.endsWith("idempotent"),l=t.startsWith("readonly")?c?"readonly-idempotent":"readonly":c?"readwrite-idempotent":"readwrite";return this.simpleDb.runTransaction(l,Ln,(function(c){return o=new Yn(c,r.listenSequence.next()),"readwrite-primary"===t||"readwrite-primary-idempotent"===t?r.verifyPrimaryLease(c).next((function(e){return!!e||r.canActAsPrimary(c)})).next((function(t){if(!t)throw x("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new C(_.FAILED_PRECONDITION,Qn);return n(o)})).next((function(e){return r.acquireOrExtendPrimaryLease(c).next((function(){return e}))})):r.verifyAllowTabSynchronization(c).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return $n(e).get(bn.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Hn)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new bn(this.clientId,this.allowTabSynchronization,Date.now());return $n(e).put(bn.key,t)},e.isAvailable=function(){return tt.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=$n(e);return n.get(bn.key).next((function(e){return t.isLocalClient(e)?(k(Wn,"Releasing primary lease."),n.delete(bn.key)):Ze.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(x("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(E(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(E("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return k(Wn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return x(Wn,"Failed to get zombied client id.",e),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){x("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function Jn(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){if(!function(e){return e.code===_.FAILED_PRECONDITION&&e.message===Qn}(e))throw e;return k(Wn,"Unexpectedly lost primary lease"),[2]}))}))}function $n(e){return e.store(bn.store)}function Zn(e){return e.store(Cn.store)}var ei=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Gn(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return ti(e,t)},e.prototype.removeReference=function(e,t){return ti(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return ti(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Ze.resolve(!0):function(e,t){var n=!1;return bt(e).iterateSerial((function(r){return lt(e,r,t).next((function(e){return e&&(n=!0),Ze.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],c=0;return this.forEachOrphanedDocument(e,(function(l,h){if(h<=t){var p=n.isPinned(e,l).next((function(t){if(!t)return c++,r.getEntry(e,l).next((function(){return r.removeEntry(l),It(e).delete([0,_e(l.path)])}))}));o.push(p)}})).next((function(){return Ze.waitFor(o)})).next((function(){return r.apply(e)})).next((function(){return c}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ti(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=It(e),o=me.INVALID;return r.iterate({index:En.documentTargetsIndex},(function(e,r){var c=e[0],path=(e[1],r.path),l=r.sequenceNumber;0===c?(o!==me.INVALID&&t(new we(De(n)),o),o=l,n=path):o=me.INVALID})).next((function(){o!==me.INVALID&&t(new we(De(n)),o)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ti(e,t){return It(e).put(function(e,t){return new En(0,_e(e.path),t)}(t,e.currentSequenceNumber))}var ni=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,o=n;r<o.length;r++){e=o[r].applyToLocalView(t,e)}return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=je();return t.forEach((function(e,t){for(var o=0,c=n;o<c.length;o++){t=c[o].applyToLocalView(e,t)}r=r.insert(e,t)})),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var o=n.applyLocalMutationsToDocuments(e,t,r),c=Be();return o.forEach((function(e,t){t||(t=new tn(e,Oe.forDeletedDoc())),c=c.insert(e,t)})),c}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new we(t)).next((function(e){var t=Ge();return e instanceof en&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var r=this;E(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var o=t.collectionGroup,c=Ge();return this.indexManager.getCollectionParents(e,o).next((function(l){return Ze.forEach(l,(function(l){var h=t.asCollectionQueryAtPath(l.child(o));return r.getDocumentsMatchingCollectionQuery(e,h,n).next((function(e){e.forEach((function(e,t){c=c.insert(e,t)}))}))})).next((function(){return c}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var r,o,c=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,c.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o=t,c.addMissingBaseDocuments(e,o,r).next((function(e){r=e;for(var t=0,n=o;t<n.length;t++)for(var c=n[t],l=0,h=c.mutations;l<h.length;l++){var d=h[l],f=d.key,m=r.get(f),v=d.applyToLocalView(m,m,c.localWriteTime);r=v instanceof en?r.insert(f,v):r.remove(f)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=He(),o=0,c=t;o<c.length;o++)for(var l=0,h=c[o].mutations;l<h.length;l++){var d=h[l];d instanceof Lt&&null===n.get(d.key)&&(r=r.add(d.key))}var f=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof en&&(f=f.insert(e,t))})),f}))},e}(),ii=function(){function e(){this.refsByKey=new Ve(ri.compareByKey),this.refsByTarget=new Ve(ri.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new ri(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new ri(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=we.EMPTY,r=new ri(n,e),o=new ri(n,e+1),c=[];return this.refsByTarget.forEachInRange([r,o],(function(e){t.removeRef(e),c.push(e.key)})),c},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=we.EMPTY,n=new ri(t,e),r=new ri(t,e+1),o=He();return this.refsByTarget.forEachInRange([n,r],(function(e){o=o.add(e.key)})),o},e.prototype.containsKey=function(e){var t=new ri(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),ri=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return we.comparator(e.key,t.key)||re(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return re(e.targetOrBatchId,t.targetOrBatchId)||we.comparator(e.key,t.key)},e}(),oi=function(){function e(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new ii,this.targetDataByTarget=new Le(re),this.targetIdByTarget=new rn((function(e){return e.canonicalId()})),this.lastDocumentChangeReadTime=Oe.MIN,E(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.localDocuments=new ni(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return e.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},e.prototype.handleUserChange=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return l.__generator(this,(function(c){switch(c.label){case 0:return t=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var c;return o.mutationQueue.getAllMutationBatches(r).next((function(l){return c=l,t=o.persistence.getMutationQueue(e),n=new ni(o.remoteDocuments,t,o.persistence.getIndexManager()),t.getAllMutationBatches(r)})).next((function(e){for(var t=[],o=[],l=He(),h=0,d=c;h<d.length;h++){var f=d[h];t.push(f.batchId);for(var m=0,v=f.mutations;m<v.length;m++){var y=v[m];l=l.add(y.key)}}for(var w=0,k=e;w<k.length;w++){f=k[w];o.push(f.batchId);for(var x=0,T=f.mutations;x<T.length;x++){y=T[x];l=l.add(y.key)}}return n.getDocuments(r,l).next((function(e){return{affectedDocuments:e,removedBatchIds:t,addedBatchIds:o}}))}))}))];case 1:return r=c.sent(),this.mutationQueue=t,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}}))}))},e.prototype.localWrite=function(e){var t,n=this,r=Re.now(),o=e.reduce((function(e,t){return e.add(t.key)}),He());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(c){return n.localDocuments.getDocuments(c,o).next((function(o){t=o;for(var l=[],h=0,d=e;h<d.length;h++){var f=d[h],m=f.extractBaseValue(t.get(f.key));null!=m&&l.push(new Lt(f.key,m,m.fieldMask(),Dt.exists(!0)))}return n.mutationQueue.addMutationBatch(c,r,l,e)}))})).then((function(e){var n=e.applyToLocalDocumentSet(t);return{batchId:e.batchId,changes:n}}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):Ze.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=e.batch.keys(),o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,o)})).next((function(){return o.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return E(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(t){return e.targetCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,r=t.snapshotVersion,o=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(c){var l=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});o=n.targetDataByTarget;var h=[];O(t.targetChanges,(function(t,l){var d=o.get(t);if(d){h.push(n.targetCache.removeMatchingKeys(c,l.removedDocuments,t).next((function(){return n.targetCache.addMatchingKeys(c,l.addedDocuments,t)})));var f=l.resumeToken;if(f.length>0){var m=d.withResumeToken(f,r).withSequenceNumber(c.currentSequenceNumber);o=o.insert(t,m),e.shouldPersistTargetData(d,m,l)&&h.push(n.targetCache.updateTargetData(c,m))}}}));var d=Be(),f=He();if(t.documentUpdates.forEach((function(e,t){f=f.add(e)})),h.push(l.getEntries(c,f).next((function(e){t.documentUpdates.forEach((function(o,f){var m=e.get(o);f instanceof tn&&f.version.isEqual(Oe.MIN)?(l.removeEntry(o,r),d=d.insert(o,f)):null==m||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(Oe.MIN.isEqual(r)&&x("LocalStore","Cannot add a document when the remote version is zero"),l.addEntry(f,r),d=d.insert(o,f)):k("LocalStore","Ignoring outdated watch update for ",o,". Current version:",m.version," Watch version:",f.version),t.resolvedLimboDocuments.has(o)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(c,o))}))}))),!r.isEqual(Oe.MIN)){var m=n.targetCache.getLastRemoteSnapshotVersion(c).next((function(e){return E(r.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+e),n.targetCache.setTargetsMetadata(c,c.currentSequenceNumber,r)}));h.push(m)}return Ze.waitFor(h).next((function(){return l.apply(c)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(c,d)}))})).then((function(e){return n.targetDataByTarget=o,e}))},e.shouldPersistTargetData=function(e,t,n){return E(t.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},e.prototype.notifyLocalViewChanges=function(e){for(var t=this,n=0,r=e;n<r.length;n++){var o=r[n],c=o.targetId;if(this.localViewReferences.addReferences(o.addedKeys,c),this.localViewReferences.removeReferences(o.removedKeys,c),!o.fromCache){var l=this.targetDataByTarget.get(c);E(null!==l,"Can't set limbo-free snapshot version for unknown target: "+c);var h=l.snapshotVersion,d=l.withLastLimboFreeSnapshotVersion(h);this.targetDataByTarget=this.targetDataByTarget.insert(c,d)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return Ze.forEach(e,(function(e){return Ze.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateTarget=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return t.targetCache.getTargetData(n,e).next((function(o){return o?(r=o,Ze.resolve(r)):t.targetCache.allocateTargetId(n).next((function(o){return r=new Fn(e,o,Nn.Listen,n.currentSequenceNumber),t.targetCache.addTargetData(n,r).next((function(){return r}))}))}))})).then((function(n){return null===t.targetDataByTarget.get(n.targetId)&&(t.targetDataByTarget=t.targetDataByTarget.insert(n.targetId,n),t.targetIdByTarget.set(e,n.targetId)),n}))},e.prototype.getTargetData=function(e,t){var n=this.targetIdByTarget.get(t);return void 0!==n?Ze.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(e,t)},e.prototype.releaseTarget=function(e,t){var n=this,r=this.targetDataByTarget.get(e);if(!r)return Promise.resolve();var o=t?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release target",o,(function(o){var c=n.localViewReferences.removeReferencesForId(e);return t?Ze.resolve():Ze.forEach(c,(function(e){return n.persistence.referenceDelegate.removeReference(o,e)})).next((function(){n.persistence.referenceDelegate.removeTarget(o,r)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(e),n.targetIdByTarget.delete(r.target)}))},e.prototype.executeQuery=function(e,t){var n=this,r=Oe.MIN,o=He();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(c){return n.getTargetData(c,e.toTarget()).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(c,e.targetId).next((function(e){o=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(c,e,t?r:Oe.MIN,t?o:He())})).next((function(e){return{documents:e,remoteKeys:o}}))}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return t.targetCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,o=t.batch,c=o.keys(),l=Ze.resolve();return c.forEach((function(r){l=l.next((function(){return n.getEntry(e,r)})).next((function(e){var c=e,l=t.docVersions.get(r);E(null!==l,"ackVersions should contain every doc in the write."),(!c||c.version.compareTo(l)<0)&&((c=o.applyToRemoteDocument(r,c,t))?n.addEntry(c,t.commitVersion):E(!e,"Mutation batch "+o+" applied to document "+e+" resulted in null"))}))})),l.next((function(){return r.mutationQueue.removeMutationBatch(e,o)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return e.collect(n,t.targetDataByTarget)}))},e.prototype.getTarget=function(e){var t=this,n=this.targetDataByTarget.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return t.targetCache.getTargetDataForTarget(n,e).next((function(e){return e?e.target:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(t){return e.remoteDocuments.getNewDocumentChanges(t,e.lastDocumentChangeReadTime)})).then((function(t){var n=t.changedDocs,r=t.readTime;return e.lastDocumentChangeReadTime=r,n}))},e.prototype.synchronizeLastDocumentChangeReadTime=function(){return l.__awaiter(this,void 0,void 0,(function(){var e,t=this;return l.__generator(this,(function(n){return this.remoteDocuments instanceof an?(e=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.getLastDocumentChange(t)})).then((function(e){var n=e.readTime;t.lastDocumentChangeReadTime=n}))]):[2]}))}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),ai=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=A(),this.batchesByDocumentKey=new Ve(ri.compareByKey)}return e.prototype.checkEmpty=function(e){return Ze.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,o=this.indexOfExistingBatchId(r,"acknowledged");E(0===o,"Can only acknowledge the first batch in the mutation queue");var c=this.mutationQueue[o];return E(r===c.batchId,"Queue ordering failure: expected batch "+r+", got batch "+c.batchId),this.lastStreamToken=n,Ze.resolve()},e.prototype.getLastStreamToken=function(e){return Ze.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Ze.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){E(0!==r.length,"Mutation batches should not be empty");var o=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&E(this.mutationQueue[this.mutationQueue.length-1].batchId<o,"Mutation batchIDs must be monotonically increasing order");var c=new Je(o,t,n,r);this.mutationQueue.push(c);for(var l=0,h=r;l<h.length;l++){var d=h[l];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new ri(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast())}return Ze.resolve(c)},e.prototype.lookupMutationBatch=function(e,t){return Ze.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return E(null!=n,"Failed to find local mutation batch."),Ze.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),o=r<0?0:r;return Ze.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Ze.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return Ze.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new ri(t,0),o=new ri(t,Number.POSITIVE_INFINITY),c=[];return this.batchesByDocumentKey.forEachInRange([r,o],(function(e){E(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);E(null!==r,"Batches in the index must exist in the main table"),c.push(r)})),Ze.resolve(c)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ve(re);return t.forEach((function(e){var t=new ri(e,0),o=new ri(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,o],(function(t){E(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),Ze.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){E(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,o=n;we.isDocumentKey(o)||(o=o.child(""));var c=new ri(new we(o),0),l=new Ve(re);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(l=l.add(e.targetOrBatchId)),!0)}),c),Ze.resolve(this.findMutationBatches(l))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;E(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Ze.forEach(t.mutations,(function(o){var c=new ri(o.key,t.batchId);return r=r.delete(c),n.referenceDelegate.removeMutationReference(e,o.key)})).next((function(){n.batchesByDocumentKey=r}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new ri(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Ze.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&E(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Ze.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return E(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return E(n.batchId===e,"If found batch must match"),n},e}();var si=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Le(we.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){E(!n.isEqual(Oe.MIN),"Cannot add a document with a read time of zero");var r=t.key,o=this.docs.get(r),c=o?o.size:0,l=this.sizer(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:l,readTime:n}),this.size+=l-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Ze.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=je();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),Ze.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){E(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Ge(),o=new we(t.path.child("")),c=this.docs.getIteratorFrom(o);c.hasNext();){var l=c.getNext(),h=l.key,d=l.value,f=d.maybeDocument,m=d.readTime;if(!t.path.isPrefixOf(h.path))break;m.compareTo(n)<=0||f instanceof en&&t.matches(f)&&(r=r.insert(f.key,f))}return Ze.resolve(r)},e.prototype.forEachDocumentKey=function(e,t){return Ze.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e,t){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return Ze.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return l.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,o){o?n.push(t.documentCache.addEntry(e,o,t.readTime)):t.documentCache.removeEntry(r)})),Ze.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(on),e}(),ci=function(){function e(e){this.persistence=e,this.targets=new rn((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=Oe.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new ii,this.targetCount=0,this.targetIdGenerator=yt.forTargetCache()}return e.prototype.forEachTarget=function(e,t){return this.targets.forEach((function(e,n){return t(n)})),Ze.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Ze.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Ze.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Ze.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Ze.resolve()},e.prototype.saveTargetData=function(e){this.targets.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return E(!this.targets.has(t.target),"Adding a target that already exists"),this.saveTargetData(t),this.targetCount+=1,Ze.resolve()},e.prototype.updateTargetData=function(e,t){return E(this.targets.has(t.target),"Updating a non-existent target"),this.saveTargetData(t),Ze.resolve()},e.prototype.removeTargetData=function(e,t){return E(this.targetCount>0,"Removing a target from an empty cache"),E(this.targets.has(t.target),"Removing a non-existent target from the cache"),this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Ze.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,c=[];return this.targets.forEach((function(l,h){h.sequenceNumber<=t&&null===n.get(h.targetId)&&(r.targets.delete(l),c.push(r.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),Ze.waitFor(c).next((function(){return o}))},e.prototype.getTargetCount=function(e){return Ze.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.targets.get(t)||null;return Ze.resolve(n)},e.prototype.getTargetDataForTarget=function(e,t){return I("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.addReference(e,t))})),Ze.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.removeReference(e,t))})),Ze.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Ze.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Ze.resolve(n)},e.prototype.containsKey=function(e,t){return Ze.resolve(this.references.containsKey(t))},e}(),ui=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new me(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.targetCache=new ci(this);this.indexManager=new hn,this.remoteDocumentCache=new si(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n,r){return new e(t,(function(p){return new fi(p,new Vn(n),r)}))},e.createEagerPersistence=function(t){return new e(t,(function(p){return new di(p)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new ai(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.targetCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;k("MemoryPersistence","Starting transaction:",e);var o=new hi(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next((function(e){return r.referenceDelegate.onTransactionCommitted(o).next((function(){return e}))})).toPromise().then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.mutationQueuesContainKey=function(e,t){return Ze.or((n=this.mutationQueues,r=[],L(n,(function(e,t){return r.push(t)})),r).map((function(n){return function(){return n.containsKey(e,t)}})));var n,r},e}(),hi=function(e){function t(t){var n=e.call(this)||this;return n.currentSequenceNumber=t,n}return l.__extends(t,e),t}(Kn),di=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw I("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Ze.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Ze.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Ze.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return Ze.or([function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Ze.resolve(n.inMemoryPins.containsKey(t))}])},e}(),fi=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new rn((function(e){return _e(e.path)})),this.garbageCollector=new Gn(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return Ze.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Ze.forEach(this.orphanedSequenceNumbers,(function(r,o){return n.isPinned(e,r,o).next((function(e){return e?Ze.resolve():t(o)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.forEachDocumentKey(e,(function(o){return n.isPinned(e,o,t).next((function(e){e||(r++,c.removeEntry(o))}))})).next((function(){return c.apply(e)})).next((function(){return r}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Ze.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Ze.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Ze.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Ze.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e,e.version);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw I("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return Ze.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return Ze.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return Ze.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),pi=function(){function e(){}return e.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){return E(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),this.localDocumentsView.getDocumentsMatchingQuery(e,t,Oe.MIN)},e}(),mi=Number,bi=mi.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),gi=mi.MAX_SAFE_INTEGER||Math.pow(2,53)-1,vi=mi.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function yi(e){return null==e}function wi(e){return vi(e)&&e<=gi&&e>=bi}var ki,xi=1e3,Ti=1.5,Ii=6e4,Ei=function(){function e(e,t,n,r,o){void 0===n&&(n=xi),void 0===r&&(r=Ti),void 0===o&&(o=Ii),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);this.currentBaseMs>0&&k("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(ki||(ki={}));var Si,Ai,_i=function(){function e(e,t,n,r,o,c){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=c,this.state=ki.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Ei(e,t)}return e.prototype.isStarted=function(){return this.state===ki.Starting||this.state===ki.Open||this.state===ki.Backoff},e.prototype.isOpen=function(){return this.state===ki.Open},e.prototype.start=function(){this.state!==ki.Error?(E(this.state===ki.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(ki.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){E(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ki.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){return this.isOpen()?[2,this.close(ki.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(n){switch(n.label){case 0:return E(this.isStarted(),"Only started streams should be closed."),E(e===ki.Error||yi(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==ki.Error?this.backoff.reset():t&&t.code===_.RESOURCE_EXHAUSTED?(x(t.toString()),x("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;E(this.state===ki.Initial,"Must be in initial state to auth"),this.state=ki.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new C(_.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;E(this.state===ki.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return E(t.state===ki.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=ki.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;E(this.state===ki.Error,"Should only perform backoff when in Error state"),this.state=ki.Backoff,this.backoff.backoffAndRun((function(){return l.__awaiter(e,void 0,void 0,(function(){return l.__generator(this,(function(e){return E(this.state===ki.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ki.Initial,this.start(),E(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return E(this.isStarted(),"Can't handle server close on non-started stream"),k("PersistentStream","close with error: "+e),this.stream=null,this.close(ki.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Ci=function(e){function t(t,n,r,o,c){var l=e.call(this,t,ue.ListenStreamConnectionBackoff,ue.ListenStreamIdle,n,r,c)||this;return l.serializer=o,l}return l.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(_i),Ni=function(e){function t(t,n,r,o,c){var l=e.call(this,t,ue.WriteStreamConnectionBackoff,ue.WriteStreamIdle,n,r,c)||this;return l.serializer=o,l.handshakeComplete_=!1,l.lastStreamToken=A(),l}return l.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(E(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return E(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){E(this.isOpen(),"Writing handshake requires an opened stream"),E(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;E(this.isOpen(),"Writing mutations requires an opened stream"),E(this.handshakeComplete_,"Handshake must be complete before writing mutations"),E(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(_i),Di=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new Ni(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Ci(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Be();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var o=[];return e.forEach((function(e){var t=r.get(e);E(!!t,"Missing entity in write response for "+e),o.push(t)})),o}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e}(),Ri=function(){function e(e){this.datastore=e,this.readVersions=We(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n=this;return l.__generator(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof tn||e instanceof en?n.recordVersion(e):I("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},e.prototype.set=function(e,data){this.write(data.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,data){try{this.write(data.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new Pt(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return l.__awaiter(this,void 0,void 0,(function(){var e;return l.__generator(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new C(_.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof en)t=e.version;else{if(!(e instanceof tn))throw I("Document in a transaction was a "+e.constructor.name);t=Oe.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new C(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?Dt.updateTime(t):Dt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(Oe.forDeletedDoc()))throw new C(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dt.updateTime(t)}return Dt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){E(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(Si||(Si={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(Ai||(Ai={}));var Oi,Li=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=Si.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Si.Unknown),E(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ue.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,E(e.state===Si.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(Si.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===Si.Online?(this.setAndBroadcast(Si.Unknown),E(0===this.watchStreamFailures,"watchStreamFailures must be 0"),E(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(Si.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===Si.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(details){var e="Could not reach Cloud Firestore backend. "+details+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(x(e),this.shouldWarnClientIsOffline=!1):k("OnlineStateTracker",e)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();function Mi(code){switch(code){case _.OK:return I("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return I("Unknown status code: "+code)}}function Pi(code){if(void 0===code)return x("GRPC error has no .code"),_.UNKNOWN;switch(code){case Oi.OK:return _.OK;case Oi.CANCELLED:return _.CANCELLED;case Oi.UNKNOWN:return _.UNKNOWN;case Oi.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Oi.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Oi.INTERNAL:return _.INTERNAL;case Oi.UNAVAILABLE:return _.UNAVAILABLE;case Oi.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Oi.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Oi.NOT_FOUND:return _.NOT_FOUND;case Oi.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Oi.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Oi.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Oi.ABORTED:return _.ABORTED;case Oi.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Oi.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Oi.DATA_LOSS:return _.DATA_LOSS;default:return I("Unknown status code: "+code)}}function Fi(code){if(void 0===code)return Oi.OK;switch(code){case _.OK:return Oi.OK;case _.CANCELLED:return Oi.CANCELLED;case _.UNKNOWN:return Oi.UNKNOWN;case _.DEADLINE_EXCEEDED:return Oi.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return Oi.RESOURCE_EXHAUSTED;case _.INTERNAL:return Oi.INTERNAL;case _.UNAVAILABLE:return Oi.UNAVAILABLE;case _.UNAUTHENTICATED:return Oi.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return Oi.INVALID_ARGUMENT;case _.NOT_FOUND:return Oi.NOT_FOUND;case _.ALREADY_EXISTS:return Oi.ALREADY_EXISTS;case _.PERMISSION_DENIED:return Oi.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return Oi.FAILED_PRECONDITION;case _.ABORTED:return Oi.ABORTED;case _.OUT_OF_RANGE:return Oi.OUT_OF_RANGE;case _.UNIMPLEMENTED:return Oi.UNIMPLEMENTED;case _.DATA_LOSS:return Oi.DATA_LOSS;default:return I("Unknown status code: "+code)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(Oi||(Oi={}));var Vi,qi,Ui=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||we.comparator(t.key,n.key)}:function(e,t){return we.comparator(e.key,t.key)},this.keyedMap=Ge(),this.sortedSet=new Le(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Vi||(Vi={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(qi||(qi={}));var Bi,ji=function(){function e(){this.changeMap=new Le(we.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Vi.Added&&n.type===Vi.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Vi.Metadata&&n.type!==Vi.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Vi.Modified&&n.type===Vi.Modified?this.changeMap=this.changeMap.insert(t,{type:Vi.Modified,doc:e.doc}):e.type===Vi.Modified&&n.type===Vi.Added?this.changeMap=this.changeMap.insert(t,{type:Vi.Added,doc:e.doc}):e.type===Vi.Removed&&n.type===Vi.Added?this.changeMap=this.changeMap.remove(t):e.type===Vi.Removed&&n.type===Vi.Modified?this.changeMap=this.changeMap.insert(t,{type:Vi.Removed,doc:n.doc}):e.type===Vi.Added&&n.type===Vi.Removed?this.changeMap=this.changeMap.insert(t,{type:Vi.Modified,doc:e.doc}):I("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),zi=function(){function e(e,t,n,r,o,c,l,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=l,this.excludesMetadataChanges=h}return e.fromInitialDocuments=function(t,n,r,o){var c=[];return n.forEach((function(e){c.push({type:Vi.Added,doc:e})})),new e(t,n,Ui.emptySet(n),c,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0},e}(),Gi=function(){function e(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,o=((r={})[t]=Ki.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(Oe.MIN,o,Xe(),Be(),He())},e}(),Ki=function(){function e(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(A(),n,He(),He(),He())},e}(),Wi=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},Qi=function(e,t){this.targetId=e,this.existenceFilter=t};!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Bi||(Bi={}));var Hi=function(e,t,n,r){void 0===n&&(n=A()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Yi=function(){function e(){this.pendingResponses=0,this.documentChanges=$i(),this._resumeToken=A(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=He(),t=He(),n=He();return this.documentChanges.forEach((function(r,o){switch(o){case Vi.Added:e=e.add(r);break;case Vi.Modified:t=t.add(r);break;case Vi.Removed:n=n.add(r);break;default:I("Encountered invalid change type: "+o)}})),new Ki(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=$i()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Xi=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Be(),this.pendingDocumentTargetMapping=Ji(),this.pendingTargetResets=new Ve(re)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof en?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof tn&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var o=0,c=e.removedTargetIds;o<c.length;o++){r=c[o];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case Bi.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Bi.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Bi.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),E(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Bi.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Bi.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:I("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):O(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.targetDataForActiveTarget(t);if(r){var o=r.target;if(o.isDocumentQuery())if(0===n){var c=new we(o.path);this.removeDocumentFromTarget(t,c,new tn(c,Oe.forDeletedDoc()))}else E(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};O(this.targetStates,(function(r,o){var c=t.targetDataForActiveTarget(r);if(c){if(o.current&&c.target.isDocumentQuery()){var l=new we(c.target.path);null!==t.pendingDocumentUpdates.get(l)||t.targetContainsDocument(r,l)||t.removeDocumentFromTarget(r,l,new tn(l,e))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}}));var r=He();this.pendingDocumentTargetMapping.forEach((function(e,n){var o=!0;n.forEachWhile((function(e){var n=t.targetDataForActiveTarget(e);return!n||n.purpose===Nn.LimboResolution||(o=!1,!1)})),o&&(r=r.add(e))}));var o=new Gi(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Be(),this.pendingDocumentTargetMapping=Ji(),this.pendingTargetResets=new Ve(re),o},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Vi.Modified:Vi.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Vi.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Yi),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Ve(re),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.targetDataForActiveTarget(e);return t||k("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.targetDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;E(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Yi,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Ji(){return new Le(we.comparator)}function $i(){return new Le(we.comparator)}var Zi,er="RemoteStore",nr=function(){function e(e,t,n,r,o){var c=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=o,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return l.__awaiter(c,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(k(er,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Li(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return l.__awaiter(this,void 0,void 0,(function(){var e;return l.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Si.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Si.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(k(er,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return k(er,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(Si.Unknown),[2]}}))}))},e.prototype.listen=function(e){D(this.listenTargets,e.targetId)||(this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e))},e.prototype.unlisten=function(e){D(this.listenTargets,e)&&(delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),M(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Si.Unknown)))},e.prototype.getTargetDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){E(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Xi(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!M(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return l.__awaiter(this,void 0,void 0,(function(){var e=this;return l.__generator(this,(function(t){return O(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return void 0===e&&E(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(Si.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return l.__awaiter(this,void 0,void 0,(function(){var n;return l.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Si.Online),e instanceof Hi&&e.state===Bi.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Wi?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Qi?this.watchChangeAggregator.handleExistenceFilter(e):(E(e instanceof Hi,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(Oe.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;E(!e.isEqual(Oe.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return O(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var o=t.listenTargets[n];o&&(t.listenTargets[n]=o.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(A(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new Fn(n.target,e,Nn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;E(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return l.__awaiter(t,void 0,void 0,(function(){return l.__generator(this,(function(t){return D(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},e.prototype.fillWritePipeline=function(){return l.__awaiter(this,void 0,void 0,(function(){var e,t;return l.__generator(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){E(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){E(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch(Jn)},e.prototype.onMutationResult=function(e,t){var n=this;E(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=$e.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t=this;return l.__generator(this,(function(n){return void 0===e&&E(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]):[2]}))}))},e.prototype.handleHandshakeError=function(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return Mi(e.code)?(k(er,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=A(),[2,this.localStore.setLastStreamToken(A()).catch(Jn)]):[2]}))}))},e.prototype.handleWriteError=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n=this;return l.__generator(this,(function(r){return Mi(code=e.code)&&code!==_.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var code}))}))},e.prototype.createTransaction=function(){return new Ri(this.datastore)},e.prototype.restartNetwork=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Si.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(k(er,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(Si.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),ir=function(){function e(e,t){if(F("GeoPoint",arguments,2),B("GeoPoint","number",1,e),B("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new C(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return re(this._lat,e._lat)||re(this._long,e._long)},e}(),rr=function(){function e(path,e,t,n,r,o,c){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===c&&(c=null),this.path=path,this.collectionGroup=e,this.orderBy=t,this.filters=n,this.limit=r,this.startAt=o,this.endAt=c,this.memoizedCanonicalId=null}return e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();null!==this.collectionGroup&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++){e+=o[r].canonicalId(),e+=","}yi(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e=this.path.canonicalString();return null!==this.collectionGroup&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),yi(this.limit)||(e+=", limit: "+this.limit),this.orderBy.length>0&&(e+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),"Target("+e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var i=0;i<this.orderBy.length;i++)if(!this.orderBy[i].isEqual(e.orderBy[i]))return!1;if(this.filters.length!==e.filters.length)return!1;for(i=0;i<this.filters.length;i++)if(!this.filters[i].isEqual(e.filters[i]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.isDocumentQuery=function(){return we.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e}();!function(e){e.First="F",e.Last="L"}(Zi||(Zi={}));var or=function(){function e(path,e,t,n,r,o,c,l){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=Zi.First),void 0===c&&(c=null),void 0===l&&(l=null),this.path=path,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=n,this.limit=r,this.limitType=o,this.startAt=c,this.endAt=l,this.memoizedOrderBy=null,this.memorizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(path){return new e(path)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[yr]:this.memoizedOrderBy=[new vr(e),yr];else{E(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var c=o[r];this.memoizedOrderBy.push(c),c.field.isKeyField()&&(n=!0)}if(!n){var l=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:mr.ASCENDING;this.memoizedOrderBy.push(l===mr.ASCENDING?yr:wr)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(filter){E(null==this.getInequalityFilterField()||!(filter instanceof cr)||!filter.isInequality()||filter.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),E(!this.isDocumentQuery(),"No filtering allowed for document query");var t=this.filters.concat([filter]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),t,this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){E(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.withLimitToFirst=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,Zi.First,this.startAt,this.endAt)},e.prototype.withLimitToLast=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,Zi.Last,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(path){return new e(path,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},e.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},e.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},e.prototype.isEqual=function(e){return this.toTarget().isEqual(e.toTarget())&&this.limitType===e.limitType},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var c=o[r],l=c.compare(e,t);if(0!==l)return l;n=n||c.field.isKeyField()}return E(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimitToFirst=function(){return!yi(this.limit)&&this.limitType===Zi.First},e.prototype.hasLimitToLast=function(){return!yi(this.limit)&&this.limitType===Zi.Last},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var filter=t[e];if(filter instanceof cr&&filter.isInequality())return filter.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var filter=n[t];if(filter instanceof cr&&e.indexOf(filter.op)>=0)return filter.op}return null},e.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.toTarget=function(){if(!this.memorizedTarget)if(this.limitType===Zi.First)this.memorizedTarget=new rr(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var r=n[t],o=r.dir===mr.DESCENDING?mr.ASCENDING:mr.DESCENDING;e.push(new vr(r.field,o))}var c=this.endAt?new gr(this.endAt.position,!this.endAt.before):null,l=this.startAt?new gr(this.startAt.position,!this.startAt.before):null;this.memorizedTarget=new rr(this.path,this.collectionGroup,e,this.filters,this.limit,c,l)}return this.memorizedTarget},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):we.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){E(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),ar=function(){},sr=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return I("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),cr=function(e){function t(t,n,r){var o=e.call(this)||this;return o.field=t,o.op=n,o.value=r,o}return l.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===sr.IN?(E(r instanceof $t,"Comparing on key with IN, but filter value not an ArrayValue"),E(r.internalValue.every((function(e){return e instanceof Yt})),"Comparing on key with IN, but an array value was not a RefValue"),new lr(e,r)):(E(r instanceof Yt,"Comparing on key, but filter value not a RefValue"),E(n!==sr.ARRAY_CONTAINS&&n!==sr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new ur(e,n,r));if(r.isEqual(qt.INSTANCE)){if(n!==sr.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Gt.NAN)){if(n!==sr.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===sr.ARRAY_CONTAINS?new dr(e,r):n===sr.IN?(E(r instanceof $t,"IN filter has invalid value: "+r.toString()),new fr(e,r)):n===sr.ARRAY_CONTAINS_ANY?(E(r instanceof $t,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new pr(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case sr.LESS_THAN:return e<0;case sr.LESS_THAN_OR_EQUAL:return e<=0;case sr.EQUAL:return 0===e;case sr.GREATER_THAN:return e>0;case sr.GREATER_THAN_OR_EQUAL:return e>=0;default:return I("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[sr.LESS_THAN,sr.LESS_THAN_OR_EQUAL,sr.GREATER_THAN,sr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(ar),ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=we.comparator(e.key,t.key);return this.matchesComparison(n)},t}(cr),lr=function(e){function t(t,n){var r=e.call(this,t,sr.IN,n)||this;return r.value=n,r}return l.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},t}(cr),dr=function(e){function t(t,n){return e.call(this,t,sr.ARRAY_CONTAINS,n)||this}return l.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof $t&&t.contains(this.value)},t}(cr),fr=function(e){function t(t,n){var r=e.call(this,t,sr.IN,n)||this;return r.value=n,r}return l.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(cr),pr=function(e){function t(t,n){var r=e.call(this,t,sr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return l.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof $t&&n.internalValue.some((function(e){return t.value.contains(e)}))},t}(cr),mr=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),gr=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){E(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=e[i],component=this.position[i];if(r.field.isKeyField())E(component instanceof Yt,"Bound has a non-key value where the key path is being used."),n=we.comparator(component.key,t.key);else{var o=t.field(r.field);E(null!==o,"Field should exist since document matched the orderBy already."),n=component.compareTo(o)}if(r.dir===mr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var i=0;i<this.position.length;i++){var t=this.position[i],n=e.position[i];if(!t.isEqual(n))return!1}return!0},e}(),vr=function(){function e(e,t){this.field=e,void 0===t&&(t=mr.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?en.compareByKey(e,t):en.compareByField(this.field,e,t);switch(this.dir){case mr.ASCENDING:return n;case mr.DESCENDING:return-1*n;default:return I("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),yr=new vr(ye.keyField(),mr.ASCENDING),wr=new vr(ye.keyField(),mr.DESCENDING),kr=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new Qt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),xr=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=Er(e),n=function(e){t.find((function(element){return element.isEqual(e)}))||t.push(e)},r=0,o=this.elements;r<o.length;r++){n(o[r])}return new $t(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&oe(t.elements,this.elements)},e}(),Tr=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=Er(e),n=function(e){t=t.filter((function(element){return!element.isEqual(e)}))},r=0,o=this.elements;r<o.length;r++){n(o[r])}return new $t(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&oe(t.elements,this.elements)},e}(),Ir=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof zt&&this.operand instanceof zt){var r=n.internalValue+this.operand.internalValue;return new zt(r)}r=n.internalValue+this.operand.internalValue;return new Gt(r)},e.prototype.applyToRemoteDocument=function(e,t){return E(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof Bt?e:new zt(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function Er(e){return e instanceof $t?e.internalValue.slice():[]}var Sr,Ar,_r=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),Cr=((Sr={})[mr.ASCENDING.name]="ASCENDING",Sr[mr.DESCENDING.name]="DESCENDING",Sr),Nr=((Ar={})[sr.LESS_THAN.name]="LESS_THAN",Ar[sr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ar[sr.GREATER_THAN.name]="GREATER_THAN",Ar[sr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ar[sr.EQUAL.name]="EQUAL",Ar[sr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ar[sr.IN.name]="IN",Ar[sr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Ar),Dr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(e,t){E(!yi(e),t+" is missing")}function Or(e){return"number"==typeof e?e:"string"==typeof e?Number(e):I("can't parse "+e)}var Lr=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var code=void 0===e.code?_.UNKNOWN:Pi(e.code);return new C(code,e.message||"")},e.prototype.toInt32Value=function(e){return this.options.useProto3Json||yi(e)?e:{value:e}},e.prototype.fromInt32Value=function(e){var t;return yi(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return this.options.useProto3Json?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);E(!!e,"Cannot deserialize null or undefined timestamp.");var t=Or(e.seconds||"0"),n=e.nanos||0;return new Re(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=Dr.exec(e);if(E(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e),c=Math.floor(o.getTime()/1e3);return new Re(c,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(E(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),le.fromBase64String(e)):(E(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),le.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return E(!!e,"Trying to deserialize version that isn't set"),Oe.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,path){return this.fullyQualifiedPrefixPath(e).child("documents").child(path).canonicalString()},e.prototype.fromResourceName=function(e){var t=ge.fromString(e);return E(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return E(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),E(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new we(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(path){return this.toResourceName(this.databaseId,path)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?ge.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new ge(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new ge(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return E(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(path){return path.length>=4&&"projects"===path.get(0)&&"databases"===path.get(2)},e.prototype.toValue=function(e){if(e instanceof qt)return{nullValue:"NULL_VALUE"};if(e instanceof Ut)return{booleanValue:e.value()};if(e instanceof zt)return{integerValue:""+e.value()};if(e instanceof Gt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Kt?{stringValue:e.value()}:e instanceof Jt?{mapValue:this.toMapValue(e)}:e instanceof $t?{arrayValue:this.toArrayValue(e)}:e instanceof Wt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Xt?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Ht?{bytesValue:this.toBytes(e.value())}:e instanceof Yt?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:I("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return qt.INSTANCE;if("booleanValue"in e)return Ut.of(e.booleanValue);if("integerValue"in e)return new zt(Or(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Gt.NAN;if("Infinity"===e.doubleValue)return Gt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Gt.NEGATIVE_INFINITY}return new Gt(e.doubleValue)}if("stringValue"in e)return new Kt(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){Rr(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new $t(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return Rr(e.timestampValue,"timestampValue"),new Wt(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){Rr(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,o=e.geoPointValue.longitude||0;return new Xt(new ir(r,o))}if("bytesValue"in e){Rr(e.bytesValue,"bytesValue");var c=this.fromBlob(e.bytesValue);return new Ht(c)}if("referenceValue"in e){Rr(e.referenceValue,"referenceValue");var l=this.fromResourceName(e.referenceValue),h=new pe(l.get(1),l.get(3)),d=new we(this.extractLocalPathFromResourceName(l));return new Yt(h,d)}return I("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return E(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),o=this.fromVersion(e.updateTime);return new en(r,o,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(object){var e=this,map=object,t=Jt.EMPTY;return L(map,(function(n,r){t=t.set(new ye([n]),e.fromValue(r))})),t},e.prototype.toMapValue=function(map){return{fields:this.toFields(map)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){var t=this;E(!!e.found,"Tried to deserialize a found document from a missing document."),Rr(e.found.name,"doc.found.name"),Rr(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new en(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},e.prototype.fromMissing=function(e){E(!!e.missing,"Tried to deserialize a missing document from a found document."),E(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new tn(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):I("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Bi.Added:return"ADD";case Bi.Current:return"CURRENT";case Bi.NoChange:return"NO_CHANGE";case Bi.Removed:return"REMOVE";case Bi.Reset:return"RESET";default:return I("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof Qi)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Wi){if(e.newDoc instanceof en){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof tn){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Hi){var n=void 0;return e.cause&&(n={code:Fi(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return I("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){Rr(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=e.targetChange.resumeToken||this.emptyByteString(),l=e.targetChange.cause,h=l&&this.fromRpcStatus(l);t=new Hi(r,o,c,h||null)}else if("documentChange"in e){Rr(e.documentChange,"documentChange"),Rr(e.documentChange.document,"documentChange.name"),Rr(e.documentChange.document.name,"documentChange.document.name"),Rr(e.documentChange.document.updateTime,"documentChange.document.updateTime");var d=e.documentChange,f=this.fromName(d.document.name),m=this.fromVersion(d.document.updateTime),v=new en(f,m,{},void 0,d.document,(function(e){return n.fromValue(e)})),y=d.targetIds||[],w=d.removedTargetIds||[];t=new Wi(y,w,v.key,v)}else if("documentDelete"in e){Rr(e.documentDelete,"documentDelete"),Rr(e.documentDelete.document,"documentDelete.document");var k=e.documentDelete;f=this.fromName(k.document),m=k.readTime?this.fromVersion(k.readTime):Oe.forDeletedDoc(),v=new tn(f,m),w=k.removedTargetIds||[];t=new Wi([],w,v.key,v)}else if("documentRemove"in e){Rr(e.documentRemove,"documentRemove"),Rr(e.documentRemove.document,"documentRemove");var x=e.documentRemove;f=this.fromName(x.document),w=x.removedTargetIds||[];t=new Wi([],w,f,null)}else{if(!("filter"in e))return I("Unknown change type "+JSON.stringify(e));Rr(e.filter,"filter"),Rr(e.filter.targetId,"filter.targetId");var filter=e.filter,T=filter.count||0,E=new _r(T),S=filter.targetId;t=new Qi(S,E)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Bi.NoChange:"ADD"===e?Bi.Added:"REMOVE"===e?Bi.Removed:"CURRENT"===e?Bi.Current:"RESET"===e?Bi.Reset:I("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return Oe.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?Oe.MIN:t.readTime?this.fromVersion(t.readTime):Oe.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof Ot)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Pt)t={delete:this.toName(e.key)};else if(e instanceof Lt)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Mt))return I("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):Dt.NONE;if(e.update){Rr(e.update.name,"name");var r=this.fromName(e.update.name),o=this.fromFields(e.update.fields||{});if(e.updateMask){var c=this.fromDocumentMask(e.updateMask);return new Lt(r,o,c,n)}return new Ot(r,o,n)}if(e.delete){r=this.fromName(e.delete);return new Pt(r,n)}if(e.transform){r=this.fromName(e.transform.document);var l=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return E(!0===n.exists,'Transforms only support precondition "exists == true"'),new Mt(r,l)}return I("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return E(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:I("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?Dt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?Dt.exists(e.exists):Dt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t);r.isEqual(Oe.MIN)&&(r=this.fromVersion(t));var o=null;return e.transformResults&&e.transformResults.length>0&&(o=e.transformResults.map((function(e){return n.fromValue(e)}))),new _t(r,o)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(E(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof kr)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xr)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Tr)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Ir)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw I("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)E("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=kr.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new xr(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e){r=e.removeAllFromArray.values||[];n=new Tr(r.map((function(e){return t.fromValue(e)})))}else if("increment"in e){var o=this.fromValue(e.increment);E(o instanceof Bt,"NUMERIC_ADD transform requires a NumberValue"),n=new Ir(o)}else I("Unknown transform proto: "+JSON.stringify(e));var c=ye.fromServerFormat(e.fieldPath);return new At(c,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;E(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return or.atPath(this.fromQueryPath(n)).toTarget()},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},path=e.path;null!==e.collectionGroup?(E(path.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(path),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(E(path.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(path.popLast()),t.structuredQuery.from=[{collectionId:path.lastSegment()}]);var n=this.toFilter(e.filters);n&&(t.structuredQuery.where=n);var r=this.toOrder(e.orderBy);r&&(t.structuredQuery.orderBy=r);var o=this.toInt32Value(e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var path=this.fromQueryPath(e.parent),t=e.structuredQuery,n=t.from?t.from.length:0,r=null;if(n>0){E(1===n,"StructuredQuery.from with more than one collection is not supported.");var o=t.from[0];o.allDescendants?r=o.collectionId:path=path.child(o.collectionId)}var c=[];t.where&&(c=this.fromFilter(t.where));var l=[];t.orderBy&&(l=this.fromOrder(t.orderBy));var h=null;t.limit&&(h=this.fromInt32Value(t.limit));var d=null;t.startAt&&(d=this.fromCursor(t.startAt));var f=null;return t.endAt&&(f=this.fromCursor(t.endAt)),new or(path,r,l,c,h,Zi.First,d,f).toTarget()},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case Nn.Listen:return null;case Nn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Nn.LimboResolution:return"limbo-document";default:return I("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.target;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(filter){return filter instanceof cr?t.toUnaryOrFieldFilter(filter):I("Unrecognized filter: "+JSON.stringify(filter))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(filter){var e=this;return filter?void 0!==filter.unaryFilter?[this.fromUnaryFilter(filter)]:void 0!==filter.fieldFilter?[this.fromFieldFilter(filter)]:void 0!==filter.compositeFilter?filter.compositeFilter.filters.map((function(t){return e.fromFilter(t)})).reduce((function(e,t){return e.concat(t)})):I("Unknown filter: "+JSON.stringify(filter)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(cursor){var e=this;return{before:cursor.before,values:cursor.position.map((function(component){return e.toValue(component)}))}},e.prototype.fromCursor=function(cursor){var e=this,t=!!cursor.before,n=cursor.values.map((function(component){return e.fromValue(component)}));return new gr(n,t)},e.prototype.toDirection=function(e){return Cr[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return mr.ASCENDING;case"DESCENDING":return mr.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return Nr[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return sr.EQUAL;case"GREATER_THAN":return sr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return sr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return sr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return sr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return sr.ARRAY_CONTAINS;case"IN":return sr.IN;case"ARRAY_CONTAINS_ANY":return sr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return I("Unspecified operator");default:return I("Unknown operator")}},e.prototype.toFieldPathReference=function(path){return{fieldPath:path.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return ye.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new vr(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(filter){return cr.create(this.fromFieldPathReference(filter.fieldFilter.field),this.fromOperatorName(filter.fieldFilter.op),this.fromValue(filter.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(filter){if(filter.op===sr.EQUAL){if(filter.value.isEqual(Gt.NAN))return{unaryFilter:{field:this.toFieldPathReference(filter.field),op:"IS_NAN"}};if(filter.value.isEqual(qt.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(filter.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(filter.field),op:this.toOperatorName(filter.op),value:this.toValue(filter.value)}}},e.prototype.fromUnaryFilter=function(filter){switch(filter.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(filter.unaryFilter.field);return cr.create(e,sr.EQUAL,Gt.NAN);case"IS_NULL":var t=this.fromFieldPathReference(filter.unaryFilter.field);return cr.create(t,sr.EQUAL,qt.INSTANCE);case"OPERATOR_UNSPECIFIED":return I("Unspecified filter");default:return I("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(path){return ye.fromServerFormat(path)}));return St.fromArray(t)},e}(),Mr=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Pr=function(){function e(e){this.syncEngine=e,this.queries=new rn((function(q){return q.canonicalId()})),this.onlineState=Si.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);(r||(n=!0,r=new Mr,this.queries.set(t,r)),r.listeners.push(e),E(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap)&&(e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return l.__generator(this,(function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var o=r[n],c=o.query,l=this.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++){d[h].onViewSnapshot(o)&&(t=!0)}l.viewSnap=o}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,o=n.listeners;r<o.length;r++){o[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var o=0,c=r.listeners;o<c.length;o++){c[o].applyOnlineStateChange(e)&&(t=!0)}})),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},e}(),Fr=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=Si.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(E(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];o.type!==Vi.Metadata&&t.push(o)}e=new zi(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var c=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),c=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),c=!0),this.snap=e,c},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){if(E(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==Si.Offline;return this.options.waitForSyncWhenOnline&&n?(E(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===Si.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){E(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=zi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),Vr=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=r}return e.fromSnapshot=function(t,n){for(var r=He(),o=He(),c=0,l=n.docChanges;c<l.length;c++){var h=l[c];switch(h.type){case Vi.Added:r=r.add(h.doc.key);break;case Vi.Removed:o=o.add(h.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),qr=function(e){this.key=e},Ur=function(e){this.key=e},Br=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=He(),this.mutatedKeys=He(),this.documentSet=new Ui(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new ji,o=t?t.documentSet:this.documentSet,c=t?t.mutatedKeys:this.mutatedKeys,l=o,h=!1,d=this.query.hasLimitToFirst()&&o.size===this.query.limit?o.last():null,f=this.query.hasLimitToLast()&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((function(e,t){var m=o.get(e),v=t instanceof en?t:null;v&&(E(e.isEqual(v.key),"Mismatching keys found in document changes: "+e+" != "+v.key),v=n.query.matches(v)?v:null);var y=!!m&&n.mutatedKeys.has(m.key),w=!!v&&(v.hasLocalMutations||n.mutatedKeys.has(v.key)&&v.hasCommittedMutations),k=!1;m&&v?m.data().isEqual(v.data())?y!==w&&(r.track({type:Vi.Metadata,doc:v}),k=!0):n.shouldWaitForSyncedDocument(m,v)||(r.track({type:Vi.Modified,doc:v}),k=!0,(d&&n.query.docComparator(v,d)>0||f&&n.query.docComparator(v,f)<0)&&(h=!0)):!m&&v?(r.track({type:Vi.Added,doc:v}),k=!0):m&&!v&&(r.track({type:Vi.Removed,doc:m}),k=!0,(d||f)&&(h=!0));k&&(v?(l=l.add(v),c=w?c.add(e):c.delete(e)):(l=l.delete(e),c=c.delete(e)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;l.size>this.query.limit;){var m=this.query.hasLimitToFirst()?l.last():l.first();l=l.delete(m.key),c=c.delete(m.key),r.track({type:Vi.Removed,doc:m})}return E(!h||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:l,changeSet:r,needsRefill:h,mutatedKeys:c}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;E(!e.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var c=e.changeSet.getChanges();c.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Vi.Added:return 1;case Vi.Modified:case Vi.Metadata:return 2;case Vi.Removed:return 0;default:return I("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var l=t?this.updateLimboDocuments():[],h=0===this.limboDocuments.size&&this.current?qi.Synced:qi.Local,d=h!==this.syncState;return this.syncState=h,0!==c.length||d?{snapshot:new zi(this.query,e.documentSet,o,c,e.mutatedKeys,h===qi.Local,d,!1),limboChanges:l}:{limboChanges:l}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===Si.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new ji,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return E(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=He(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Ur(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new qr(e))})),n},e.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=He();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},e.prototype.computeInitialSnapshot=function(){return zi.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===qi.Local)},e}();var jr=5,zr=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=jr,this.backoff=new Ei(this.asyncQueue,ue.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return l.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return l.__generator(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!yi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var code=e.code;return"aborted"===code||"failed-precondition"===code||!Mi(code)}return!1},e}(),Gr=function(e,t,view){this.query=e,this.targetId=t,this.view=view},Kr=function(e){this.key=e,this.receivedDocument=!1},Wr=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new rn((function(q){return q.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new Le(we.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new ii,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=yt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Si.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){E(null!==e,"SyncEngine listener cannot be null"),E(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,c;return l.__generator(this,(function(l){switch(l.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(e.toTarget())];case 2:return o=l.sent(),c=this.sharedClientState.addLocalQueryTarget(o.targetId),t=o.targetId,[4,this.initializeViewAndComputeSnapshot(e,t,"current"===c)];case 3:n=l.sent(),this.isPrimary&&this.remoteStore.listen(o),l.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t,n){return l.__awaiter(this,void 0,void 0,(function(){var r,view,o,c,h,data;return l.__generator(this,(function(l){switch(l.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return r=l.sent(),view=new Br(e,r.remoteKeys),o=view.computeDocChanges(r.documents),c=Ki.createSynthesizedTargetChangeForCurrentChange(t,n&&this.onlineState!==Si.Offline),E(0===(h=view.applyChanges(o,!0===this.isPrimary,c)).limboChanges.length,"View returned limbo docs before target ack from the server."),E(!!h.snapshot,"applyChanges for new view should always return a snapshot"),data=new Gr(e,t,view),this.queryViewsByQuery.set(e,data),this.queriesByTarget[t]||(this.queriesByTarget[t]=[]),this.queriesByTarget[t].push(e),[2,h.snapshot]}}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=r.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},e.prototype.unlisten=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return l.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("unlisten()"),E(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),(n=this.queriesByTarget[t.targetId]).length>1?(this.queriesByTarget[t.targetId]=n.filter((function(q){return!q.isEqual(e)})),this.queryViewsByQuery.delete(e),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseTarget(t.targetId,!1).then((function(){r.sharedClientState.clearQueryState(t.targetId),r.remoteStore.unlisten(t.targetId),r.removeAndCleanupTarget(t.targetId)})).catch(Jn)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(t.targetId),[4,this.localStore.releaseTarget(t.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return l.__awaiter(this,void 0,void 0,(function(){var n;return l.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new zr(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n=this;return l.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),L(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(E(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?E(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(E(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,Jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.applyOnlineStateChange=function(e,source){if(this.isPrimary&&source===Ai.RemoteStore||!this.isPrimary&&source===Ai.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var t=[];this.queryViewsByQuery.forEach((function(n,r){var o=r.view.applyOnlineStateChange(e);E(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&t.push(o.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(t),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return l.__awaiter(this,void 0,void 0,(function(){var n,r,o,c,h,d=this;return l.__generator(this,(function(l){switch(l.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],o=(o=new Le(we.comparator)).insert(r,new tn(r,Oe.forDeletedDoc())),c=He().add(r),h=new Gi(Oe.MIN,{},new Ve(re),o,c),[2,this.applyRemoteEvent(h)]):[3,1];case 1:return[4,this.localStore.releaseTarget(e,!1).then((function(){return d.removeAndCleanupTarget(e,t)})).catch(Jn)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return l.__awaiter(this,void 0,void 0,(function(){var r;return l.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=o.sent())?(k("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):I("Unknown batchState: "+t),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n;return l.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.rejectFailedWrite=function(e,t){return l.__awaiter(this,void 0,void 0,(function(){var n;return l.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.registerPendingWritesCallback=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n;return l.__generator(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||k("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}}))}))},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new C(_.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Le(re)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(E(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupTarget=function(e,t){var n=this;void 0===t&&(t=null),this.sharedClientState.removeLocalQueryTarget(e),E(this.queriesByTarget[e]&&0!==this.queriesByTarget[e].length,"There are no queries mapped to target id "+e);for(var r=0,o=this.queriesByTarget[e];r<o.length;r++){var c=o[r];this.queryViewsByQuery.delete(c),t&&this.syncEngineListener.onWatchError(c,t)}if(delete this.queriesByTarget[e],this.isPrimary){var l=this.limboDocumentRefs.referencesForId(e);this.limboDocumentRefs.removeReferencesForId(e),l.forEach((function(e){n.limboDocumentRefs.containsKey(e)||n.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o instanceof qr)this.limboDocumentRefs.addReference(o.key,e),this.trackLimboChange(o);else if(o instanceof Ur){k("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,e),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)}else I("Unknown limbo change: "+JSON.stringify(o))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){k("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=or.atPath(t.path);this.limboResolutionsByTarget[n]=new Kr(t),this.remoteStore.listen(new Fn(r.toTarget(),n,Nn.LimboResolution,me.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return l.__awaiter(this,void 0,void 0,(function(){var n,r,o,c=this;return l.__generator(this,(function(l){switch(l.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach((function(l,h){o.push(Promise.resolve().then((function(){var t=h.view.computeDocChanges(e);return t.needsRefill?c.localStore.executeQuery(h.query,!1).then((function(e){var n=e.documents;return h.view.computeDocChanges(n,t)})):t})).then((function(e){var o=t&&t.targetChanges[h.targetId],l=h.view.applyChanges(e,!0===c.isPrimary,o);if(c.updateTrackedLimbos(h.targetId,l.limboChanges),l.snapshot){c.isPrimary&&c.sharedClientState.updateQueryState(h.targetId,l.snapshot.fromCache?"not-current":"current"),n.push(l.snapshot);var d=Vr.fromSnapshot(h.targetId,l.snapshot);r.push(d)}})))})),[4,Promise.all(o)];case 1:return l.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return l.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){E(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n;return l.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,c,h,d,f=this;return l.__generator(this,(function(l){switch(l.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return l.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=l.sent(),r=0,o=n;r<o.length;r++)c=o[r],this.remoteStore.listen(c);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,h=[],d=Promise.resolve(),O(this.queriesByTarget,(function(e,t){f.sharedClientState.isLocalQueryTarget(e)?h.push(e):d=d.then((function(){return f.removeAndCleanupTarget(e),f.localStore.releaseTarget(e,!0)})),f.remoteStore.unlisten(e)})),[4,d]);case 4:return l.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(h)];case 5:return l.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;O(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Le(we.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,c,h,d,f,m,v,y,w,k;return l.__generator(this,(function(l){switch(l.label){case 0:t=[],n=[],r=0,o=e,l.label=1;case 1:return r<o.length?(c=o[r],h=void 0,(d=this.queriesByTarget[c])&&0!==d.length?[4,this.localStore.releaseTarget(c,!0)]:[3,8]):[3,14];case 2:return l.sent(),[4,this.localStore.allocateTarget(d[0].toTarget())];case 3:h=l.sent(),f=0,m=d,l.label=4;case 4:return f<m.length?(v=m[f],E(!!(y=this.queryViewsByQuery.get(v)),"No query view found for "+v),[4,this.synchronizeViewAndComputeSnapshot(y)]):[3,7];case 5:(w=l.sent()).snapshot&&n.push(w.snapshot),l.label=6;case 6:return f++,[3,4];case 7:return[3,12];case 8:return E(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(c)];case 9:return E(!!(k=l.sent()),"Target for id "+c+" not found"),[4,this.localStore.allocateTarget(k)];case 10:return h=l.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(k),c,!1)];case 11:l.sent(),l.label=12;case 12:t.push(h),l.label=13;case 13:return r++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},e.prototype.synthesizeTargetToQuery=function(e){return new or(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,Zi.First,e.startAt,e.endAt)},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return l.__awaiter(this,void 0,void 0,(function(){var r,o;return l.__generator(this,(function(c){switch(c.label){case 0:if(this.isPrimary)return k("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=c.sent(),o=Gi.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,o)];case 3:return c.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(e,!0)];case 5:return c.sent(),this.removeAndCleanupTarget(e,n),[3,7];case 6:I("Unexpected target state: "+t),c.label=7;case 7:return[2]}}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return l.__awaiter(this,void 0,void 0,(function(){var n,r,o,c,h,d,f,m,v,y=this;return l.__generator(this,(function(w){switch(w.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,w.label=1;case 1:return n<r.length?(v=r[n],E(!this.queriesByTarget[v],"Trying to add an already active target"),[4,this.localStore.getTarget(v)]):[3,6];case 2:return E(!!(o=w.sent()),"Query data for active target "+v+" not found"),[4,this.localStore.allocateTarget(o)];case 3:return c=w.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(o),c.targetId,!1)];case 4:w.sent(),this.remoteStore.listen(c),w.label=5;case 5:return n++,[3,1];case 6:h=function(e){return l.__generator(this,(function(t){switch(t.label){case 0:return d.queriesByTarget[e]?[4,d.localStore.releaseTarget(e,!1).then((function(){y.remoteStore.unlisten(e),y.removeAndCleanupTarget(e)})).catch(Jn)]:[2,"continue"];case 1:return t.sent(),[2]}}))},d=this,f=0,m=t,w.label=7;case 7:return f<m.length?(v=m[f],[5,h(v)]):[3,10];case 8:w.sent(),w.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];if(t&&t.receivedDocument)return He().add(t.key);var n=He(),r=this.queriesByTarget[e];if(!r)return n;for(var o=0,c=r;o<c.length;o++){var l=c[o],h=this.queryViewsByQuery.get(l);E(!!h,"No query view found for "+l),n=n.unionWith(h.view.syncedDocuments)}return n},e}(),Qr=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Hr="SharedClientState",Yr="firestore_clients",Xr="firestore_mutations",Jr="firestore_targets",$r="firestore_online_state",Zr="firestore_sequence_number",eo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,E(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var o=JSON.parse(r),c="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),l=void 0;return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(l=new C(o.error.code,o.error.message)),c?new e(t,n,o.state,l):(x(Hr,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),to=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,E(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),c=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(c=new C(r.error.code,r.error.message)),o?new e(t,r.state,c):(x(Hr,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),no=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,c=Xe(),i=0;o&&i<r.activeTargetIds.length;++i)o=wi(r.activeTargetIds[i]),c=c.add(r.activeTargetIds[i]);return o?new e(t,c):(x(Hr,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),io=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&n.onlineState in Si&&"string"==typeof n.clientId?new e(n.clientId,Si[n.onlineState]):(x(Hr,"Failed to parse online state: "+t),null)},e}(),ro=function(){function e(){this.activeTargetIds=Xe()}return e.prototype.addQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var data={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(data)},e}(),oo=function(){function e(t,n,r,o,c){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=c,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Zr+"_"+r,this.activeClients[this.localClientId]=new ro,this.clientStateKeyRe=new RegExp("^"+Yr+"_"+l+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Xr+"_"+l+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Jr+"_"+l+"_(\\d+)$"),this.onlineStateKey=$r+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return l.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,c,h,d,f,m,v,y=this;return l.__generator(this,(function(l){switch(l.label){case 0:return E(!this.started,"WebStorageSharedClientState already started"),E(null!==this.syncEngine,"syncEngine property must be set before calling start()"),E(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=l.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(r)))&&(c=no.fromWebStorageEntry(r,o))&&(this.activeClients[c.clientId]=c);for(this.persistClientState(),(h=this.storage.getItem(this.onlineStateKey))&&(d=this.fromWebStorageOnlineState(h))&&this.handleOnlineStateEvent(d),f=0,m=this.earlyEvents;f<m.length;f++)v=m[f],this.handleWebStorageEvent(v);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return y.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=Xe();return L(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=to.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return k(Hr,"READ",e,t),t},e.prototype.setItem=function(e,t){k(Hr,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){k(Hr,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(k(Hr,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void x("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return l.__awaiter(t,void 0,void 0,(function(){var t,n,r,o,c,h;return l.__generator(this,(function(l){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(o=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(c=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(c)]}else e.key===this.sequenceNumberKey&&(E(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(h=function(e){var t=me.INVALID;if(null!=e)try{var n=JSON.parse(e);E("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){x(Hr,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==me.INVALID&&this.sequenceNumberHandler(h));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new eo(this.currentUser,e,t,n),o=this.toWebStorageMutationBatchKey(e);this.setItem(o,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:Si[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),o=new to(e,t,n);this.setItem(r,o.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return E(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),Yr+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return Jr+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Xr+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return E(null!==n,"Cannot parse client state key '"+e+"'"),no.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);E(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return eo.fromWebStorageEntry(new Qr(o),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);E(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return to.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return io.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(k(Hr,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var o=this.getAllActiveQueryTargets(),c=[],h=[];return o.forEach((function(e){return l.__awaiter(n,void 0,void 0,(function(){return l.__generator(this,(function(t){return r.has(e)||c.push(e),[2]}))}))})),r.forEach((function(e){return l.__awaiter(n,void 0,void 0,(function(){return l.__generator(this,(function(t){return o.has(e)||h.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(c,h)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var ao=function(){function e(){this.localState=new ro,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new ro,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),so=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return jn.withCacheSize(this.cacheSizeBytes)},e}(),co=function(){},uo=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=ie.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new ke,r=new ke,o=!1;return this.credentials.setChangeListener((function(c){o?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(c)})):(o=!0,t.initializePersistence(e,r,c).then((function(e){return t.initializeRest(c,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof so?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof C?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new C(_.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Xn.buildStoragePrefix(this.databaseInfo),o=new Lr(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return l.__awaiter(n,void 0,void 0,(function(){var n,c;return l.__generator(this,(function(l){switch(l.label){case 0:if(t.synchronizeTabs&&!oo.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new oo(this.asyncQueue,this.platform,r,this.clientId,e):new ao,[4,Xn.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:o,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return c=l.sent(),this.persistence=c,[2,c.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=ui.createEagerPersistence(this.clientId),this.sharedClientState=new ao,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return k("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return l.__awaiter(n,void 0,void 0,(function(){var n,o,c,h,d,f,m=this;return l.__generator(this,(function(v){switch(v.label){case 0:return n=new pi,this.localStore=new oi(this.persistence,n,e),[4,this.localStore.start()];case 1:return v.sent(),t&&(this.lruScheduler=new zn(t,this.asyncQueue,this.localStore)),o=this.platform.newConnectivityMonitor(),c=this.platform.newSerializer(this.databaseInfo.databaseId),h=new Di(this.asyncQueue,r,this.credentials,c),d=function(e){return m.syncEngine.applyOnlineStateChange(e,Ai.RemoteStore)},f=function(e){return m.syncEngine.applyOnlineStateChange(e,Ai.SharedClientState)},this.remoteStore=new nr(this.localStore,h,this.asyncQueue,d,o),this.syncEngine=new Wr(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=f,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Pr(this.syncEngine),[4,this.sharedClientState.start()];case 2:return v.sent(),[4,this.remoteStore.start()];case 3:return v.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return l.__awaiter(m,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return v.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return l.__awaiter(m,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 5:return v.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return l.__awaiter(e,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new ke;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var o=new Fr(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(o)})),o},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof en)return e;if(e instanceof tn)return null;throw new C(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return l.__awaiter(t,void 0,void 0,(function(){var t,view,n;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=r.sent(),view=new Br(e,t.remoteKeys),n=view.computeDocChanges(t.documents),[2,view.applyChanges(n,!1).snapshot]}}))}))}))},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new ke;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new ke;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},e}(),lo=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),ho=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+ne(r,"element")+".")}("FieldPath",e,"fieldNames",1);for(var i=0;i<e.length;++i)if(B("FieldPath","string",i,e[i]),0===e[i].length)throw new C(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Z("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(ye.keyField().canonicalString()),e}(),fo=new RegExp("[~\\*/\\[\\]]");var po=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},mo=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){E(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(Qr.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){E(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),bo=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=Qr.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;E(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new C(_.ABORTED,"getToken aborted due to token change.");return n?(E("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new po(n.accessToken,e.currentUser)):null}))},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){E(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){E(null!=this.tokenListener,"removeChangeListener() called twice"),E(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return E(null===e||"string"==typeof e,"Received invalid UID: "+e),new Qr(e)},e}(),go=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Qr.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),vo=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new go(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Qr.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function yo(e){if(!e)return new mo;switch(e.type){case"gapi":var t=e.client;return E(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new vo(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new C(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function wo(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var object=e,n=0,r=t;n<r.length;n++){var o=r[n];if(o in object&&"function"==typeof object[o])return!0}return!1}(e,["next","error","complete"])}var ko,xo=function(){function e(e){this._methodName=e}return e.delete=function(){return P("FieldValue.delete",arguments),To.instance},e.serverTimestamp=function(){return P("FieldValue.serverTimestamp",arguments),Io.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return V("FieldValue.arrayUnion",arguments,1),new Eo(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return V("FieldValue.arrayRemove",arguments,1),new So(e)},e.increment=function(e){return B("FieldValue.increment","number",1,e),F("FieldValue.increment",arguments,1),new Ao(e)},e.prototype.isEqual=function(e){return this===e},e}(),To=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return l.__extends(t,e),t.instance=new t,t}(xo),Io=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return l.__extends(t,e),t.instance=new t,t}(xo),Eo=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return l.__extends(t,e),t}(xo),So=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return l.__extends(t,e),t}(xo),Ao=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return l.__extends(t,e),t}(xo),_o=N(xo,"Use FieldValue.<field>() instead."),Co=/^__.*__$/,No=function(){function e(data,e,t){this.data=data,this.fieldMask=e,this.fieldTransforms=t}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Lt(e,this.data,this.fieldMask,t)):n.push(new Ot(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Mt(e,this.fieldTransforms)),n},e}(),Do=function(){function e(data,e,t){this.data=data,this.fieldMask=e,this.fieldTransforms=t}return e.prototype.toMutations=function(e,t){var n=[new Lt(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new Mt(e,this.fieldTransforms)),n},e}();function Ro(e){switch(e){case ko.Set:case ko.MergeSet:case ko.Update:return!0;case ko.Argument:case ko.ArrayArgument:return!1;default:throw I("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument",e[e.ArrayArgument=4]="ArrayArgument"}(ko||(ko={}));var Oo=function(){function e(e,t,path,n,r,o){this.dataSource=e,this.methodName=t,this.path=path,this.arrayElement=n,void 0===r&&this.validatePath(),this.arrayElement=void 0!==n&&n,this.fieldTransforms=r||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var i=0;i<this.path.length;i++)this.validatePathSegment(this.path.get(i))},e.prototype.validatePathSegment=function(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(Ro(this.dataSource)&&Co.test(e))throw this.createError('Document fields cannot begin and end with "__"')},e}(),Lo=function(e,t){this.databaseId=e,this.key=t},Mo=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,input){var t=new Oo(ko.Set,e,ye.EMPTY_PATH);Fo("Data must be an object, but it was:",t,input);var n=this.parseData(input,t);return new No(n,null,t.fieldTransforms)},e.prototype.parseMergeData=function(e,input,t){var n=new Oo(ko.MergeSet,e,ye.EMPTY_PATH);Fo("Data must be an object, but it was:",n,input);var r,o,c=this.parseData(input,n);if(t){for(var l=new Ve(ye.comparator),h=0,d=t;h<d.length;h++){var f=d[h],m=void 0;if(f instanceof ho)m=f._internalPath;else{if("string"!=typeof f)throw I("Expected stringOrFieldPath to be a string or a FieldPath");m=qo(e,f)}if(!n.contains(m))throw new C(_.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");l=l.add(m)}r=St.fromSet(l),o=n.fieldTransforms.filter((function(e){return r.covers(e.field)}))}else r=St.fromArray(n.fieldMask),o=n.fieldTransforms;return new No(c,r,o)},e.prototype.parseUpdateData=function(e,input){var t=this,n=new Oo(ko.Update,e,ye.EMPTY_PATH);Fo("Data must be an object, but it was:",n,input);var r=new Ve(ye.comparator),o=Jt.EMPTY;L(input,(function(c,l){var path=qo(e,c),h=n.childContextForFieldPath(path);if((l=t.runPreConverter(l,h))instanceof To)r=r.add(path);else{var d=t.parseData(l,h);null!=d&&(r=r.add(path),o=o.set(path,d))}}));var mask=St.fromSet(r);return new Do(o,mask,n.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var o=new Oo(ko.Update,e,ye.EMPTY_PATH),c=[Vo(e,t)],l=[n];if(r.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var i=0;i<r.length;i+=2)c.push(Vo(e,r[i])),l.push(r[i+1]);var h=new Ve(ye.comparator),d=Jt.EMPTY;for(i=0;i<c.length;++i){var path=c[i],f=o.childContextForFieldPath(path),m=this.runPreConverter(l[i],f);if(m instanceof To)h=h.add(path);else{var v=this.parseData(m,f);null!=v&&(h=h.add(path),d=d.set(path,v))}}var mask=St.fromSet(h);return new Do(d,mask,o.fieldTransforms)},e.prototype.parseQueryValue=function(e,input,t){void 0===t&&(t=!1);var n=new Oo(t?ko.ArrayArgument:ko.Argument,e,ye.EMPTY_PATH),r=this.parseData(input,n);return E(null!=r,"Parsed data should not be null."),E(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(input,e){try{return this.preConverter(input)}catch(n){var t=Uo(n);throw e.createError(t)}},e.prototype.parseData=function(input,e){if(Po(input=this.runPreConverter(input,e)))return Fo("Unsupported field value:",e,input),this.parseObject(input,e);if(input instanceof xo)return this.parseSentinelFieldValue(input,e),null;if(e.path&&e.fieldMask.push(e.path),input instanceof Array){if(e.arrayElement&&e.dataSource!==ko.ArrayArgument)throw e.createError("Nested arrays are not supported");return this.parseArray(input,e)}return this.parseScalarValue(input,e)},e.prototype.parseObject=function(e,t){var n=this,r=new Le(re);return M(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):L(e,(function(e,o){var c=n.parseData(o,t.childContextForField(e));null!=c&&(r=r.insert(e,c))})),new Jt(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,o=0,c=e;o<c.length;o++){var l=c[o],h=this.parseData(l,t.childContextForArray(r));null==h&&(h=qt.INSTANCE),n.push(h),r++}return new $t(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!Ro(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof To){if(t.dataSource!==ko.MergeSet)throw t.dataSource===ko.Update?(E(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof Io)t.fieldTransforms.push(new At(t.path,kr.instance));else if(e instanceof Eo){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new xr(n);t.fieldTransforms.push(new At(t.path,r))}else if(e instanceof So){n=this.parseArrayTransformElements(e._methodName,e._elements);var o=new Tr(n);t.fieldTransforms.push(new At(t.path,o))}else if(e instanceof Ao){var c=this.parseQueryValue("FieldValue.increment",e._operand),l=new Ir(c);t.fieldTransforms.push(new At(t.path,l))}else I("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return qt.INSTANCE;if("number"==typeof e)return wi(e)?new zt(e):new Gt(e);if("boolean"==typeof e)return Ut.of(e);if("string"==typeof e)return new Kt(e);if(e instanceof Date)return new Wt(Re.fromDate(e));if(e instanceof Re)return new Wt(new Re(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof ir)return new Xt(e);if(e instanceof le)return new Ht(e);if(e instanceof Lo)return new Yt(e.databaseId,e.key);throw t.createError("Unsupported field value: "+X(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(element,i){var t=new Oo(ko.Argument,e,ye.EMPTY_PATH);return n.parseData(element,t.childContextForArray(i))}))},e}();function Po(input){return!("object"!=typeof input||null===input||input instanceof Array||input instanceof Date||input instanceof Re||input instanceof ir||input instanceof le||input instanceof Lo||input instanceof xo)}function Fo(e,t,input){if(!Po(input)||!Y(input)){var n=X(input);throw"an object"===n?t.createError(e+" a custom object"):t.createError(e+" "+n)}}function Vo(e,path){if(path instanceof ho)return path._internalPath;if("string"==typeof path)return qo(e,path);throw new C(_.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function qo(e,path){try{return function(path){if(path.search(fo)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ho.bind.apply(ho,l.__spreadArrays([void 0],path.split("."))))}catch(e){throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(path)._internalPath}catch(n){var t=Uo(n);throw new C(_.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+t)}}function Uo(e){return e instanceof Error?e.message:e.toString()}var Bo="firestore.googleapis.com",jo=!0,zo=!0,Go=!1,Ko=jn.COLLECTION_DISABLED,Wo=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new C(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bo,this.ssl=jo}else z("settings","non-empty string","host",e.host),this.host=e.host,G("settings","boolean","ssl",e.ssl),this.ssl=R(e.ssl,jo);if($("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),G("settings","object","credentials",e.credentials),this.credentials=e.credentials,G("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?x("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&x("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=R(e.timestampsInSnapshots,zo),G("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=jn.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Ko&&e.cacheSizeBytes<jn.MINIMUM_CACHE_SIZE_BYTES)throw new C(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+jn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}G("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?Go:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),Qo=function(){function e(t){var n=this;if(this._firebaseApp=null,this._queue=new Te,this.INTERNAL={delete:function(){return l.__awaiter(n,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var r=t;this._firebaseApp=r,this._databaseId=e.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new bo(r)}else{var o=t;if(!o.projectId)throw new C(_.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new pe(o.projectId,o.database),this._persistenceKey="[DEFAULT]",this._credentials=new mo}this._settings=new Wo({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(F("Firestore.settings",arguments,1),B("Firestore.settings","object",1,e),D(e,"persistence"))throw new C(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Wo(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=yo(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&x("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=R(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new so(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Xn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ke;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return l.__awaiter(e,void 0,void 0,(function(){var e;return l.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new C(_.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Xn.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),wo(e))return this.onSnapshotsInSyncInternal(e);B("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new lo({next:function(){e.next&&e.next()},error:function(e){throw I("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new co),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new de(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){E(!!this._settings.host,"FirestoreSettings.host is not set"),E(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new uo(S.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new Mo((function(t){if(t instanceof Xo){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new C(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Lo(e,t._key)}return t}))},e.databaseIdFromApp=function(e){var t=e.options;if(!D(t,"projectId"))throw new C(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new C(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new pe(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new C(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return F("Firestore.collection",arguments,1),B("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new na(ge.fromString(e),this)},e.prototype.doc=function(e){return F("Firestore.doc",arguments,1),B("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Xo.forPath(ge.fromString(e),this)},e.prototype.collectionGroup=function(e){if(F("Firestore.collectionGroup",arguments,1),B("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new ea(new or(ge.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return F("Firestore.runTransaction",arguments,1),B("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Ho(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new Yo(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(y()){case o.DEBUG:return"debug";case o.ERROR:return"error";case o.SILENT:return"silent";default:return I("Unknown log level: "+y())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(F("Firestore.setLogLevel",arguments,1),B("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":w(o.DEBUG);break;case"error":w(o.ERROR);break;case"silent":w(o.SILENT);break;default:throw new C(_.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),Ho=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;F("Transaction.get",arguments,1);var n=aa("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return I("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof tn)return new $o(t._firestore,n._key,null,!1,!1);if(r instanceof en)return new $o(t._firestore,n._key,r,!1,!1);throw I("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},e.prototype.set=function(e,t,n){U("Transaction.set",arguments,2,3);var r=aa("Transaction.set",e,this._firestore),o=(n=ia("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r,o,c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return"string"==typeof t||t instanceof ho?(V("Transaction.update",arguments,3),r=aa("Transaction.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,c)):(F("Transaction.update",arguments,2),r=aa("Transaction.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,o),this},e.prototype.delete=function(e){F("Transaction.delete",arguments,1);var t=aa("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Yo=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){U("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=aa("WriteBatch.set",e,this._firestore),o=(n=ia("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(o.toMutations(r._key,Dt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,o,c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return this.verifyNotCommitted(),"string"==typeof t||t instanceof ho?(V("WriteBatch.update",arguments,3),r=aa("WriteBatch.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,c)):(F("WriteBatch.update",arguments,2),r=aa("WriteBatch.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(o.toMutations(r._key,Dt.exists(!0))),this},e.prototype.delete=function(e){F("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=aa("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Pt(t._key,Dt.NONE)),this},e.prototype.commit=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Xo=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(path,t){if(path.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+path.canonicalString()+" has "+path.length);return new e(new we(path),t)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new na(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(F("DocumentReference.collection",arguments,1),B("DocumentReference.collection","non-empty string",1,e),!e)throw new C(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var path=ge.fromString(e);return new na(this._key.path.child(path),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Z("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){U("DocumentReference.set",arguments,1,2);var n=(t=ia("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,Dt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"==typeof e||e instanceof ho?(V("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(F("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,Dt.exists(!0)))},e.prototype.delete=function(){return F("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Pt(this._key,Dt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];U("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||wo(e[o])||($("DocumentReference.onSnapshot",r=e[o],["includeMetadataChanges"]),G("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var c={includeMetadataChanges:r.includeMetadataChanges};return wo(e[o])?n=e[o]:(B("DocumentReference.onSnapshot","function",o,e[o]),j("DocumentReference.onSnapshot","function",o+1,e[o+1]),j("DocumentReference.onSnapshot","function",o+2,e[o+2]),n={next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(c,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new lo({next:function(e){if(t.next){E(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new $o(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),c=this._firestoreClient.listen(or.atPath(this._key.path),o,e);return function(){o.mute(),n._firestoreClient.unlisten(c)}},e.prototype.get=function(e){var t=this;return U("DocumentReference.get",arguments,0,1),oa("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new $o(t.firestore,t._key,e,!0,e instanceof en&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?t(new C(_.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?t(new C(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(o)},error:t})},e}(),Jo=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),$o=function(){function e(e,t,n,r,o){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=o}return e.prototype.data=function(e){return U("DocumentSnapshot.data",arguments,0,1),e=ra("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),Ft.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(U("DocumentSnapshot.get",arguments,1,2),t=ra("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Vo("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,Ft.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Xo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Jo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw Z("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(data,e){var t=this,n={};return data.forEach((function(r,o){n[r]=t.convertValue(o,e)})),n},e.prototype.convertValue=function(e,t){if(e instanceof Jt)return this.convertObject(e,t);if(e instanceof $t)return this.convertArray(e,t);if(e instanceof Yt){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||x("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Xo(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(data,e){var t=this;return data.internalValue.map((function(n){return t.convertValue(n,e)}))},e}(),Zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.data=function(t){var data=e.prototype.data.call(this,t);return E("object"==typeof data,"Document in a QueryDocumentSnapshot should exist"),data},t}($o),ea=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){F("Query.where",arguments,3),J("Query.where",3,r);var o,c=["<","<=","==",">=",">","array-contains","in","array-contains-any"];Q("Query.where",c,2,n);var l=Vo("Query.where",t),h=sr.fromString(n);if(l.isKeyField()){if(h===sr.ARRAY_CONTAINS||h===sr.ARRAY_CONTAINS_ANY)throw new C(_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+h.toString()+"' queries on FieldPath.documentId().");if(h===sr.IN){this.validateDisjunctiveFilterElements(r,h);for(var d=[],f=0,m=r;f<m.length;f++){var v=m[f];d.push(this.parseDocumentIdValue(v))}o=new $t(d)}else o=this.parseDocumentIdValue(r)}else h!==sr.IN&&h!==sr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,h),o=this.firestore._dataConverter.parseQueryValue("Query.where",r,h===sr.IN);var filter=cr.create(l,h,o);return this.validateNewFilter(filter),new e(this._query.addFilter(filter),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(U("Query.orderBy",arguments,1,2),j("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=mr.ASCENDING;else{if("desc"!==n)throw new C(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=mr.DESCENDING}if(null!==this._query.startAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=Vo("Query.orderBy",t),c=new vr(o,r);return this.validateNewOrderBy(c),new e(this._query.addOrderBy(c),this.firestore)},e.prototype.limit=function(t){return F("Query.limit",arguments,1),B("Query.limit","number",1,t),ee("Query.limit",1,t),new e(this._query.withLimitToFirst(t),this.firestore)},e.prototype.limitToLast=function(t){return F("Query.limitToLast",arguments,1),B("Query.limitToLast","number",1,t),ee("Query.limitToLast",1,t),new e(this._query.withLimitToLast(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];V("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(o),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];V("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(o),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];V("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(o),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];V("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(o),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Z("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(J(e,1,t),t instanceof $o){if(n.length>0)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var o=t;if(!o.exists)throw new C(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,o._document,r)}var c=[t].concat(n);return this.boundFromFields(e,c,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],o=0,c=this._query.orderBy;o<c.length;o++){var l=c[o];if(l.field.isKeyField())r.push(new Yt(this.firestore._databaseId,t.key));else{var h=t.field(l.field);if(h instanceof Qt)throw new C(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var d=l.field.canonicalString();throw new C(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+d+"' (used as the orderBy) does not exist.")}r.push(h)}}return new gr(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<t.length;i++){var c=t[i];if(r[i].field.isKeyField()){if("string"!=typeof c)throw new C(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof c);if(!this._query.isCollectionGroupQuery()&&-1!==c.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+c+"' contains a slash.");var path=this._query.path.child(ge.fromString(c));if(!we.isDocumentKey(path))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+path+"' is not because it contains an odd number of segments.");var l=new we(path);o.push(new Yt(this.firestore._databaseId,l))}else{var h=this.firestore._dataConverter.parseQueryValue(e,c);o.push(h)}}return new gr(o,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];U("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof e[o]||wo(e[o])||($("Query.onSnapshot",r=e[o],["includeMetadataChanges"]),G("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),wo(e[o])?n=e[o]:(B("Query.onSnapshot","function",o,e[o]),j("Query.onSnapshot","function",o+1,e[o+1]),j("Query.onSnapshot","function",o+2,e[o+2]),n={next:e[o],error:e[o+1],complete:e[o+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new lo({next:function(e){t.next&&t.next(new ta(n.firestore,n._query,e))},error:r}),c=this.firestore.ensureClientConfigured(),l=c.listen(this._query,o,e);return function(){o.mute(),c.unlisten(l)}},e.prototype.validateHasExplicitOrderByForLimitToLast=function(e){if(e.hasLimitToLast()&&0===e.explicitOrderBy.length)throw new C(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.get=function(e){var t=this;return U("Query.get",arguments,0,1),oa("Query.get",e),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new ta(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?t(new C(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(o)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var path=this._query.path.child(ge.fromString(e));if(!we.isDocumentKey(path))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+path+"' is not because it has an odd number of segments ("+path.length+").");return new Yt(this.firestore._databaseId,new we(path))}if(e instanceof Xo){var t=e;return new Yt(this.firestore._databaseId,t._key)}throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+X(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new C(_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(element){return Number.isNaN(element)})).length>0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(filter){if(filter instanceof cr){var e=[sr.ARRAY_CONTAINS,sr.ARRAY_CONTAINS_ANY],t=[sr.IN,sr.ARRAY_CONTAINS_ANY],n=e.indexOf(filter.op)>=0,r=t.indexOf(filter.op)>=0;if(filter.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(filter.field))throw new C(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+filter.field.toString()+"'");var c=this._query.getFirstOrderByField();null!==c&&this.validateOrderByAndInequalityMatch(filter.field,c)}else if(r||n){var l=null;if(r&&(l=this._query.findFilterOperator(t)),null===l&&n&&(l=this._query.findFilterOperator(e)),null!=l)throw l===filter.op?new C(_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+filter.op.toString()+"' filter."):new C(_.INVALID_ARGUMENT,"Invalid query. You cannot use '"+filter.op.toString()+"' filters with '"+l.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new C(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),ta=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Jo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;U("QuerySnapshot.forEach",arguments,1,2),B("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new ea(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&($("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),G("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new C(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map((function(t){var c=new Zo(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return E(t.type===Vi.Added,"Invalid event type for first snapshot"),E(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}var c=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Vi.Metadata})).map((function(t){var r=new Zo(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),o=-1,l=-1;return t.type!==Vi.Added&&(E((o=c.indexOf(t.doc.key))>=0,"Index for document not found"),c=c.delete(t.doc.key)),t.type!==Vi.Removed&&(l=(c=c.add(t.doc)).indexOf(t.doc.key)),{type:sa(t.type),doc:r,oldIndex:o,newIndex:l}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Z("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Zo(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();l.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(ta.prototype.docChanges,e,{get:function(){return function(){throw new C(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var na=function(e){function t(path,t){var n=e.call(this,or.atPath(path),t)||this;if(path.length%2!=1)throw new C(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+path.canonicalString()+" has "+path.length);return n}return l.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Xo(new we(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(U("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=ie.newId()),B("CollectionReference.doc","non-empty string",1,e),""===e)throw new C(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var path=ge.fromString(e);return Xo.forPath(this._query.path.child(path),this.firestore)},t.prototype.add=function(e){F("CollectionReference.add",arguments,1),B("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t}(ea);function ia(e,t){if(void 0===t)return{merge:!1};if($(e,t,["merge","mergeFields"]),G(e,"boolean","merge",t.merge),K(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(element){return"string"==typeof element||element instanceof ho})),void 0!==t.mergeFields&&void 0!==t.merge)throw new C(_.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ra(e,t){return void 0===t?{}:($(e,t,["serverTimestamps"]),W(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function oa(e,t){j(e,"object",1,t),t&&($(e,t,["source"]),W(e,0,"source",t.source,["default","server","cache"]))}function aa(e,t,n){if(t instanceof Xo){if(t.firestore!==n)throw new C(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw Z(e,"DocumentReference",1,t)}function sa(e){switch(e){case Vi.Added:return"added";case Vi.Modified:case Vi.Metadata:return"modified";case Vi.Removed:return"removed";default:return I("Unknown change type: "+e)}}var ca=N(Qo,"Use firebase.firestore() instead."),ua=N(Ho,"Use firebase.firestore().runTransaction() instead."),la=N(Yo,"Use firebase.firestore().batch() instead."),ha=N(Xo,"Use firebase.firestore().doc() instead."),da=N($o),fa=N(Zo),pa=N(ea),ma=N(ta),ba=N(na,"Use firebase.firestore().collection() instead."),ga={Firestore:ca,GeoPoint:ir,Timestamp:Re,Blob:he,Transaction:ua,WriteBatch:la,DocumentReference:ha,DocumentSnapshot:da,Query:pa,QueryDocumentSnapshot:fa,QuerySnapshot:ma,CollectionReference:ba,FieldPath:ho,FieldValue:_o,setLogLevel:Qo.setLogLevel,CACHE_SIZE_UNLIMITED:Ko};function va(e){e.INTERNAL.registerService("firestore",(function(e){return new Qo(e)}),function(e){E(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(ga))}var ya=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),wa=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ka=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){E(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){E(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){E(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){E(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){E(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){E(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),xa="Connection",Ta={BatchGetDocuments:"batchGet",Commit:"commit"},Ia="gl-js/ fire/"+m,Ea=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var header in t.authHeaders)t.authHeaders.hasOwnProperty(header)&&(e[header]=t.authHeaders[header]);e["X-Goog-Api-Client"]=Ia},e.prototype.invokeRPC=function(e,t,n){var r=this,o=this.makeUrl(e);return new Promise((function(c,h){var d=new f.XhrIo;d.listenOnce(f.EventType.COMPLETE,(function(){try{switch(d.getLastErrorCode()){case f.ErrorCode.NO_ERROR:var t=d.getResponseJson();k(xa,"XHR received:",JSON.stringify(t)),c(t);break;case f.ErrorCode.TIMEOUT:k(xa,'RPC "'+e+'" timed out'),h(new C(_.DEADLINE_EXCEEDED,"Request time out"));break;case f.ErrorCode.HTTP_ERROR:var n=d.getStatus();if(k(xa,'RPC "'+e+'" failed with status:',n,"response text:",d.getResponseText()),n>0){var r=d.getResponseJson().error;if(r&&r.status&&r.message){var o=(l=r.status,m=l.toLowerCase().replace("_","-"),Object.values(_).indexOf(m)>=0?m:_.UNKNOWN);h(new C(o,r.message))}else h(new C(_.UNKNOWN,"Server responded with status "+d.getStatus()))}else k(xa,'RPC "'+e+'" failed'),h(new C(_.UNAVAILABLE,"Connection failed."));break;default:I('RPC "'+e+'" failed with unanticipated webchannel error '+d.getLastErrorCode()+": "+d.getLastError()+", giving up.")}}finally{k(xa,'RPC "'+e+'" completed.')}var l,m}));var m=l.__assign({},t);delete m.database;var v=JSON.stringify(m);k(xa,"XHR sending: ",o+" "+v);var y={"Content-Type":"text/plain"};r.modifyHeadersForRequest(y,n),d.send(o,"POST",v,y,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=f.createWebChannelTransport(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(o.initMessageHeaders,t),d.isReactNative()||(o.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");k(xa,"Creating WebChannel: "+c+" "+o);var l=r.createWebChannel(c,o),h=!1,m=!1,v=new ka({sendFn:function(e){m?k(xa,"Not sending because WebChannel is closed:",e):(h||(k(xa,"Opening WebChannel transport."),l.open(),h=!0),k(xa,"WebChannel sending:",e),l.send(e))},closeFn:function(){return l.close()}}),y=function(e,t){l.listen(e,(function(param){try{t(param)}catch(e){setTimeout((function(){throw e}),0)}}))};return y(f.WebChannel.EventType.OPEN,(function(){m||k(xa,"WebChannel transport opened.")})),y(f.WebChannel.EventType.CLOSE,(function(){m||(m=!0,k(xa,"WebChannel transport closed"),v.callOnClose())})),y(f.WebChannel.EventType.ERROR,(function(e){m||(m=!0,k(xa,"WebChannel transport errored:",e),v.callOnClose(new C(_.UNAVAILABLE,"The operation could not be completed")))})),y(f.WebChannel.EventType.MESSAGE,(function(e){if(!m){var t=e.data[0];E(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){k(xa,"WebChannel received error:",r);var o=r.status,code=function(e){var code=Oi[e];if(void 0!==code)return Pi(code)}(o),c=r.message;void 0===code&&(code=_.INTERNAL,c="Unknown error status: "+o+" with message "+r.message),m=!0,v.callOnClose(new C(code,c)),l.close()}else k(xa,"WebChannel received:",t),v.callOnMessage(t)}})),setTimeout((function(){v.callOnOpen()}),0),v},e.prototype.makeUrl=function(e){var t=Ta[e];return E(void 0!==t,"Unknown REST mapping for: "+e),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+t},e}(),Sa=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new Ea(e))},e.prototype.newConnectivityMonitor=function(){return wa.isAvailable()?new wa:new ya},e.prototype.newSerializer=function(e){return new Lr(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();function Aa(e){va(e)}S.setPlatform(new Sa),Aa(c),t.registerFirestore=Aa}).call(this,n(102))},160:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ErrorCode",(function(){return fi})),n.d(t,"EventType",(function(){return pi})),n.d(t,"WebChannel",(function(){return mi})),n.d(t,"XhrIo",(function(){return bi})),n.d(t,"createWebChannelTransport",(function(){return di}));var g,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o=o||{},c=r;function l(a){return"string"==typeof a}function h(a){return"number"==typeof a}function d(a,b){a=a.split("."),b=b||c;for(var e=0;e<a.length;e++)if(null==(b=b[a[e]]))return null;return b}function f(){}function p(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var e=Object.prototype.toString.call(a);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function q(a){return"array"==p(a)}function m(a){var b=p(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var y="closure_uid_"+(1e9*Math.random()>>>0),w=0;function k(a,b,e){return a.call.apply(a.bind,arguments)}function x(a,b,e){if(!a)throw Error();if(2<arguments.length){var t=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,t),a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function u(a,b,e){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:x).apply(null,arguments)}function T(a,b){var e=Array.prototype.slice.call(arguments,1);return function(){var t=e.slice();return t.push.apply(t,arguments),a.apply(this,t)}}var I=Date.now||function(){return+new Date};function E(a,b){function e(){}e.prototype=b.prototype,a.N=b.prototype,a.prototype=new e,a.prototype.constructor=a,a.yb=function(e,t,n){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return b.prototype[t].apply(e,r)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[y]||(this[y]=++w)},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var A=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(l(a))return l(b)&&1==b.length?a.indexOf(b,0):-1;for(var e=0;e<a.length;e++)if(e in a&&a[e]===b)return e;return-1},_=Array.prototype.forEach?function(a,b,e){Array.prototype.forEach.call(a,b,e)}:function(a,b,e){for(var t=a.length,n=l(a)?a.split(""):a,r=0;r<t;r++)r in n&&b.call(e,n[r],r,a)};function C(a){return Array.prototype.concat.apply([],arguments)}function N(a){var b=a.length;if(0<b){for(var e=Array(b),t=0;t<b;t++)e[t]=a[t];return e}return[]}function D(a){return/^[\s\xa0]*$/.test(a)}var R,O=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function L(a,b){return-1!=a.indexOf(b)}function M(a,b){return a<b?-1:a>b?1:0}e:{var P=c.navigator;if(P){var F=P.userAgent;if(F){R=F;break e}}R=""}function V(a,b,e){for(var t in a)b.call(e,a[t],t,a)}function U(a){var e,b={};for(e in a)b[e]=a[e];return b}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(a,b){for(var e,t,n=1;n<arguments.length;n++){for(e in t=arguments[n])a[e]=t[e];for(var r=0;r<B.length;r++)e=B[r],Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}}function z(a){return z[" "](a),a}z[" "]=f;var G,a,K=L(R,"Opera"),W=L(R,"Trident")||L(R,"MSIE"),Q=L(R,"Edge"),H=Q||W,Y=L(R,"Gecko")&&!(L(R.toLowerCase(),"webkit")&&!L(R,"Edge"))&&!(L(R,"Trident")||L(R,"MSIE"))&&!L(R,"Edge"),X=L(R.toLowerCase(),"webkit")&&!L(R,"Edge");function J(){var a=c.document;return a?a.documentMode:void 0}e:{var $="",Z=(a=R,Y?/rv:([^\);]+)(\)|;)/.exec(a):Q?/Edge\/([\d\.]+)/.exec(a):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):X?/WebKit\/(\S+)/.exec(a):K?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Z&&($=Z?Z[1]:""),W){var ee=J();if(null!=ee&&ee>parseFloat($)){G=String(ee);break e}}G=$}var te,ne={};function ie(a){return function(a,b){var e=ne;return Object.prototype.hasOwnProperty.call(e,a)?e[a]:e[a]=b(a)}(a,(function(){for(var b=0,e=O(String(G)).split("."),t=O(String(a)).split("."),n=Math.max(e.length,t.length),r=0;0==b&&r<n;r++){var o=e[r]||"",c=t[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;b=M(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||M(0==o[2].length,0==c[2].length)||M(o[2],c[2]),o=o[3],c=c[3]}while(0==b)}return 0<=b}))}var re=c.document;te=re&&W?J()||("CSS1Compat"==re.compatMode?parseInt(G,10):5):void 0;var oe=!W||9<=Number(te),ae=W&&!ie("9"),se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{c.addEventListener("test",f,b),c.removeEventListener("test",f,b)}catch(e){}return a}();function ce(a,b){this.type=a,this.a=this.target=b,this.Ja=!0}function ue(a,b){if(ce.call(this,a?a.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,a){var e=this.type=a.type,t=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.a=b,b=a.relatedTarget){if(Y){e:{try{z(b.nodeName);var n=!0;break e}catch(e){}n=!1}n||(b=null)}}else"mouseover"==e?b=a.fromElement:"mouseout"==e&&(b=a.toElement);this.relatedTarget=b,t?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=l(a.pointerType)?a.pointerType:le[a.pointerType]||"",this.c=a,a.defaultPrevented&&this.b()}}ce.prototype.b=function(){this.Ja=!1},E(ue,ce);var le={2:"touch",3:"pen",4:"mouse"};ue.prototype.b=function(){ue.N.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ae)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(e){}};var he="closure_listenable_"+(1e6*Math.random()|0),de=0;function fe(a,b,e,t,n){this.listener=a,this.proxy=null,this.src=b,this.type=e,this.capture=!!t,this.da=n,this.key=++de,this.X=this.Z=!1}function pe(a){a.X=!0,a.listener=null,a.proxy=null,a.src=null,a.da=null}function me(a){this.src=a,this.a={},this.b=0}function be(a,b){var e=b.type;if(e in a.a){var t,n=a.a[e],r=A(n,b);(t=0<=r)&&Array.prototype.splice.call(n,r,1),t&&(pe(b),0==a.a[e].length&&(delete a.a[e],a.b--))}}function ge(a,b,e,t){for(var n=0;n<a.length;++n){var r=a[n];if(!r.X&&r.listener==b&&r.capture==!!e&&r.da==t)return n}return-1}me.prototype.add=function(a,b,e,t,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var o=ge(a,b,t,n);return-1<o?(b=a[o],e||(b.Z=!1)):((b=new fe(b,this.src,r,!!t,n)).Z=e,a.push(b)),b};var ve="closure_lm_"+(1e6*Math.random()|0),ye={};function we(a,b,e,t,n){if(t&&t.once)return function e(a,b,t,n,r){if(q(b)){for(var o=0;o<b.length;o++)e(a,b[o],t,n,r);return null}return t=_e(t),a&&a[he]?a.Ba(b,t,v(n)?!!n.capture:!!n,r):ke(a,b,t,!0,n,r)}(a,b,e,t,n);if(q(b)){for(var r=0;r<b.length;r++)we(a,b[r],e,t,n);return null}return e=_e(e),a&&a[he]?a.Aa(b,e,v(t)?!!t.capture:!!t,n):ke(a,b,e,!1,t,n)}function ke(a,b,e,t,n,r){if(!b)throw Error("Invalid event type");var o=v(n)?!!n.capture:!!n;if(o&&!oe)return null;var c=Se(a);if(c||(a[ve]=c=new me(a)),(e=c.add(b,e,t,o,r)).proxy)return e;if(t=function(){var a=Ee,b=oe?function(e){return a.call(b.src,b.listener,e)}:function(e){if(!(e=a.call(b.src,b.listener,e)))return e};return b}(),e.proxy=t,t.src=a,t.listener=e,a.addEventListener)se||(n=o),void 0===n&&(n=!1),a.addEventListener(b.toString(),t,n);else if(a.attachEvent)a.attachEvent(Te(b.toString()),t);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(t)}return e}function xe(a){if(!h(a)&&a&&!a.X){var b=a.src;if(b&&b[he])be(b.c,a);else{var e=a.type,t=a.proxy;b.removeEventListener?b.removeEventListener(e,t,a.capture):b.detachEvent?b.detachEvent(Te(e),t):b.addListener&&b.removeListener&&b.removeListener(t),(e=Se(b))?(be(e,a),0==e.b&&(e.src=null,b[ve]=null)):pe(a)}}}function Te(a){return a in ye?ye[a]:ye[a]="on"+a}function Ie(a,b){var e=a.listener,t=a.da||a.src;return a.Z&&xe(a),e.call(t,b)}function Ee(a,b){return!!a.X||(oe?Ie(a,new ue(b,this)):Ie(a,b=new ue(b||d("window.event"),this)))}function Se(a){return(a=a[ve])instanceof me?a:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(a){return"function"==p(a)?a:(a[Ae]||(a[Ae]=function(b){return a.handleEvent(b)}),a[Ae])}function Ce(){S.call(this),this.c=new me(this),this.J=this,this.B=null}function Ne(a,b,e,t){if(!(b=a.c.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var o=b[r];if(o&&!o.X&&o.capture==e){var c=o.listener,l=o.da||o.src;o.Z&&be(a.c,o),n=!1!==c.call(l,t)&&n}}return n&&0!=t.Ja}E(Ce,S),Ce.prototype[he]=!0,(g=Ce.prototype).addEventListener=function(a,b,e,t){we(this,a,b,e,t)},g.removeEventListener=function(a,b,e,t){!function e(a,b,t,n,r){if(q(b))for(var o=0;o<b.length;o++)e(a,b[o],t,n,r);else n=v(n)?!!n.capture:!!n,t=_e(t),a&&a[he]?(a=a.c,(b=String(b).toString())in a.a&&(-1<(t=ge(o=a.a[b],t,n,r))&&(pe(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete a.a[b],a.b--)))):a&&(a=Se(a))&&(b=a.a[b.toString()],a=-1,b&&(a=ge(b,t,n,r)),(t=-1<a?b[a]:null)&&xe(t))}(this,a,b,e,t)},g.dispatchEvent=function(a){var b,e=this.B;if(e)for(b=[];e;e=e.B)b.push(e);e=this.J;var t=a.type||a;if(l(a))a=new ce(a,e);else if(a instanceof ce)a.target=a.target||e;else{var n=a;j(a=new ce(t,e),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var o=a.a=b[r];n=Ne(o,t,!0,a)&&n}if(n=Ne(o=a.a=e,t,!0,a)&&n,n=Ne(o,t,!1,a)&&n,b)for(r=0;r<b.length;r++)n=Ne(o=a.a=b[r],t,!1,a)&&n;return n},g.G=function(){if(Ce.N.G.call(this),this.c){var e,a=this.c;for(e in a.a){for(var t=a.a[e],n=0;n<t.length;n++)pe(t[n]);delete a.a[e],a.b--}}this.B=null},g.Aa=function(a,b,e,t){return this.c.add(String(a),b,!1,e,t)},g.Ba=function(a,b,e,t){return this.c.add(String(a),b,!0,e,t)};var De=c.JSON.stringify;function Re(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function Oe(){this.b=this.a=null}Re.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var Le,Me=new Re((function(){return new Fe}),(function(a){a.reset()}));function Pe(){var a=Be,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function Fe(){this.next=this.b=this.a=null}function Ve(a){c.setTimeout((function(){throw a}),0)}function qe(a,b){Le||function(){var a=c.Promise.resolve(void 0);Le=function(){a.then(je)}}(),Ue||(Le(),Ue=!0),Be.add(a,b)}Oe.prototype.add=function(a,b){var e=Me.get();e.set(a,b),this.b?this.b.next=e:this.a=e,this.b=e},Fe.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Fe.prototype.reset=function(){this.next=this.b=this.a=null};var Ue=!1,Be=new Oe;function je(){for(var a;a=Pe();){try{a.a.call(a.b)}catch(e){Ve(e)}var b=Me;b.f(a),100>b.b&&(b.b++,a.next=b.a,b.a=a)}Ue=!1}function ze(a,b){Ce.call(this),this.b=a||1,this.a=b||c,this.f=u(this.gb,this),this.g=I()}function Ge(a){a.ba=!1,a.L&&(a.a.clearTimeout(a.L),a.L=null)}function Ke(a,b,e){if("function"==p(a))e&&(a=u(a,e));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=u(a.handleEvent,a)}return 2147483647<Number(b)?-1:c.setTimeout(a,b||0)}function We(a,b,e){S.call(this),this.f=null!=e?u(a,e):a,this.c=b,this.b=u(this.ab,this),this.a=[]}function Qe(a){a.U=Ke(a.b,a.c),a.f.apply(null,a.a)}function He(a){S.call(this),this.b=a,this.a={}}E(ze,Ce),(g=ze.prototype).ba=!1,g.L=null,g.gb=function(){if(this.ba){var a=I()-this.g;0<a&&a<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-a):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ge(this),this.start()))}},g.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=I())},g.G=function(){ze.N.G.call(this),Ge(this),delete this.a},E(We,S),(g=We.prototype).ea=!1,g.U=null,g.Ua=function(a){this.a=arguments,this.U?this.ea=!0:Qe(this)},g.G=function(){We.N.G.call(this),this.U&&(c.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},g.ab=function(){this.U=null,this.ea&&(this.ea=!1,Qe(this))},E(He,S);var Ye=[];function Xe(a,b,e,t){q(e)||(e&&(Ye[0]=e.toString()),e=Ye);for(var n=0;n<e.length;n++){var r=we(b,e[n],t||a.handleEvent,!1,a.b||a);if(!r)break;a.a[r.key]=r}}function Je(a){V(a.a,(function(b,e){this.a.hasOwnProperty(e)&&xe(b)}),a),a.a={}}function $e(){}He.prototype.G=function(){He.N.G.call(this),Je(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=new Ce;function et(a){ce.call(this,"serverreachability",a)}function tt(a){Ze.dispatchEvent(new et(Ze,a))}function nt(a){ce.call(this,"statevent",a)}function it(a){Ze.dispatchEvent(new nt(Ze,a))}function ot(a){ce.call(this,"timingevent",a)}function at(a,b){if("function"!=p(a))throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){a()}),b)}E(et,ce),E(nt,ce),E(ot,ce);var st={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},ct={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ut(){}function lt(a){var b;return(b=a.a)||(b=a.a={}),b}function ht(){}ut.prototype.a=null;var ft,pt={OPEN:"a",ib:"b",Na:"c",rb:"d"};function mt(){ce.call(this,"d")}function bt(){ce.call(this,"c")}function gt(){}function vt(a,b,e){this.g=a,this.W=b,this.V=e||1,this.I=new He(this),this.O=yt,a=H?125:void 0,this.P=new ze(a),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(mt,ce),E(bt,ce),E(gt,ut),ft=new gt;var yt=45e3,wt={},kt={};function xt(a,b,e){a.F=1,a.f=Qt(Ut(b)),a.l=e,a.H=!0,It(a,null)}function Tt(a,b,e,t){a.F=1,a.f=Qt(Ut(b)),a.l=null,a.H=e,It(a,t)}function It(a,b){a.v=I(),At(a),a.D=Ut(a.f),Wt(a.D,"t",a.V),a.A=0,a.a=a.g.$(a.g.Y()?b:null),0<a.J&&(a.B=new We(u(a.Ka,a,a.a),a.J)),Xe(a.I,a.a,"readystatechange",a.eb),b=a.h?U(a.h):{},a.l?(a.w||(a.w="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.a.ca(a.D,a.w,a.l,b)):(a.w="GET",a.a.ca(a.D,a.w,null,b)),tt(1)}function Et(a,b,e){for(var t=!0;!a.m&&a.A<e.length;){var n=St(a,e);if(n==kt){4==b&&(a.c=4,it(14),t=!1);break}if(n==wt){a.c=4,it(15),t=!1;break}Rt(a,n)}4==b&&0==e.length&&(a.c=1,it(16),t=!1),a.b=a.b&&t,t||(Dt(a),Nt(a))}function St(a,b){var e=a.A,t=b.indexOf("\n",e);return-1==t?kt:(e=Number(b.substring(e,t)),isNaN(e)?wt:(t+=1)+e>b.length?kt:(b=b.substr(t,e),a.A=t+e,b))}function At(a){a.R=I()+a.O,_t(a,a.O)}function _t(a,b){if(null!=a.i)throw Error("WatchDog timer not null");a.i=at(u(a.bb,a),b)}function Ct(a){a.i&&(c.clearTimeout(a.i),a.i=null)}function Nt(a){a.g.Da()||a.m||a.g.na(a)}function Dt(a){Ct(a);var b=a.B;b&&"function"==typeof b.la&&b.la(),a.B=null,Ge(a.P),Je(a.I),a.a&&(b=a.a,a.a=null,b.abort(),b.la())}function Rt(a,b){try{a.g.Ga(a,b),tt(4)}catch(e){}}function Ot(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(m(a)||l(a))_(a,b,void 0);else{if(a.K&&"function"==typeof a.K)var e=a.K();else if(a.C&&"function"==typeof a.C)e=void 0;else if(m(a)||l(a)){e=[];for(var t=a.length,n=0;n<t;n++)e.push(n)}else for(n in e=[],t=0,a)e[t++]=n;n=(t=function(a){if(a.C&&"function"==typeof a.C)return a.C();if(l(a))return a.split("");if(m(a)){for(var b=[],e=a.length,t=0;t<e;t++)b.push(a[t]);return b}for(t in b=[],e=0,a)b[e++]=a[t];return b}(a)).length;for(var r=0;r<n;r++)b.call(void 0,t[r],e&&e[r],a)}}function Lt(a,b){this.b={},this.a=[],this.c=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var t=0;t<e;t+=2)this.set(arguments[t],arguments[t+1])}else if(a)if(a instanceof Lt)for(e=a.K(),t=0;t<e.length;t++)this.set(e[t],a.get(e[t]));else for(t in a)this.set(t,a[t])}function Mt(a,b){Ft(a.b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Pt(a))}function Pt(a){if(a.c!=a.a.length){for(var b=0,e=0;b<a.a.length;){var t=a.a[b];Ft(a.b,t)&&(a.a[e++]=t),b++}a.a.length=e}if(a.c!=a.a.length){var n={};for(e=b=0;b<a.a.length;)Ft(n,t=a.a[b])||(a.a[e++]=t,n[t]=1),b++;a.a.length=e}}function Ft(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(g=vt.prototype).setTimeout=function(a){this.O=a},g.eb=function(a){a=a.target;var b=this.B;b&&3==Vn(a)?b.Ua():this.Ka(a)},g.Ka=function(a){try{if(a==this.a)e:{var b=Vn(this.a),e=this.a.ya(),t=this.a.T();if(!(3>b||3==b&&!H&&!this.a.aa())){this.m||4!=b||7==e||tt(8==e||0>=t?3:2),Ct(this);var n=this.a.T();this.o=n;var r=this.a.aa();if(this.b=200==n){if(this.S&&!this.s){t:{if(this.a){var o=qn(this.a,"X-HTTP-Initial-Response");if(o&&!D(o)){var c=o;break t}}c=null}if(!c){this.b=!1,this.c=3,it(12),Dt(this),Nt(this);break e}this.s=!0,Rt(this,c)}this.H?(Et(this,b,r),H&&this.b&&3==b&&(Xe(this.I,this.P,"tick",this.cb),this.P.start())):Rt(this,r),4==b&&Dt(this),this.b&&!this.m&&(4==b?this.g.na(this):(this.b=!1,At(this)))}else 400==n&&0<r.indexOf("Unknown SID")?(this.c=3,it(12)):(this.c=0,it(13)),Dt(this),Nt(this)}}}catch(e){}},g.cb=function(){if(this.a){var a=Vn(this.a),b=this.a.aa();this.A<b.length&&(Ct(this),Et(this,a,b),this.b&&4!=a&&At(this))}},g.cancel=function(){this.m=!0,Dt(this)},g.bb=function(){this.i=null;var a=I();0<=a-this.R?(2!=this.F&&(tt(3),it(17)),Dt(this),this.c=2,Nt(this)):_t(this,this.R-a)},(g=Lt.prototype).C=function(){Pt(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},g.K=function(){return Pt(this),this.a.concat()},g.get=function(a,b){return Ft(this.b,a)?this.b[a]:b},g.set=function(a,b){Ft(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},g.forEach=function(a,b){for(var e=this.K(),t=0;t<e.length;t++){var n=e[t],r=this.get(n);a.call(b,r,n,this)}};var Vt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qt(a,b){var e;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,a instanceof qt?(this.h=void 0!==b?b:a.h,Bt(this,a.f),this.j=a.j,jt(this,a.b),zt(this,a.i),this.a=a.a,Gt(this,cn(a.c)),this.g=a.g):a&&(e=String(a).match(Vt))?(this.h=!!b,Bt(this,e[1]||"",!0),this.j=Ht(e[2]||""),jt(this,e[3]||"",!0),zt(this,e[4]),this.a=Ht(e[5]||"",!0),Gt(this,e[6]||"",!0),this.g=Ht(e[7]||"")):(this.h=!!b,this.c=new nn(null,this.h))}function Ut(a){return new qt(a)}function Bt(a,b,e){a.f=e?Ht(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function jt(a,b,e){a.b=e?Ht(b,!0):b}function zt(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.i=b}else a.i=null}function Gt(a,b,e){b instanceof nn?(a.c=b,function(a,b){b&&!a.f&&(rn(a),a.c=null,a.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(on(this,t),sn(this,n,e))}),a)),a.f=b}(a.c,a.h)):(e||(b=Yt(b,en)),a.c=new nn(b,a.h))}function Kt(a,b,e){a.c.set(b,e)}function Wt(a,b,e){q(e)||(e=[String(e)]),sn(a.c,b,e)}function Qt(a){return Kt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^I()).toString(36)),a}function Ht(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Yt(a,b,e){return l(a)?(a=encodeURI(a).replace(b,Xt),e&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Xt(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}qt.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Yt(b,Jt,!0),":");var e=this.b;return(e||"file"==b)&&(a.push("//"),(b=this.j)&&a.push(Yt(b,Jt,!0),"@"),a.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.i)&&a.push(":",String(e))),(e=this.a)&&(this.b&&"/"!=e.charAt(0)&&a.push("/"),a.push(Yt(e,"/"==e.charAt(0)?Zt:$t,!0))),(e=this.c.toString())&&a.push("?",e),(e=this.g)&&a.push("#",Yt(e,tn)),a.join("")},qt.prototype.resolve=function(a){var b=Ut(this),e=!!a.f;e?Bt(b,a.f):e=!!a.j,e?b.j=a.j:e=!!a.b,e?jt(b,a.b):e=null!=a.i;var t=a.a;if(e)zt(b,a.i);else if(e=!!a.a){if("/"!=t.charAt(0))if(this.b&&!this.a)t="/"+t;else{var n=b.a.lastIndexOf("/");-1!=n&&(t=b.a.substr(0,n+1)+t)}if(".."==(n=t)||"."==n)t="";else if(L(n,"./")||L(n,"/.")){t=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],o=0;o<n.length;){var c=n[o++];"."==c?t&&o==n.length&&r.push(""):".."==c?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),t&&o==n.length&&r.push("")):(r.push(c),t=!0)}t=r.join("/")}else t=n}return e?b.a=t:e=""!==a.c.toString(),e?Gt(b,cn(a.c)):e=!!a.g,e&&(b.g=a.g),b};var Jt=/[#\/\?@]/g,$t=/[#\?:]/g,Zt=/[#\?]/g,en=/[#\?@]/g,tn=/#/g;function nn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function rn(a){a.a||(a.a=new Lt,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var e=0;e<a.length;e++){var t=a[e].indexOf("="),n=null;if(0<=t){var r=a[e].substring(0,t);n=a[e].substring(t+1)}else r=a[e];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,e){a.add(decodeURIComponent(b.replace(/\+/g," ")),e)})))}function on(a,b){rn(a),b=un(a,b),Ft(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Mt(a.a,b))}function an(a,b){return rn(a),b=un(a,b),Ft(a.a.b,b)}function sn(a,b,e){on(a,b),0<e.length&&(a.c=null,a.a.set(un(a,b),N(e)),a.b+=e.length)}function cn(a){var b=new nn;return b.c=a.c,a.a&&(b.a=new Lt(a.a),b.b=a.b),b}function un(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function ln(a){this.a=a,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function hn(a){var b=a.a.F.a;if(null!=b)it(4),b?(it(10),Jn(a.a,a,!1)):(it(11),Jn(a.a,a,!0));else{a.b=new vt(a,void 0,void 0),a.b.h=a.h,b=ni(b=a.a,b.Y()?a.f:null,a.i),it(4),Wt(b,"TYPE","xmlhttp");var e=a.a.j,t=a.a.I;e&&t&&Kt(b,e,t),Tt(a.b,b,!1,a.f)}}function dn(){this.a=this.b=null}function fn(){this.a=new Lt}function pn(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[y]||(a[y]=++w)):b.charAt(0)+a}function mn(a,b){this.b=a,this.a=b}function bn(a){this.g=a||gn,c.PerformanceNavigationTiming?a=0<(a=c.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(c.ka&&c.ka.Ea&&c.ka.Ea()&&c.ka.Ea().zb),this.f=a?this.g:1,this.a=null,1<this.f&&(this.a=new fn),this.b=null,this.c=[]}(g=nn.prototype).add=function(a,b){rn(this),this.c=null,a=un(this,a);var e=this.a.get(a);return e||this.a.set(a,e=[]),e.push(b),this.b+=1,this},g.forEach=function(a,b){rn(this),this.a.forEach((function(e,t){_(e,(function(e){a.call(b,e,t,this)}),this)}),this)},g.K=function(){rn(this);for(var a=this.a.C(),b=this.a.K(),e=[],t=0;t<b.length;t++)for(var n=a[t],r=0;r<n.length;r++)e.push(b[t]);return e},g.C=function(a){rn(this);var b=[];if(l(a))an(this,a)&&(b=C(b,this.a.get(un(this,a))));else{a=this.a.C();for(var e=0;e<a.length;e++)b=C(b,a[e])}return b},g.set=function(a,b){return rn(this),this.c=null,an(this,a=un(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},g.get=function(a,b){return a&&0<(a=this.C(a)).length?String(a[0]):b},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.K(),e=0;e<b.length;e++){var t=b[e],n=encodeURIComponent(String(t));t=this.C(t);for(var r=0;r<t.length;r++){var o=n;""!==t[r]&&(o+="="+encodeURIComponent(String(t[r]))),a.push(o)}}return this.c=a.join("&")},E((function(){}),(function(){})),(g=ln.prototype).M=null,g.$=function(a){return this.a.$(a)},g.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},g.Da=function(){return!1},g.Ga=function(a,b){if(this.c=a.o,0==this.M){if(!this.a.o&&(a=a.a)){var e=qn(a,"X-Client-Wire-Protocol");this.l=e||null,this.a.j&&(a=qn(a,"X-HTTP-Session-Id"))&&(this.a.I=a)}if(b){try{var t=this.a.ja.a.parse(b)}catch(e){return(b=this.a).m=this.c,void ei(b,2)}this.f=t[0]}else(b=this.a).m=this.c,ei(b,2)}else 1==this.M&&(this.g?it(6):"11111"==b?(it(5),this.g=!0,(!W||10<=Number(te))&&(this.c=200,this.b.cancel(),it(11),Jn(this.a,this,!0))):(it(7),this.g=!1))},g.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,hn(this)):1==this.M&&(this.g?(it(11),Jn(this.a,this,!0)):(it(10),Jn(this.a,this,!1)));else{0==this.M?it(8):1==this.M&&it(9);var a=this.a;a.m=this.c,ei(a,2)}},g.Y=function(){return this.a.Y()},g.ma=function(){return this.a.ma()},fn.prototype.add=function(a){this.a.set(pn(a),a)},fn.prototype.C=function(){return this.a.C()};var gn=10;function vn(a,b){!a.a&&(L(b,"spdy")||L(b,"quic")||L(b,"h2"))&&(a.f=a.g,a.a=new fn,a.b&&(dd(a,a.b),a.b=null))}function yn(a){return!!a.b||!!a.a&&a.a.a.c>=a.f}function wn(a){return a.b?1:a.a?a.a.a.c:0}function kn(a,b){return a.b?a=a.b==b:a.a?(b=pn(b),a=Ft(a.a.a.b,b)):a=!1,a}function dd(a,b){a.a?a.a.add(b):a.b=b}function xn(a,b){var e;a.b&&a.b==b?a.b=null:((e=a.a)&&(e=pn(b),e=Ft(a.a.a.b,e)),e&&Mt(a.a.a,pn(b)))}function Tn(a){if(null!=a.b)return a.c.concat(a.b.j);if(null!=a.a&&0!=a.a.a.c){var b=a.c;return _(a.a.C(),(function(e){b=b.concat(e.j)})),b}return N(a.c)}function In(){}function En(){this.a=new In}function Sn(a,b,e){var t=e||"";try{Ot(a,(function(e,n){var r=e;v(e)&&(r=De(e)),b.push(t+n+"="+encodeURIComponent(r))}))}catch(e){throw b.push(t+"type="+encodeURIComponent("_badmap")),e}}function An(a,b,e,t,n){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,n(t)}catch(e){}}bn.prototype.cancel=function(){this.c=Tn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(_(this.a.C(),(function(a){a.cancel()})),function(a){a.b={},a.a.length=0,a.c=0}(this.a.a))},In.prototype.stringify=function(a){return c.JSON.stringify(a,void 0)},In.prototype.parse=function(a){return c.JSON.parse(a,void 0)};var _n=c.JSON.parse;function Cn(a){Ce.call(this),this.headers=new Lt,this.H=a||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Nn,this.D=this.F=!1}E(Cn,Ce);var Nn="",Dn=/^https?$/i,Rn=["POST","PUT"];function On(a){return"content-type"==a.toLowerCase()}function Ln(a,b){a.b=!1,a.a&&(a.g=!0,a.a.abort(),a.g=!1),a.f=b,a.h=5,Mn(a),Fn(a)}function Mn(a){a.v||(a.v=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Pn(a){if(a.b&&void 0!==o&&(!a.s[1]||4!=Vn(a)||2!=a.T()))if(a.l&&4==Vn(a))Ke(a.Fa,0,a);else if(a.dispatchEvent("readystatechange"),4==Vn(a)){a.b=!1;try{var e,b=a.T();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}if(!(e=t)){var n;if(n=0===b){var r=String(a.A).match(Vt)[1]||null;if(!r&&c.self&&c.self.location){var l=c.self.location.protocol;r=l.substr(0,l.length-1)}n=!Dn.test(r?r.toLowerCase():"")}e=n}e?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.h=6,a.f=a.za()+" ["+a.T()+"]",Mn(a))}finally{Fn(a)}}}function Fn(a,b){if(a.a){td(a);var e=a.a,t=a.s[0]?f:null;a.a=null,a.s=null,b||a.dispatchEvent("ready");try{e.onreadystatechange=t}catch(e){}}}function td(a){a.a&&a.D&&(a.a.ontimeout=null),a.m&&(c.clearTimeout(a.m),a.m=null)}function Vn(a){return a.a?a.a.readyState:0}function qn(a,b){return a.a?a.a.getResponseHeader(b):null}function Un(a,b,e){e:{for(t in e){var t=!1;break e}t=!0}if(t)return a;if(e=function(a){var b="";return V(a,(function(e,t){b+=t,b+=":",b+=e,b+="\r\n"})),b}(e),l(a)){if(b=encodeURIComponent(String(b)),b+=e=null!=e?"="+encodeURIComponent(String(e)):""){if(0>(e=a.indexOf("#"))&&(e=a.length),0>(t=a.indexOf("?"))||t>e){t=e;var n=""}else n=a.substring(t+1,e);e=(a=[a.substr(0,t),n,a.substr(e)])[1],a[1]=b?e?e+"&"+b:b:e,a=a[0]+(a[1]?"?"+a[1]:"")+a[2]}return a}return Kt(a,b,e),a}function Bn(a){this.f=[],this.F=new dn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!d("internalChannelParams.failFast",a),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=d("internalChannelParams.baseRetryDelayMs",a)||5e3,this.Sa=d("internalChannelParams.retryDelaySeedMs",a)||1e4,this.Qa=d("internalChannelParams.forwardChannelMaxRetries",a)||2,this.qa=d("internalChannelParams.forwardChannelRequestTimeoutMs",a)||2e4,this.La=a&&a.Ab||void 0,this.D=void 0,this.R=a&&a.supportsCrossDomainXhr||!1,this.H="",this.b=new bn(a&&a.concurrentRequestLimit),this.ja=new En,this.o=!a||void 0===a.backgroundChannelTest||a.backgroundChannelTest,(this.W=a&&a.fastHandshake||!1)&&!this.o&&(this.o=!0),a&&a.forceLongPolling&&(this.oa=!1),this.fa=void 0}function jn(a){if(zn(a),3==a.u){var b=a.P++,e=Ut(a.B);Kt(e,"SID",a.H),Kt(e,"RID",b),Kt(e,"TYPE","terminate"),Qn(a,e),(b=new vt(a,b,void 0)).F=2,b.f=Qt(Ut(e)),e=!1,c.navigator&&c.navigator.sendBeacon&&(e=c.navigator.sendBeacon(b.f.toString(),"")),!e&&c.Image&&((new Image).src=b.f,e=!0),e||(b.a=b.g.$(null),b.a.ca(b.f)),b.v=I(),At(b)}ti(a)}function zn(a){a.w&&(a.w.abort(),a.w=null),a.a&&(a.a.cancel(),a.a=null),a.l&&(c.clearTimeout(a.l),a.l=null),$n(a),a.b.cancel(),a.h&&(h(a.h)&&c.clearTimeout(a.h),a.h=null)}function Gn(a,b){a.f.push(new mn(a.Ra++,b)),3==a.u&&Kn(a)}function Kn(a){yn(a.b)||a.h||(a.h=!0,qe(a.Ia,a),a.A=0)}function Wn(a,b){var e;e=b?b.W:a.P++;var t=Ut(a.B);Kt(t,"SID",a.H),Kt(t,"RID",e),Kt(t,"AID",a.O),Qn(a,t),a.g&&a.i&&Un(t,a.g,a.i),e=new vt(a,e,a.A+1),null===a.g&&(e.h=a.i),b&&(a.f=b.j.concat(a.f)),b=Hn(a,e,1e3),e.setTimeout(Math.round(.5*a.qa)+Math.round(.5*a.qa*Math.random())),dd(a.b,e),xt(e,t,b)}function Qn(a,b){a.c&&Ot({},(function(e,t){Kt(b,t,e)}))}function Hn(a,b,e){e=Math.min(a.f.length,e);var t=a.c?u(a.c.Ta,a.c,a):null;e:for(var n=a.f,r=-1;;){var o=["count="+e];-1==r?0<e?(r=n[0].b,o.push("ofs="+r)):r=0:o.push("ofs="+r);for(var c=!0,l=0;l<e;l++){var h=n[l].b,d=n[l].a;if(0>(h-=r))r=Math.max(0,n[l].b-100),c=!1;else try{Sn(d,o,"req"+h+"_")}catch(e){t&&t(d)}}if(c){t=o.join("&");break e}}return a=a.f.splice(0,e),b.j=a,t}function Yn(a){a.a||a.l||(a.S=1,qe(a.Ha,a),a.v=0)}function Xn(a){return!(a.a||a.l||3<=a.v)&&(a.S++,a.l=at(u(a.Ha,a),Zn(a,a.v)),a.v++,!0)}function Jn(a,b,e){var t=b.l;t&&vn(a.b,t),a.ia=a.oa&&e,a.m=b.c,a.B=ni(a,null,a.ha),Kn(a)}function $n(a){null!=a.s&&(c.clearTimeout(a.s),a.s=null)}function Zn(a,b){var e=a.Oa+Math.floor(Math.random()*a.Sa);return a.ma()||(e*=2),e*b}function ei(a,b){if(2==b){var e=null;a.c&&(e=null);var t=u(a.fb,a);e||(e=new qt("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Bt(e,"https"),Qt(e)),function(a,b){var e=new $e;if(c.Image){var t=new Image;t.onload=T(An,e,t,"TestLoadImage: loaded",!0,b),t.onerror=T(An,e,t,"TestLoadImage: error",!1,b),t.onabort=T(An,e,t,"TestLoadImage: abort",!1,b),t.ontimeout=T(An,e,t,"TestLoadImage: timeout",!1,b),c.setTimeout((function(){t.ontimeout&&t.ontimeout()}),1e4),t.src=a}else b(!1)}(e.toString(),t)}else it(2);a.u=0,a.c&&a.c.ta(b),ti(a),zn(a)}function ti(a){a.u=0,a.m=-1,a.c&&(0==Tn(a.b).length&&0==a.f.length||(a.b.c.length=0,N(a.f),a.f.length=0),a.c.sa())}function ni(a,b,e){var t=function(a){return a instanceof qt?Ut(a):new qt(a,void 0)}(e);if(""!=t.b)b&&jt(t,b+"."+t.b),zt(t,t.i);else{var n,r=c.location;n=b?b+"."+r.hostname:r.hostname,t=function(a,b,e,t){var n=new qt(null,void 0);return a&&Bt(n,a),b&&jt(n,b),e&&zt(n,e),t&&(n.a=t),n}(r.protocol,n,+r.port,e)}return a.V&&V(a.V,(function(e,n){Kt(t,n,e)})),b=a.j,e=a.I,b&&e&&Kt(t,b,e),Kt(t,"VER",a.wa),Qn(a,t),t}function ii(){}function ri(){if(W&&!(10<=Number(te)))throw Error("Environmental error: no available transport.")}function oi(a,b){Ce.call(this),this.a=new Bn(b),this.g=a,this.m=b&&b.testUrl?b.testUrl:function(a){for(var b=arguments[0],e=1;e<arguments.length;e++){var t,n=arguments[e];if(0==n.lastIndexOf("/",0))b=n;else(t=""==b)||(t=0<=(t=b.length-1)&&b.indexOf("/",t)==t),b+=t?n:"/"+n}return b}(this.g,"test"),this.b=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.a.i=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.xa&&(a?a["X-WebChannel-Client-Profile"]=b.xa:a={"X-WebChannel-Client-Profile":b.xa}),this.a.J=a,(a=b&&b.httpHeadersOverwriteParam)&&!D(a)&&(this.a.g=a),this.l=b&&b.supportsCrossDomainXhr||!1,this.h=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!D(b)&&(this.a.j=b,null!==(a=this.b)&&b in a&&(b in(a=this.b)&&delete a[b])),this.f=new ci(this)}function ai(a){mt.call(this);var b=a.__sm__;if(b){e:{for(var e in b){a=e;break e}a=void 0}(this.c=a)?(a=this.c,this.data=null!==b&&a in b?b[a]:void 0):this.data=b}else this.data=a}function si(){bt.call(this),this.status=1}function ci(a){this.a=a}(g=Cn.prototype).ca=function(a,b,e,t){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+a);b=b?b.toUpperCase():"GET",this.A=a,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?lt(this.H):lt(ft),this.a.onreadystatechange=u(this.Fa,this);try{this.w=!0,this.a.open(b,String(a),!0),this.w=!1}catch(e){return void Ln(this,e)}a=e||"";var n=new Lt(this.headers);t&&Ot(t,(function(e,t){n.set(t,e)})),t=function(a){e:{for(var b=On,e=a.length,t=l(a)?a.split(""):a,n=0;n<e;n++)if(n in t&&b.call(void 0,t[n],n,a)){b=n;break e}b=-1}return 0>b?null:l(a)?a.charAt(b):a[b]}(n.K()),e=c.FormData&&a instanceof c.FormData,!(0<=A(Rn,b))||t||e||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{td(this),0<this.o&&((this.D=function(a){return W&&ie(9)&&h(a.timeout)&&void 0!==a.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=u(this.Ca,this)):this.m=Ke(this.Ca,this.o,this)),this.l=!0,this.a.send(a),this.l=!1}catch(e){Ln(this,e)}},g.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(a){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fn(this))},g.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fn(this,!0)),Cn.N.G.call(this)},g.Fa=function(){this.j||(this.w||this.l||this.g?Pn(this):this.$a())},g.$a=function(){Pn(this)},g.T=function(){try{return 2<Vn(this)?this.a.status:-1}catch(e){return-1}},g.za=function(){try{return 2<Vn(this)?this.a.statusText:""}catch(e){return""}},g.aa=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},g.Va=function(a){if(this.a){var b=this.a.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),_n(b)}},g.ya=function(){return this.h},g.Ya=function(){return l(this.f)?this.f:String(this.f)},(g=Bn.prototype).wa=8,g.u=1,g.Da=function(){return 0==this.u},g.Ia=function(a){if(this.h)if(this.h=null,1==this.u){if(!a){this.P=Math.floor(1e5*Math.random());var e,b=new vt(this,a=this.P++,void 0),t=this.i;if(this.J&&(t?j(t=U(t),this.J):t=this.J),null===this.g&&(b.h=t),this.W)e:{for(var n=e=0;n<this.f.length;n++){var r=this.f[n];if(void 0===(r="__data__"in r.a&&l(r=r.a.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.f.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Hn(this,b,e),Kt(n=Ut(this.B),"RID",a),Kt(n,"CVER",22),this.o&&this.j&&Kt(n,"X-HTTP-Session-Id",this.j),Qn(this,n),this.g&&t&&Un(n,this.g,t),dd(this.b,b),this.W?(Kt(n,"$req",e),Kt(n,"SID","null"),b.S=!0,xt(b,n,null)):xt(b,n,e),this.u=2}}else 3==this.u&&(a?Wn(this,a):0==this.f.length||yn(this.b)||Wn(this))},g.Ha=function(){this.l=null,this.a=new vt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var a=Ut(this.pa);Kt(a,"RID","rpc"),Kt(a,"SID",this.H),Kt(a,"CI",this.ia?"0":"1"),Kt(a,"AID",this.O),Qn(this,a),Kt(a,"TYPE","xmlhttp"),this.g&&this.i&&Un(a,this.g,this.i),this.D&&this.a.setTimeout(this.D),Tt(this.a,a,!0,this.ga)},g.Ga=function(a,b){if(0!=this.u&&(this.a==a||kn(this.b,a)))if(this.m=a.o,!a.s&&kn(this.b,a)&&3==this.u){try{var e=this.ja.a.parse(b)}catch(t){e=null}if(q(e)&&3==e.length){if(0==(b=e)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<a.v))break e;$n(this),this.a.cancel(),this.a=null}Xn(this),it(18)}}else this.ra=b[1],0<this.ra-this.O&&37500>b[2]&&this.ia&&0==this.v&&!this.s&&(this.s=at(u(this.Za,this),6e3));if(1>=wn(this.b)&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else ei(this,11)}else if((a.s||this.a==a)&&$n(this),!D(b))for(b=e=this.ja.a.parse(b),e=0;e<b.length;e++){var t=b[e];if(this.O=t[0],t=t[1],2==this.u)if("c"==t[0]){this.H=t[1],this.ga=t[2];var n=t[3];null!=n&&(this.wa=n),null!=(t=t[5])&&h(t)&&0<t&&(this.D=1.5*t),this.o&&(t=a.a)&&((n=qn(t,"X-Client-Wire-Protocol"))&&vn(this.b,n),this.j&&(t=qn(t,"X-HTTP-Session-Id")))&&(this.I=t,Kt(this.B,this.j,t)),this.u=3,this.c&&this.c.va(),t=a,this.pa=ni(this,this.Y()?this.ga:null,this.ha),t.s?(xn(this.b,t),(n=this.D)&&t.setTimeout(n),t.i&&(Ct(t),At(t)),this.a=t):Yn(this),0<this.f.length&&Kn(this)}else"stop"!=t[0]&&"close"!=t[0]||ei(this,7);else 3==this.u&&("stop"==t[0]||"close"==t[0]?"stop"==t[0]?ei(this,7):jn(this):"noop"!=t[0]&&this.c&&this.c.ua(t),this.v=0)}},g.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Xn(this),it(19))},g.na=function(a){var b=null;if(this.a==a){$n(this),this.a=null;var e=2}else{if(!kn(this.b,a))return;b=a.j,xn(this.b,a),e=1}if(this.m=a.o,0!=this.u)if(a.b)1==e?(b=I()-a.v,Ze.dispatchEvent(new ot(Ze,a.l?a.l.length:0,b,this.A)),Kn(this)):Yn(this);else{var t=a.c;if(3==t||0==t&&0<this.m||!(1==e&&function(a,b){return!(wn(a.b)>=a.b.f-(a.h?1:0))&&(a.h?(a.f=b.j.concat(a.f),!0):!(1==a.u||2==a.u||a.A>=(a.Pa?0:a.Qa))&&(a.h=at(u(a.Ia,a,b),Zn(a,a.A)),a.A++,!0))}(this,a)||2==e&&Xn(this)))switch(b&&0<b.length&&(a=this.b,a.c=a.c.concat(b)),t){case 1:ei(this,5);break;case 4:ei(this,10);break;case 3:ei(this,6);break;default:ei(this,2)}}},g.fb=function(a){it(a?2:1)},g.$=function(a){if(a&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(a=new Cn(this.La)).F=this.R,a},g.ma=function(){return!!this.c&&!0},g.Y=function(){return this.R},(g=ii.prototype).va=function(){},g.ua=function(){},g.ta=function(){},g.sa=function(){},g.Ta=function(){},ri.prototype.a=function(a,b){return new oi(a,b)},E(oi,Ce),(g=oi.prototype).addEventListener=function(a,b,e,t){oi.N.addEventListener.call(this,a,b,e,t)},g.removeEventListener=function(a,b,e,t){oi.N.removeEventListener.call(this,a,b,e,t)},g.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var a=this.a,b=this.m,e=this.g,t=this.b||void 0;it(0),a.ha=e,a.V=t||{},a.o&&(a.F.b=[],a.F.a=!1),a.w=new ln(a),null===a.g&&(a.w.h=a.i),e=b,a.g&&a.i&&(e=Un(b,a.g,a.i)),(a=a.w).i=e,b=ni(a.a,null,a.i),it(3),null!=(e=a.a.F.b)?(a.f=e[0],a.M=1,hn(a)):(Wt(b,"MODE","init"),!a.a.o&&a.a.j&&Wt(b,"X-HTTP-Session-Id",a.a.j),a.b=new vt(a,void 0,void 0),a.b.h=a.h,Tt(a.b,b,!1,null),a.M=0)},g.close=function(){jn(this.a)},g.Xa=function(a){if(l(a)){var b={};b.__data__=a,Gn(this.a,b)}else this.h?((b={}).__data__=De(a),Gn(this.a,b)):Gn(this.a,a)},g.G=function(){this.a.c=null,delete this.f,jn(this.a),delete this.a,oi.N.G.call(this)},E(ai,mt),E(si,bt),E(ci,ii),ci.prototype.va=function(){this.a.dispatchEvent("a")},ci.prototype.ua=function(a){this.a.dispatchEvent(new ai(a))},ci.prototype.ta=function(a){this.a.dispatchEvent(new si(a))},ci.prototype.sa=function(){this.a.dispatchEvent("b")};var ui=T((function(a,b){function e(){}e.prototype=a.prototype;var t=new e;return a.apply(t,Array.prototype.slice.call(arguments,1)),t}),ri);ri.prototype.createWebChannel=ri.prototype.a,oi.prototype.send=oi.prototype.Xa,oi.prototype.open=oi.prototype.Wa,oi.prototype.close=oi.prototype.close,st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,ct.COMPLETE="complete",ht.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",Ce.prototype.listen=Ce.prototype.Aa,Cn.prototype.listenOnce=Cn.prototype.Ba,Cn.prototype.getLastError=Cn.prototype.Ya,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getStatusText=Cn.prototype.za,Cn.prototype.getResponseJson=Cn.prototype.Va,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var hi={createWebChannelTransport:ui,ErrorCode:st,EventType:ct,WebChannel:ht,XhrIo:Cn},di=hi.createWebChannelTransport,fi=hi.ErrorCode,pi=hi.EventType,mi=hi.WebChannel,bi=hi.XhrIo;t.default=hi}.call(this,n(13))},161:function(e,t,n){"use strict";n.r(t);n(162)},162:function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t);(function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)},o="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this;function c(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:c(a)}}!function(a,b){if(b){var e=o;a=a.split(".");for(var t=0;t<a.length-1;t++){var r=a[t];r in e||(e[r]={}),e=e[r]}(b=b(t=e[a=a[a.length-1]]))!=t&&null!=b&&n(e,a,{configurable:!0,writable:!0,value:b})}}("Promise",(function(a){function b(g){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{g(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.a=null}function t(g){return g instanceof b?g:new b((function(e){e(g)}))}if(a)return a;e.prototype.b=function(g){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(g)};var n=o.setTimeout;e.prototype.c=function(g){n(g,0)},e.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var e=0;e<g.length;++e){var t=g[e];g[e]=null;try{t()}catch(e){this.f(e)}}}this.a=null},e.prototype.f=function(g){this.c((function(){throw g}))},b.prototype.f=function(){function g(p){return function(u){t||(t=!0,p.call(e,u))}}var e=this,t=!1;return{resolve:g(this.m),reject:g(this.g)}},b.prototype.m=function(g){if(g===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.o(g);else{e:switch(typeof g){case"object":var e=null!=g;break e;case"function":e=!0;break e;default:e=!1}e?this.u(g):this.h(g)}},b.prototype.u=function(g){var e=void 0;try{e=g.then}catch(e){return void this.g(e)}"function"==typeof e?this.v(e,g):this.h(g)},b.prototype.g=function(g){this.i(2,g)},b.prototype.h=function(g){this.i(1,g)},b.prototype.i=function(g,e){if(0!=this.b)throw Error("Cannot settle("+g+", "+e+"): Promise already settled in state"+this.b);this.b=g,this.c=e,this.l()},b.prototype.l=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)r.b(this.a[g]);this.a=null}};var r=new e;return b.prototype.o=function(g){var e=this.f();g.La(e.resolve,e.reject)},b.prototype.v=function(g,e){var t=this.f();try{g.call(e,t.resolve,t.reject)}catch(e){t.reject(e)}},b.prototype.then=function(g,e){function t(e,t){return"function"==typeof e?function(t){try{p(e(t))}catch(e){u(e)}}:t}var p,u,n=new b((function(e,t){p=e,u=t}));return this.La(t(g,p),t(e,u)),n},b.prototype.catch=function(g){return this.then(void 0,g)},b.prototype.La=function(g,e){function t(){switch(p.b){case 1:g(p.c);break;case 2:e(p.c);break;default:throw Error("Unexpected state: "+p.b)}}var p=this;null==this.a?r.b(t):this.a.push(t)},b.resolve=t,b.reject=function(g){return new b((function(e,t){t(g)}))},b.race=function(g){return new b((function(e,n){for(var p=l(g),u=p.next();!u.done;u=p.next())t(u.value).La(e,n)}))},b.all=function(g){var e=l(g),n=e.next();return n.done?t([]):new b((function(p,u){function r(e){return function(t){o[e]=t,0==--c&&p(o)}}var o=[],c=0;do{o.push(void 0),c++,t(n.value).La(r(o.length-1),u),n=e.next()}while(!n.done)}))},b}));var h=h||{},d=this||self;function f(a){return"string"==typeof a}function m(a){return"boolean"==typeof a}var v=/^[\w+/_-]+[=]{0,2}$/,y=null;function w(){}function k(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var e=Object.prototype.toString.call(a);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function x(a){return null===a}function T(a){return"array"==k(a)}function I(a){var b=k(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"function"==k(a)}function E(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var S="closure_uid_"+(1e9*Math.random()>>>0),A=0;function _(a,b,e){return a.call.apply(a.bind,arguments)}function C(a,b,e){if(!a)throw Error();if(2<arguments.length){var t=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,t),a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function N(a,b,e){return(N=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:C).apply(null,arguments)}function D(a,b){var e=Array.prototype.slice.call(arguments,1);return function(){var t=e.slice();return t.push.apply(t,arguments),a.apply(this,t)}}var R=Date.now||function(){return+new Date};function O(a,b){function e(){}e.prototype=b.prototype,a.qb=b.prototype,a.prototype=new e,a.prototype.constructor=a,a.gd=function(e,t,n){for(var g=Array(arguments.length-2),r=2;r<arguments.length;r++)g[r-2]=arguments[r];return b.prototype[t].apply(e,g)}}function L(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(e){return!1}}function M(a){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function P(a,b){for(var e="",t=(a=a.split("%s")).length-1,n=0;n<t;n++)e+=a[n]+(n<b.length?b[n]:"%s");M.call(this,e+a[t])}function F(a,b){throw new P("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function V(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function U(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function B(){this.b=this.a=null}O(M,Error),M.prototype.name="CustomError",O(P,M),P.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var j=new V((function(){return new G}),(function(a){a.reset()}));function z(){var a=Je,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function G(){this.next=this.b=this.a=null}function K(a,b){e:{try{var e=a&&a.ownerDocument,t=e&&(e.defaultView||e.parentWindow);if((t=t||d).Element&&t.Location){var n=t;break e}}catch(e){}n=null}if(n&&void 0!==n[b]&&(!a||!(a instanceof n[b])&&(a instanceof n.Location||a instanceof n.Element))){if(E(a))try{var r=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(e){r="<object could not be stringified>"}else r=void 0===a?"undefined":null===a?"null":typeof a;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,r)}}B.prototype.add=function(a,b){var e=j.get();e.set(a,b),this.b?this.b.next=e:this.a=e,this.b=e},G.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},G.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(f(a))return f(b)&&1==b.length?a.indexOf(b,0):-1;for(var e=0;e<a.length;e++)if(e in a&&a[e]===b)return e;return-1},Q=Array.prototype.forEach?function(a,b,e){Array.prototype.forEach.call(a,b,e)}:function(a,b,e){for(var t=a.length,n=f(a)?a.split(""):a,r=0;r<t;r++)r in n&&b.call(e,n[r],r,a)};var H=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var e=a.length,t=Array(e),n=f(a)?a.split(""):a,r=0;r<e;r++)r in n&&(t[r]=b.call(void 0,n[r],r,a));return t},Y=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var e=a.length,t=f(a)?a.split(""):a,n=0;n<e;n++)if(n in t&&b.call(void 0,t[n],n,a))return!0;return!1};function X(a,b){return 0<=W(a,b)}function J(a,b){var e;return(e=0<=(b=W(a,b)))&&Array.prototype.splice.call(a,b,1),e}function $(a,b){!function(a,b){for(var e=f(a)?a.split(""):a,t=a.length-1;0<=t;--t)t in e&&b.call(void 0,e[t],t,a)}(a,(function(e,t){b.call(void 0,e,t,a)&&1==Array.prototype.splice.call(a,t,1).length&&0}))}function Z(a){return Array.prototype.concat.apply([],arguments)}function ee(a){var b=a.length;if(0<b){for(var e=Array(b),t=0;t<b;t++)e[t]=a[t];return e}return[]}function te(a,b){for(var e in a)b.call(void 0,a[e],e,a)}function ne(a){for(var b in a)return!1;return!0}function ie(a){var e,b={};for(e in a)b[e]=a[e];return b}var re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(a,b){for(var e,t,n=1;n<arguments.length;n++){for(e in t=arguments[n])a[e]=t[e];for(var r=0;r<re.length;r++)e=re[r],Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}}function ae(a,b){this.a=a===ue&&b||"",this.b=ce}function se(a){return a instanceof ae&&a.constructor===ae&&a.b===ce?a.a:(F("expected object of type Const, got '"+a+"'"),"type_error:Const")}ae.prototype.qa=!0,ae.prototype.pa=function(){return this.a},ae.prototype.toString=function(){return"Const{"+this.a+"}"};var ce={},ue={},le=new ae(ue,"");function he(){this.a="",this.b=be}function de(a){return a instanceof he&&a.constructor===he&&a.b===be?a.a:(F("expected object of type TrustedResourceUrl, got '"+a+"' of type "+k(a)),"type_error:TrustedResourceUrl")}function fe(a,b){var e=se(a);if(!me.test(e))throw Error("Invalid TrustedResourceUrl format: "+e);return ge(a=e.replace(pe,(function(t,n){if(!Object.prototype.hasOwnProperty.call(b,n))throw Error('Found marker, "'+n+'", in format string, "'+e+'", but no valid label mapping found in args: '+JSON.stringify(b));return(t=b[n])instanceof ae?se(t):encodeURIComponent(String(t))})))}he.prototype.qa=!0,he.prototype.pa=function(){return this.a.toString()},he.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var pe=/%{(\w+)}/g,me=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,be={};function ge(a){var b=new he;return b.a=a,b}var ve=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},ye=/&/g,we=/</g,ke=/>/g,xe=/"/g,Te=/'/g,Ie=/\x00/g,Ee=/[\x00&<>"']/;function Se(a,b){return-1!=a.indexOf(b)}function Ae(a,b){return a<b?-1:a>b?1:0}function _e(){this.a="",this.b=Oe}function Ce(a){return a instanceof _e&&a.constructor===_e&&a.b===Oe?a.a:(F("expected object of type SafeUrl, got '"+a+"' of type "+k(a)),"type_error:SafeUrl")}_e.prototype.qa=!0,_e.prototype.pa=function(){return this.a.toString()},_e.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function De(a){return a instanceof _e?a:(a="object"==typeof a&&a.qa?a.pa():String(a),Ne.test(a)||(a="about:invalid#zClosurez"),Le(a))}var Re,Oe={};function Le(a){var b=new _e;return b.a=a,b}Le("about:blank");e:{var Me=d.navigator;if(Me){var Pe=Me.userAgent;if(Pe){Re=Pe;break e}}Re=""}function Fe(a){return Se(Re,a)}function Ve(){this.a="",this.b=Ue}function qe(a){return a instanceof Ve&&a.constructor===Ve&&a.b===Ue?a.a:(F("expected object of type SafeHtml, got '"+a+"' of type "+k(a)),"type_error:SafeHtml")}Ve.prototype.qa=!0,Ve.prototype.pa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ue={};function Be(a){var b=new Ve;return b.a=a,b}Be("<!DOCTYPE html>");var je,ze,Ge=Be("");function Ke(a,b){for(var e=a.split("%s"),t="",n=Array.prototype.slice.call(arguments,1);n.length&&1<e.length;)t+=e.shift()+n.shift();return t+e.join("%s")}function We(a){return Ee.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(ye,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(we,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(ke,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(xe,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(Te,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(Ie,"&#0;"))),a}function Qe(a){d.setTimeout((function(){throw a}),0)}function He(){var a=d.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Fe("Presto")&&(a=function(){var e=document.createElement("IFRAME");e.style.display="none",function(a){var b=ge(se(le));K(a,"HTMLIFrameElement"),a.src=de(b).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(qe(Ge)),e.close();var g="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=N((function(e){"*"!=n&&e.origin!=n||e.data!=g||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(g,n)}}}),void 0!==a&&!Fe("Trident")&&!Fe("MSIE")){var b=new a,e={},t=e;return b.port1.onmessage=function(){if(void 0!==e.next){var t=(e=e.next).yb;e.yb=null,t()}},function(e){t.next={yb:e},t=t.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){d.setTimeout(e,0)}}function Ye(a,b){ze||function(){if(d.Promise&&d.Promise.resolve){var a=d.Promise.resolve(void 0);ze=function(){a.then($e)}}else ze=function(){var b=$e;!q(d.setImmediate)||d.Window&&d.Window.prototype&&!Fe("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(je||(je=He()),je(b)):d.setImmediate(b)}}(),Xe||(ze(),Xe=!0),Je.add(a,b)}Be("<br>");var Xe=!1,Je=new B;function $e(){for(var a;a=z();){try{a.a.call(a.b)}catch(e){Qe(e)}U(j,a)}Xe=!1}function Ze(a,b){if(this.a=et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=w)try{var e=this;a.call(b,(function(t){pt(e,tt,t)}),(function(t){if(!(t instanceof kt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}pt(e,nt,t)}))}catch(e){pt(this,nt,e)}}var et=0,tt=2,nt=3;function it(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}it.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ot=new V((function(){return new it}),(function(a){a.reset()}));function at(a,b,e){var t=ot.get();return t.g=a,t.b=b,t.f=e,t}function st(a){if(a instanceof Ze)return a;var b=new Ze(w);return pt(b,tt,a),b}function ct(a){return new Ze((function(b,e){e(a)}))}function ut(a,b,e){mt(a,b,e,null)||Ye(D(b,a))}function lt(a){return new Ze((function(b){var e=a.length,t=[];if(e)for(var n=function(n,r,p){e--,t[n]=r?{Gb:!0,value:p}:{Gb:!1,reason:p},0==e&&b(t)},r=0;r<a.length;r++)ut(a[r],D(n,r,!0),D(n,r,!1));else b(t)}))}function ht(a,b){a.b||a.a!=tt&&a.a!=nt||bt(a),a.f?a.f.next=b:a.b=b,a.f=b}function ft(a,b,e,t){var n=at(null,null,null);return n.a=new Ze((function(r,g){n.g=b?function(e){try{var n=b.call(t,e);r(n)}catch(e){g(e)}}:r,n.b=e?function(n){try{var o=e.call(t,n);void 0===o&&n instanceof kt?g(n):r(o)}catch(e){g(e)}}:g})),n.a.c=a,ht(a,n),n.a}function pt(a,b,e){a.a==et&&(a===e&&(b=nt,e=new TypeError("Promise cannot resolve to itself")),a.a=1,mt(e,a.Oc,a.Pc,a)||(a.i=e,a.a=b,a.c=null,bt(a),b!=nt||e instanceof kt||function(a,b){a.g=!0,Ye((function(){a.g&&wt.call(null,b)}))}(a,e)))}function mt(a,b,e,t){if(a instanceof Ze)return ht(a,at(b||w,e||null,t)),!0;if(L(a))return a.then(b,e,t),!0;if(E(a))try{var n=a.then;if(q(n))return function(a,b,e,t,n){function r(e){o||(o=!0,t.call(n,e))}var o=!1;try{b.call(a,(function(t){o||(o=!0,e.call(n,t))}),r)}catch(e){r(e)}}(a,n,b,e,t),!0}catch(n){return e.call(t,n),!0}return!1}function bt(a){a.h||(a.h=!0,Ye(a.Zb,a))}function gt(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function vt(a,b,e,t){if(e==nt&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,yt(b,e,t);else try{b.c?b.g.call(b.f):yt(b,e,t)}catch(e){wt.call(null,e)}U(ot,b)}function yt(a,b,e){b==tt?a.g.call(a.f,e):a.b&&a.b.call(a.f,e)}Ze.prototype.then=function(a,b,e){return ft(this,q(a)?a:null,q(b)?b:null,e)},Ze.prototype.$goog_Thenable=!0,(t=Ze.prototype).ka=function(a,b){return(a=at(a,a,b)).c=!0,ht(this,a),this},t.s=function(a,b){return ft(this,null,a,b)},t.cancel=function(a){this.a==et&&Ye((function(){!function e(a,b){if(a.a==et)if(a.c){var t=a.c;if(t.b){for(var n=0,r=null,o=null,g=t.b;g&&(g.c||(n++,g.a==a&&(r=g),!(r&&1<n)));g=g.next)r||(o=g);r&&(t.a==et&&1==n?e(t,b):(o?((n=o).next==t.f&&(t.f=n),n.next=n.next.next):gt(t),vt(t,r,nt,b)))}a.c=null}else pt(a,nt,b)}(this,new kt(a))}),this)},t.Oc=function(a){this.a=et,pt(this,tt,a)},t.Pc=function(a){this.a=et,pt(this,nt,a)},t.Zb=function(){for(var a;a=gt(this);)vt(this,a,this.a,this.i);this.h=!1};var wt=Qe;function kt(a){M.call(this,a)}function xt(){0!=Tt&&(It[this[S]||(this[S]=++A)]=this),this.va=this.va,this.la=this.la}O(kt,M),kt.prototype.name="cancel";var Tt=0,It={};function Et(a){if(!a.va&&(a.va=!0,a.za(),0!=Tt)){var b=a[S]||(a[S]=++A);if(0!=Tt&&a.la&&0<a.la.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete It[b]}}function St(a){return St[" "](a),a}xt.prototype.va=!1,xt.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},St[" "]=w;var At,a,_t=Fe("Opera"),Ct=Fe("Trident")||Fe("MSIE"),Nt=Fe("Edge"),Dt=Nt||Ct,Rt=Fe("Gecko")&&!(Se(Re.toLowerCase(),"webkit")&&!Fe("Edge"))&&!(Fe("Trident")||Fe("MSIE"))&&!Fe("Edge"),Ot=Se(Re.toLowerCase(),"webkit")&&!Fe("Edge");function Lt(){var a=d.document;return a?a.documentMode:void 0}e:{var Mt="",Pt=(a=Re,Rt?/rv:([^\);]+)(\)|;)/.exec(a):Nt?/Edge\/([\d\.]+)/.exec(a):Ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Ot?/WebKit\/(\S+)/.exec(a):_t?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Pt&&(Mt=Pt?Pt[1]:""),Ct){var Ft=Lt();if(null!=Ft&&Ft>parseFloat(Mt)){At=String(Ft);break e}}At=Mt}var Vt,qt={};function Ut(a){return function(a,b){var e=qt;return Object.prototype.hasOwnProperty.call(e,a)?e[a]:e[a]=b(a)}(a,(function(){for(var b=0,e=ve(String(At)).split("."),t=ve(String(a)).split("."),n=Math.max(e.length,t.length),r=0;0==b&&r<n;r++){var g=e[r]||"",o=t[r]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==g[0].length&&0==o[0].length)break;b=Ae(0==g[1].length?0:parseInt(g[1],10),0==o[1].length?0:parseInt(o[1],10))||Ae(0==g[2].length,0==o[2].length)||Ae(g[2],o[2]),g=g[3],o=o[3]}while(0==b)}return 0<=b}))}Vt=d.document&&Ct?Lt():void 0;var Bt=Object.freeze||function(a){return a},jt=!Ct||9<=Number(Vt),zt=Ct&&!Ut("9"),Gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{d.addEventListener("test",w,b),d.removeEventListener("test",w,b)}catch(e){}return a}();function Kt(a,b){this.type=a,this.b=this.target=b,this.Mb=!0}function Wt(a,b){if(Kt.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var e=this.type=a.type,t=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(Rt){e:{try{St(b.nodeName);var n=!0;break e}catch(e){}n=!1}n||(b=null)}}else"mouseover"==e?b=a.fromElement:"mouseout"==e&&(b=a.toElement);this.relatedTarget=b,t?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=f(a.pointerType)?a.pointerType:Qt[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}Kt.prototype.preventDefault=function(){this.Mb=!1},O(Wt,Kt);var Qt=Bt({2:"touch",3:"pen",4:"mouse"});Wt.prototype.preventDefault=function(){Wt.qb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,zt)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(e){}},Wt.prototype.f=function(){return this.a};var Ht="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function Xt(a,b,e,t,n){this.listener=a,this.proxy=null,this.src=b,this.type=e,this.capture=!!t,this.Pa=n,this.key=++Yt,this.ta=this.Ka=!1}function Jt(a){a.ta=!0,a.listener=null,a.proxy=null,a.src=null,a.Pa=null}function $t(a){this.src=a,this.a={},this.b=0}function Zt(a,b){var e=b.type;e in a.a&&J(a.a[e],b)&&(Jt(b),0==a.a[e].length&&(delete a.a[e],a.b--))}function en(a,b,e,t){for(var n=0;n<a.length;++n){var r=a[n];if(!r.ta&&r.listener==b&&r.capture==!!e&&r.Pa==t)return n}return-1}$t.prototype.add=function(a,b,e,t,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=en(a,b,t,n);return-1<g?(b=a[g],e||(b.Ka=!1)):((b=new Xt(b,this.src,r,!!t,n)).Ka=e,a.push(b)),b};var tn="closure_lm_"+(1e6*Math.random()|0),nn={};function rn(a,b,e,t,n){if(t&&t.once)an(a,b,e,t,n);else if(T(b))for(var r=0;r<b.length;r++)rn(a,b[r],e,t,n);else e=pn(e),a&&a[Ht]?bn(a,b,e,E(t)?!!t.capture:!!t,n):on(a,b,e,!1,t,n)}function on(a,b,e,t,n,r){if(!b)throw Error("Invalid event type");var g=E(n)?!!n.capture:!!n,o=dn(a);if(o||(a[tn]=o=new $t(a)),!(e=o.add(b,e,t,g,r)).proxy){if(t=function(){var a=dd,b=jt?function(e){return a.call(b.src,b.listener,e)}:function(e){if(!(e=a.call(b.src,b.listener,e)))return e};return b}(),e.proxy=t,t.src=a,t.listener=e,a.addEventListener)Gt||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),t,n);else if(a.attachEvent)a.attachEvent(un(b.toString()),t);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(t)}0}}function an(a,b,e,t,n){if(T(b))for(var r=0;r<b.length;r++)an(a,b[r],e,t,n);else e=pn(e),a&&a[Ht]?gn(a,b,e,E(t)?!!t.capture:!!t,n):on(a,b,e,!0,t,n)}function sn(a,b,e,t,n){if(T(b))for(var r=0;r<b.length;r++)sn(a,b[r],e,t,n);else t=E(t)?!!t.capture:!!t,e=pn(e),a&&a[Ht]?(a=a.u,(b=String(b).toString())in a.a&&(-1<(e=en(r=a.a[b],e,t,n))&&(Jt(r[e]),Array.prototype.splice.call(r,e,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=dn(a))&&(b=a.a[b.toString()],a=-1,b&&(a=en(b,e,t,n)),(e=-1<a?b[a]:null)&&cn(e))}function cn(a){if("number"!=typeof a&&a&&!a.ta){var b=a.src;if(b&&b[Ht])Zt(b.u,a);else{var e=a.type,t=a.proxy;b.removeEventListener?b.removeEventListener(e,t,a.capture):b.detachEvent?b.detachEvent(un(e),t):b.addListener&&b.removeListener&&b.removeListener(t),(e=dn(b))?(Zt(e,a),0==e.b&&(e.src=null,b[tn]=null)):Jt(a)}}}function un(a){return a in nn?nn[a]:nn[a]="on"+a}function ln(a,b,e,t){var n=!0;if((a=dn(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==e&&!r.ta&&(r=hn(r,t),n=n&&!1!==r)}return n}function hn(a,b){var e=a.listener,t=a.Pa||a.src;return a.Ka&&cn(a),e.call(t,b)}function dd(a,b){if(a.ta)return!0;if(!jt){if(!b)e:{b=["window","event"];for(var e=d,t=0;t<b.length;t++)if(null==(e=e[b[t]])){b=null;break e}b=e}if(b=new Wt(t=b,this),e=!0,!(0>t.keyCode||null!=t.returnValue)){e:{var n=!1;if(0==t.keyCode)try{t.keyCode=-1;break e}catch(e){n=!0}(n||null==t.returnValue)&&(t.returnValue=!0)}for(t=[],n=b.b;n;n=n.parentNode)t.push(n);for(a=a.type,n=t.length-1;0<=n;n--){b.b=t[n];var r=ln(t[n],a,!0,b);e=e&&r}for(n=0;n<t.length;n++)b.b=t[n],r=ln(t[n],a,!1,b),e=e&&r}return e}return hn(a,new Wt(b,this))}function dn(a){return(a=a[tn])instanceof $t?a:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(a){return q(a)?a:(a[fn]||(a[fn]=function(b){return a.handleEvent(b)}),a[fn])}function mn(){xt.call(this),this.u=new $t(this),this.Sb=this,this.Xa=null}function bn(a,b,e,t,n){a.u.add(String(b),e,!1,t,n)}function gn(a,b,e,t,n){a.u.add(String(b),e,!0,t,n)}function vn(a,b,e,t){if(!(b=a.u.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.ta&&g.capture==e){var o=g.listener,c=g.Pa||g.src;g.Ka&&Zt(a.u,g),n=!1!==o.call(c,t)&&n}}return n&&0!=t.Mb}function yn(a,b,e){if(q(a))e&&(a=N(a,e));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=N(a.handleEvent,a)}return 2147483647<Number(b)?-1:d.setTimeout(a,b||0)}function wn(a){var b=null;return new Ze((function(e,t){-1==(b=yn((function(){e(void 0)}),a))&&t(Error("Failed to schedule timer."))})).s((function(e){throw d.clearTimeout(b),e}))}function kn(a){if(a.U&&"function"==typeof a.U)return a.U();if(f(a))return a.split("");if(I(a)){for(var b=[],e=a.length,t=0;t<e;t++)b.push(a[t]);return b}for(t in b=[],e=0,a)b[e++]=a[t];return b}function xn(a){if(a.X&&"function"==typeof a.X)return a.X();if(!a.U||"function"!=typeof a.U){if(I(a)||f(a)){var b=[];a=a.length;for(var e=0;e<a;e++)b.push(e);return b}for(var t in b=[],e=0,a)b[e++]=t;return b}}function Tn(a,b){this.b={},this.a=[],this.c=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var t=0;t<e;t+=2)this.set(arguments[t],arguments[t+1])}else if(a)if(a instanceof Tn)for(e=a.X(),t=0;t<e.length;t++)this.set(e[t],a.get(e[t]));else for(t in a)this.set(t,a[t])}function In(a){if(a.c!=a.a.length){for(var b=0,e=0;b<a.a.length;){var t=a.a[b];td(a.b,t)&&(a.a[e++]=t),b++}a.a.length=e}if(a.c!=a.a.length){var n={};for(e=b=0;b<a.a.length;)td(n,t=a.a[b])||(a.a[e++]=t,n[t]=1),b++;a.a.length=e}}function td(a,b){return Object.prototype.hasOwnProperty.call(a,b)}O(mn,xt),mn.prototype[Ht]=!0,mn.prototype.addEventListener=function(a,b,e,t){rn(this,a,b,e,t)},mn.prototype.removeEventListener=function(a,b,e,t){sn(this,a,b,e,t)},mn.prototype.dispatchEvent=function(a){var b,e=this.Xa;if(e)for(b=[];e;e=e.Xa)b.push(e);e=this.Sb;var t=a.type||a;if(f(a))a=new Kt(a,e);else if(a instanceof Kt)a.target=a.target||e;else{var n=a;oe(a=new Kt(t,e),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var g=a.b=b[r];n=vn(g,t,!0,a)&&n}if(n=vn(g=a.b=e,t,!0,a)&&n,n=vn(g,t,!1,a)&&n,b)for(r=0;r<b.length;r++)n=vn(g=a.b=b[r],t,!1,a)&&n;return n},mn.prototype.za=function(){if(mn.qb.za.call(this),this.u){var e,a=this.u;for(e in a.a){for(var t=a.a[e],n=0;n<t.length;n++)Jt(t[n]);delete a.a[e],a.b--}}this.Xa=null},(t=Tn.prototype).U=function(){In(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},t.X=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(a,b){return td(this.b,a)?this.b[a]:b},t.set=function(a,b){td(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},t.forEach=function(a,b){for(var e=this.X(),t=0;t<e.length;t++){var n=e[t],r=this.get(n);a.call(b,r,n,this)}};var En=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(a,b){var e;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,a instanceof Sn?(this.h=void 0!==b?b:a.h,An(this,a.f),this.i=a.i,this.b=a.b,_n(this,a.l),this.c=a.c,Cn(this,Hn(a.a)),this.g=a.g):a&&(e=String(a).match(En))?(this.h=!!b,An(this,e[1]||"",!0),this.i=Ln(e[2]||""),this.b=Ln(e[3]||"",!0),_n(this,e[4]),this.c=Ln(e[5]||"",!0),Cn(this,e[6]||"",!0),this.g=Ln(e[7]||"")):(this.h=!!b,this.a=new jn(null,this.h))}function An(a,b,e){a.f=e?Ln(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function _n(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.l=b}else a.l=null}function Cn(a,b,e){b instanceof jn?(a.a=b,function(a,b){b&&!a.f&&(zn(a),a.c=null,a.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Kn(this,t),Qn(this,n,e))}),a)),a.f=b}(a.a,a.h)):(e||(b=Mn(b,Un)),a.a=new jn(b,a.h))}function Nn(a,b,e){a.a.set(b,e)}function Dn(a,b){return a.a.get(b)}function Rn(a){return a instanceof Sn?new Sn(a):new Sn(a,void 0)}function On(a,b){var e=new Sn(null,void 0);return An(e,"https"),a&&(e.b=a),b&&(e.c=b),e}function Ln(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Mn(a,b,e){return f(a)?(a=encodeURI(a).replace(b,Pn),e&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Pn(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Sn.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Mn(b,Fn,!0),":");var e=this.b;return(e||"file"==b)&&(a.push("//"),(b=this.i)&&a.push(Mn(b,Fn,!0),"@"),a.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.l)&&a.push(":",String(e))),(e=this.c)&&(this.b&&"/"!=e.charAt(0)&&a.push("/"),a.push(Mn(e,"/"==e.charAt(0)?qn:Vn,!0))),(e=this.a.toString())&&a.push("?",e),(e=this.g)&&a.push("#",Mn(e,Bn)),a.join("")},Sn.prototype.resolve=function(a){var b=new Sn(this),e=!!a.f;e?An(b,a.f):e=!!a.i,e?b.i=a.i:e=!!a.b,e?b.b=a.b:e=null!=a.l;var t=a.c;if(e)_n(b,a.l);else if(e=!!a.c){if("/"!=t.charAt(0))if(this.b&&!this.c)t="/"+t;else{var n=b.c.lastIndexOf("/");-1!=n&&(t=b.c.substr(0,n+1)+t)}if(".."==(n=t)||"."==n)t="";else if(Se(n,"./")||Se(n,"/.")){t=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],g=0;g<n.length;){var o=n[g++];"."==o?t&&g==n.length&&r.push(""):".."==o?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),t&&g==n.length&&r.push("")):(r.push(o),t=!0)}t=r.join("/")}else t=n}return e?b.c=t:e=""!==a.a.toString(),e?Cn(b,Hn(a.a)):e=!!a.g,e&&(b.g=a.g),b};var Fn=/[#\/\?@]/g,Vn=/[#\?:]/g,qn=/[#\?]/g,Un=/[#\?@]/g,Bn=/#/g;function jn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function zn(a){a.a||(a.a=new Tn,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var e=0;e<a.length;e++){var t=a[e].indexOf("="),n=null;if(0<=t){var r=a[e].substring(0,t);n=a[e].substring(t+1)}else r=a[e];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,e){a.add(decodeURIComponent(b.replace(/\+/g," ")),e)})))}function Gn(a){var b=xn(a);if(void 0===b)throw Error("Keys are undefined");var e=new jn(null,void 0);a=kn(a);for(var t=0;t<b.length;t++){var n=b[t],r=a[t];T(r)?Qn(e,n,r):e.add(n,r)}return e}function Kn(a,b){zn(a),b=Yn(a,b),td(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,td((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&In(a)))}function Wn(a,b){return zn(a),b=Yn(a,b),td(a.a.b,b)}function Qn(a,b,e){Kn(a,b),0<e.length&&(a.c=null,a.a.set(Yn(a,b),ee(e)),a.b+=e.length)}function Hn(a){var b=new jn;return b.c=a.c,a.a&&(b.a=new Tn(a.a),b.b=a.b),b}function Yn(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}(t=jn.prototype).add=function(a,b){zn(this),this.c=null,a=Yn(this,a);var e=this.a.get(a);return e||this.a.set(a,e=[]),e.push(b),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(a,b){zn(this),this.a.forEach((function(e,t){Q(e,(function(e){a.call(b,e,t,this)}),this)}),this)},t.X=function(){zn(this);for(var a=this.a.U(),b=this.a.X(),e=[],t=0;t<b.length;t++)for(var n=a[t],r=0;r<n.length;r++)e.push(b[t]);return e},t.U=function(a){zn(this);var b=[];if(f(a))Wn(this,a)&&(b=Z(b,this.a.get(Yn(this,a))));else{a=this.a.U();for(var e=0;e<a.length;e++)b=Z(b,a[e])}return b},t.set=function(a,b){return zn(this),this.c=null,Wn(this,a=Yn(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},t.get=function(a,b){return a&&0<(a=this.U(a)).length?String(a[0]):b},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.X(),e=0;e<b.length;e++){var t=b[e],n=encodeURIComponent(String(t));t=this.U(t);for(var r=0;r<t.length;r++){var g=n;""!==t[r]&&(g+="="+encodeURIComponent(String(t[r]))),a.push(g)}}return this.c=a.join("&")};var Xn=!Ct||9<=Number(Vt);function Jn(a){var b=document;return f(a)?b.getElementById(a):a}function $n(a,b){te(b,(function(e,t){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==t?a.style.cssText=e:"class"==t?a.className=e:"for"==t?a.htmlFor=e:Zn.hasOwnProperty(t)?a.setAttribute(Zn[t],e):0==t.lastIndexOf("aria-",0)||0==t.lastIndexOf("data-",0)?a.setAttribute(t,e):a[t]=e}))}var Zn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ei(a,b,e){var t=arguments,n=document,r=String(t[0]),g=t[1];if(!Xn&&g&&(g.name||g.type)){if(r=["<",r],g.name&&r.push(' name="',We(g.name),'"'),g.type){r.push(' type="',We(g.type),'"');var o={};oe(o,g),delete o.type,g=o}r.push(">"),r=r.join("")}return r=n.createElement(r),g&&(f(g)?r.className=g:T(g)?r.className=g.join(" "):$n(r,g)),2<t.length&&function(a,b,e){function t(g){g&&b.appendChild(f(g)?a.createTextNode(g):g)}for(var n=2;n<e.length;n++){var r=e[n];!I(r)||E(r)&&0<r.nodeType?t(r):Q(ti(r)?ee(r):r,t)}}(n,r,t),r}function ti(a){if(a&&"number"==typeof a.length){if(E(a))return"function"==typeof a.item||"string"==typeof a.item;if(q(a))return"function"==typeof a.item}return!1}function ni(a){var b=[];return function e(a,b,t){if(null==b)t.push("null");else{if("object"==typeof b){if(T(b)){var n=b;b=n.length,t.push("[");for(var r="",o=0;o<b;o++)t.push(r),e(a,n[o],t),r=",";return void t.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(n in t.push("{"),r="",b)Object.prototype.hasOwnProperty.call(b,n)&&("function"!=typeof(o=b[n])&&(t.push(r),ai(n,t),t.push(":"),e(a,o,t),r=","));return void t.push("}")}b=b.valueOf()}switch(typeof b){case"string":ai(b,t);break;case"number":t.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":t.push(String(b));break;case"function":t.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(new ii,a,b),b.join("")}function ii(){}var ri={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},oi=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ai(a,b){b.push('"',a.replace(oi,(function(e){var t=ri[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ri[e]=t),t})),'"')}function si(){var a=Ai();return Ct&&!!Vt&&11==Vt||/Edge\/\d+/.test(a)}function ci(){return d.window&&d.window.location.href||self&&self.location&&self.location.href||""}function ui(a,b){b=b||d.window;var e="about:blank";a&&(e=Ce(De(a)).toString()),b.location.href=e}function hi(a){return!!((a=(a||Ai()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function di(a){a=a||d.window;try{a.close()}catch(e){}}function fi(a,b,e){var t=Math.floor(1e9*Math.random()).toString();b=b||500,e=e||600;var n=(window.screen.availHeight-e)/2,r=(window.screen.availWidth-b)/2;for(g in b={width:b,height:e,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},e=Ai().toLowerCase(),t&&(b.target=t,Se(e,"crios/")&&(b.target="_blank")),Ii(Ai())==xi&&(a=a||"http://localhost",b.scrollbars=!0),e=a||"",(a=b)||(a={}),t=window,b=e instanceof _e?e:De(void 0!==e.href?e.href:String(e)),e=a.target||e.target,n=[],a)switch(g){case"width":case"height":case"top":case"left":n.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(g+"="+(a[g]?1:0))}var g=n.join(",");if((Fe("iPhone")&&!Fe("iPod")&&!Fe("iPad")||Fe("iPad")||Fe("iPod"))&&t.navigator&&t.navigator.standalone&&e&&"_self"!=e?(K(g=t.document.createElement("A"),"HTMLAnchorElement"),b instanceof _e||b instanceof _e||(b="object"==typeof b&&b.qa?b.pa():String(b),Ne.test(b)||(b="about:invalid#zClosurez"),b=Le(b)),g.href=Ce(b),g.setAttribute("target",e),a.noreferrer&&g.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,t,1),g.dispatchEvent(a),g={}):a.noreferrer?(g=t.open("",e,g),a=Ce(b).toString(),g&&(Dt&&Se(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),g.opener=null,a=Be('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(a)+'">'),g.document.write(qe(a)),g.document.close())):(g=t.open(Ce(b).toString(),e,g))&&a.noopener&&(g.opener=null),g)try{g.focus()}catch(e){}return g}var pi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mi=/^[^@]+@[^@]+$/;function bi(){var a=null;return new Ze((function(b){"complete"==d.document.readyState?b():(a=function(){b()},an(window,"load",a))})).s((function(b){throw sn(window,"load",a),b}))}function gi(a){return a=a||Ai(),!("file:"!==Ri()&&"ionic:"!==Ri()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function vi(){var a=d.window;try{return!(!a||a==a.top)}catch(e){return!1}}function yi(){return void 0!==d.WorkerGlobalScope&&"function"==typeof d.importScripts}function wi(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":yi()?"Worker":"Browser"}function ki(){var a=wi();return"ReactNative"===a||"Node"===a}var xi="Firefox",Ti="Chrome";function Ii(a){var b=a.toLowerCase();return Se(b,"opera/")||Se(b,"opr/")||Se(b,"opios/")?"Opera":Se(b,"iemobile")?"IEMobile":Se(b,"msie")||Se(b,"trident/")?"IE":Se(b,"edge/")?"Edge":Se(b,"firefox/")?xi:Se(b,"silk/")?"Silk":Se(b,"blackberry")?"Blackberry":Se(b,"webos")?"Webos":!Se(b,"safari/")||Se(b,"chrome/")||Se(b,"crios/")||Se(b,"android")?!Se(b,"chrome/")&&!Se(b,"crios/")||Se(b,"edge/")?Se(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":Ti:"Safari"}var Ei={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function Si(a,b){b=b||[];var e,t=[],n={};for(e in Ei)n[Ei[e]]=!0;for(e=0;e<b.length;e++)void 0!==n[b[e]]&&(delete n[b[e]],t.push(b[e]));return t.sort(),(b=t).length||(b=["FirebaseCore-web"]),"Browser"===(t=wi())?t=Ii(n=Ai()):"Worker"===t&&(t=Ii(n=Ai())+"-"+t),t+"/JsCore/"+a+"/"+b.join(",")}function Ai(){return d.navigator&&d.navigator.userAgent||""}function _i(a,b){a=a.split("."),b=b||d;for(var e=0;e<a.length&&"object"==typeof b&&null!=b;e++)b=b[a[e]];return e!=a.length&&(b=void 0),b}function Ci(){try{var a=d.localStorage,b=Fi();if(a)return a.setItem(b,"1"),a.removeItem(b),!si()||!!d.indexedDB}catch(e){return yi()&&!!d.indexedDB}return!1}function Ni(){return(Di()||"chrome-extension:"===Ri()||gi())&&!ki()&&Ci()&&!yi()}function Di(){return"http:"===Ri()||"https:"===Ri()}function Ri(){return d.location&&d.location.protocol||null}function Oi(a){return!hi(a=a||Ai())&&Ii(a)!=xi}function Li(a){return void 0===a?null:ni(a)}function Mi(a){var e,b={};for(e in a)a.hasOwnProperty(e)&&null!==a[e]&&void 0!==a[e]&&(b[e]=a[e]);return b}function Pi(a){if(null!==a)return JSON.parse(a)}function Fi(a){return a||Math.floor(1e9*Math.random()).toString()}function Vi(a){return"Safari"!=Ii(a=a||Ai())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function qi(){var a=d.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var e=0;e<a.CP.length;e++)a.CP[e]=null}function Ui(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=Ai(),b=wi(),this.b=hi(a)||"ReactNative"===b}function Bi(){var a=d.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function ji(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(e){}return null}function zi(){return!(!_i("fireauth.oauthhelper",d)&&!_i("fireauth.iframe",d))}Ui.prototype.get=function(){var a=d.navigator;return!a||"boolean"!=typeof a.onLine||!Di()&&"chrome-extension:"!==Ri()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gi,Ki={};function Wi(a){Ki[a]||(Ki[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var Qi={};Object.defineProperty(Qi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qi,"abcd",{configurable:!0,enumerable:!0,value:2}),Gi=2==Qi.abcd}catch(a){Gi=!1}function Hi(a,b,e){Gi?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:e}):a[b]=e}function Yi(a,b){if(b)for(var e in b)b.hasOwnProperty(e)&&Hi(a,e,b[e])}function Xi(a){var b={};return Yi(b,a),b}function Ji(a){var b=a;if("object"==typeof a&&null!=a)for(var e in b="length"in a?[]:{},a)Hi(b,e,Ji(a[e]));return b}function $i(a){var b={},e=a[er],t=a[nr];if(!(a=a[ir])||a!=Zi&&!e)throw Error("Invalid provider user info!");b[or]=t||null,b[rr]=e||null,Hi(this,sr,a),Hi(this,ar,Ji(b))}var Zi="EMAIL_SIGNIN",er="email",nr="newEmail",ir="requestType",rr="email",or="fromEmail",ar="data",sr="operation";function cr(a,b){this.code=lr+a,this.message=b||dr[a]||""}function ur(a){var b=a&&a.code;return b?new cr(b.substring(lr.length),a.message):null}O(cr,Error),cr.prototype.A=function(){return{code:this.code,message:this.message}},cr.prototype.toJSON=function(){return this.A()};var lr="auth/",dr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function fr(a){var b=Dn(a=Rn(a),pr)||null,e=Dn(a,mr)||null,t=Dn(a,yr)||null;if(t=t&&kr[t]||null,!b||!e||!t)throw new cr("argument-error",pr+", "+mr+"and "+yr+" are required in a valid action code URL.");Yi(this,{apiKey:b,operation:t,code:e,continueUrl:Dn(a,gr)||null,languageCode:Dn(a,vr)||null,tenantId:Dn(a,wr)||null})}var pr="apiKey",mr="oobCode",gr="continueUrl",vr="languageCode",yr="mode",wr="tenantId",kr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Zi,verifyEmail:"VERIFY_EMAIL"};function xr(a){try{return new fr(a)}catch(e){return null}}function Tr(a){var b=a[_r];if(void 0===b)throw new cr("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new cr("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var e=a[Ir];if(e&&"object"==typeof e){b=e[Dr];var t=e[Cr];if(e=e[Nr],"string"==typeof b&&b.length){if(this.a=b,void 0!==t&&"boolean"!=typeof t)throw new cr("argument-error",Cr+" property must be a boolean when specified.");if(this.g=!!t,void 0!==e&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new cr("argument-error",Nr+" property must be a non empty string when specified.");this.b=e||null}else{if(void 0!==b)throw new cr("argument-error",Dr+" property must be a non empty string when specified.");if(void 0!==t||void 0!==e)throw new cr("missing-android-pkg-name")}}else if(void 0!==e)throw new cr("argument-error",Ir+" property must be a non null object when specified.");if(this.f=null,(b=a[Ar])&&"object"==typeof b){if("string"==typeof(b=b[Rr])&&b.length)this.f=b;else if(void 0!==b)throw new cr("argument-error",Rr+" property must be a non empty string when specified.")}else if(void 0!==b)throw new cr("argument-error",Ar+" property must be a non null object when specified.");if(void 0!==(b=a[Sr])&&"boolean"!=typeof b)throw new cr("argument-error",Sr+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[Er])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new cr("argument-error",Er+" property must be a non empty string when specified.");this.i=a||null}var Ir="android",Er="dynamicLinkDomain",Sr="handleCodeInApp",Ar="iOS",_r="url",Cr="installApp",Nr="minimumVersion",Dr="packageName",Rr="bundleId";function Or(a){var b={};for(var e in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[e]&&delete b[e];return b}var Lr=null,Mr=null;function Pr(a){var b="";return function(a,b){function e(e){for(;t<a.length;){var p=a.charAt(t++),u=Mr[p];if(null!=u)return u;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return e}!function(){if(!Lr){Lr={},Mr={};for(var a=0;65>a;a++)Lr[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Mr[Lr[a]]=a,62<=a&&(Mr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}}();for(var t=0;;){var n=e(-1),r=e(0),g=e(64),o=e(64);if(64===o&&-1===n)break;b(n<<2|r>>4),64!=g&&(b(r<<4&240|g>>2),64!=o&&b(g<<6&192|o))}}(a,(function(e){b+=String.fromCharCode(e)})),b}function Fr(a){this.f=a.sub,R(),this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.c=a.firebase&&a.firebase.tenant||null,this.b=!!a.is_anonymous||"anonymous"==this.a}function Vr(a){return(a=qr(a))&&a.sub&&a.iss&&a.aud&&a.exp?new Fr(a):null}function qr(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,e=0;e<b;e++)a+=".";try{return JSON.parse(Pr(a))}catch(e){}return null}Fr.prototype.R=function(){return this.c},Fr.prototype.g=function(){return this.b};var Ur,Br={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function jr(a){for(var b in Br)if(Br[b].id===a)return{firebaseEndpoint:(a=Br[b]).cb,secureTokenEndpoint:a.ib};return null}Ur=jr("__EID__")?"__EID__":void 0;var zr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gr=["client_id","response_type","scope","redirect_uri","state"],Kr={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Gr},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Gr},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Gr},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:zr},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Wr(a){for(var b in Kr)if(Kr[b].Fa==a)return Kr[b];return null}function Qr(a){var b={};b["facebook.com"]=$r,b["google.com"]=eo,b["github.com"]=Zr,b["twitter.com"]=to;var e=a&&a[Yr];try{if(e)return b[e]?new b[e](a):new Jr(a);if(void 0!==a[Hr])return new Xr(a)}catch(e){}return null}var Hr="idToken",Yr="providerId";function Xr(a){var b=a[Yr];if(!b&&a[Hr]){var e=Vr(a[Hr]);e&&e.a&&(b=e.a)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),e=!1,void 0!==a.isNewUser?e=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(e=!0),Hi(this,"providerId",b),Hi(this,"isNewUser",e)}function Jr(a){Xr.call(this,a),Hi(this,"profile",Ji((a=Pi(a.rawUserInfo||"{}"))||{}))}function $r(a){if(Jr.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zr(a){if(Jr.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hi(this,"username",this.profile&&this.profile.login||null)}function eo(a){if(Jr.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(a){if(Jr.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hi(this,"username",a.screenName||null)}function no(a){var b=Rn(a),e=Dn(b,"link"),t=Dn(Rn(e),"link");return b=Dn(b,"deep_link_id"),Dn(Rn(b),"link")||b||t||e||a}function io(){}function ro(a,b){return a.then((function(e){if(e[Ka]){var t=Vr(e[Ka]);if(!t||b!=t.f)throw new cr("user-mismatch");return e}throw new cr("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==lr+"user-not-found"?new cr("user-mismatch"):e}))}function oo(a,b){if(!b)throw new cr("internal-error","failed to construct a credential");this.a=b,Hi(this,"providerId",a),Hi(this,"signInMethod",a)}function ao(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function so(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new oo(a.providerId,a.pendingToken)}catch(e){}return null}function co(a,b,e){if(this.a=null,b.idToken||b.accessToken)b.idToken&&Hi(this,"idToken",b.idToken),b.accessToken&&Hi(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&Hi(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new cr("internal-error","failed to construct a credential");Hi(this,"accessToken",b.oauthToken),Hi(this,"secret",b.oauthTokenSecret)}Hi(this,"providerId",a),Hi(this,"signInMethod",e)}function uo(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:Gn(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function lo(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new co(a.providerId,b,a.signInMethod)}catch(e){}}return null}function ho(a,b){this.Fc=b||[],Yi(this,{providerId:a,isOAuthProvider:!0}),this.zb={},this.eb=(Wr(a)||{}).Ea||null,this.bb=null}function fo(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new cr("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,a,[])}function po(a){ho.call(this,a,Gr),this.a=[]}function mo(){po.call(this,"facebook.com")}function bo(a){if(!a)throw new cr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return E(a)&&(b=a.accessToken),(new mo).credential({accessToken:b})}function go(){po.call(this,"github.com")}function vo(a){if(!a)throw new cr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return E(a)&&(b=a.accessToken),(new go).credential({accessToken:b})}function yo(){po.call(this,"google.com"),this.ya("profile")}function wo(a,b){var e=a;return E(a)&&(e=a.idToken,b=a.accessToken),(new yo).credential({idToken:e,accessToken:b})}function ko(){ho.call(this,"twitter.com",zr)}function xo(a,b){var e=a;if(E(e)||(e={oauthToken:a,oauthTokenSecret:b}),!e.oauthToken||!e.oauthTokenSecret)throw new cr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",e,"twitter.com")}function To(a,b,e){this.a=a,this.c=b,Hi(this,"providerId","password"),Hi(this,"signInMethod",e===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(a){return a&&a.email&&a.password?new To(a.email,a.password,a.signInMethod):null}function Eo(){Yi(this,{providerId:"password",isOAuthProvider:!1})}function So(a,b){if(!(b=Ao(b)))throw new cr("argument-error","Invalid email link!");return new To(a,b.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(a){return(a=xr(a=no(a)))&&a.operation===Zi?a:null}function _o(a){if(!(a.Va&&a.Ua||a.Ha&&a.ba))throw new cr("internal-error");this.a=a,Hi(this,"providerId","phone"),Hi(this,"signInMethod","phone")}function Co(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return Q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(e){a[e]&&(b[e]=a[e])})),new _o(b)}return null}function No(a){return a.a.Ha&&a.a.ba?{temporaryProof:a.a.Ha,phoneNumber:a.a.ba}:{sessionInfo:a.a.Va,code:a.a.Ua}}function Do(a){try{this.a=a||r.a.auth()}catch(e){throw new cr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yi(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(a,b){if(!a)throw new cr("missing-verification-id");if(!b)throw new cr("missing-verification-code");return new _o({Va:a,Ua:b})}function Oo(a){if(a.temporaryProof&&a.phoneNumber)return new _o({Ha:a.temporaryProof,ba:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var e=a&&a.oauthAccessToken,t=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return wo(r,e);case"facebook.com":return bo(e);case"github.com":return vo(e);case"twitter.com":return xo(e,t);default:return e||t||r||g?g?0==b.indexOf("saml.")?new oo(b,g):new co(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new po(b).credential({idToken:r,accessToken:e,rawNonce:n}):null}}catch(e){return null}}function Lo(a){if(!a.isOAuthProvider)throw new cr("invalid-oauth-provider")}function Mo(a,b,e,t,n,r,g){if(this.c=a,this.b=b||null,this.g=e||null,this.f=t||null,this.i=r||null,this.h=g||null,this.a=n||null,!this.g&&!this.a)throw new cr("invalid-auth-event");if(this.g&&this.a)throw new cr("invalid-auth-event");if(this.g&&!this.f)throw new cr("invalid-auth-event")}function Po(a){return(a=a||{}).type?new Mo(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&ur(a.error),a.postBody,a.tenantId):null}function Fo(){this.b=null,this.a=[]}O(Jr,Xr),O($r,Jr),O(Zr,Jr),O(eo,Jr),O(to,Jr),oo.prototype.na=function(a){return us(a,ao(this))},oo.prototype.b=function(a,b){var e=ao(this);return e.idToken=b,ls(a,e)},oo.prototype.f=function(a,b){return ro(hs(a,ao(this)),b)},oo.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.na=function(a){return us(a,uo(this))},co.prototype.b=function(a,b){var e=uo(this);return e.idToken=b,ls(a,e)},co.prototype.f=function(a,b){return ro(hs(a,uo(this)),b)},co.prototype.A=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},ho.prototype.Ga=function(a){return this.zb=ie(a),this},O(fo,ho),O(po,ho),po.prototype.ya=function(a){return X(this.a,a)||this.a.push(a),this},po.prototype.Hb=function(){return ee(this.a)},po.prototype.credential=function(a,b){var e;if(!(e=E(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null}).idToken&&!e.accessToken)throw new cr("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,e,this.providerId)},O(mo,po),Hi(mo,"PROVIDER_ID","facebook.com"),Hi(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(go,po),Hi(go,"PROVIDER_ID","github.com"),Hi(go,"GITHUB_SIGN_IN_METHOD","github.com"),O(yo,po),Hi(yo,"PROVIDER_ID","google.com"),Hi(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),O(ko,ho),Hi(ko,"PROVIDER_ID","twitter.com"),Hi(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.na=function(a){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Us(a,ys,{email:this.a,oobCode:this.c}):Us(a,Ps,{email:this.a,password:this.c})},To.prototype.b=function(a,b){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Us(a,ws,{idToken:b,email:this.a,oobCode:this.c}):Us(a,Ns,{idToken:b,email:this.a,password:this.c})},To.prototype.f=function(a,b){return ro(this.na(a),b)},To.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Yi(Eo,{PROVIDER_ID:"password"}),Yi(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yi(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),_o.prototype.na=function(a){return a.Wa(No(this))},_o.prototype.b=function(a,b){var e=No(this);return e.idToken=b,Us(a,Vs,e)},_o.prototype.f=function(a,b){var e=No(this);return e.operation="REAUTH",ro(a=Us(a,qs,e),b)},_o.prototype.A=function(){var a={providerId:"phone"};return this.a.Va&&(a.verificationId=this.a.Va),this.a.Ua&&(a.verificationCode=this.a.Ua),this.a.Ha&&(a.temporaryProof=this.a.Ha),this.a.ba&&(a.phoneNumber=this.a.ba),a},Do.prototype.Wa=function(a,b){var e=this.a.b;return st(b.verify()).then((function(t){if(!f(t))throw new cr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":return function(a,b){return Us(a,_s,b)}(e,{phoneNumber:a,recaptchaToken:t}).then((function(e){return"function"==typeof b.reset&&b.reset(),e}),(function(e){throw"function"==typeof b.reset&&b.reset(),e}));default:throw new cr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Yi(Do,{PROVIDER_ID:"phone"}),Yi(Do,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},Mo.prototype.R=function(){return this.h},Mo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Vo,qo=null;function Uo(a){var b="unauthorized-domain",e=void 0,t=Rn(a);a=t.b,"chrome-extension"==(t=t.f)?e=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==t||"https"==t?e=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",cr.call(this,b,e)}function Bo(a,b,e){cr.call(this,a,e),(a=b||{}).Ab&&Hi(this,"email",a.Ab),a.ba&&Hi(this,"phoneNumber",a.ba),a.credential&&Hi(this,"credential",a.credential),a.Qb&&Hi(this,"tenantId",a.Qb)}function jo(a){if(a.code){var b=a.code||"";0==b.indexOf(lr)&&(b=b.substring(lr.length));var e={credential:Oo(a),Qb:a.tenantId};if(a.email)e.Ab=a.email;else if(a.phoneNumber)e.ba=a.phoneNumber;else if(!e.credential)return new cr(b,a.message||void 0);return new Bo(b,e,a.message)}return null}function zo(){}function Go(a){return a.c||(a.c=a.b())}function Ko(){}function Wo(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<b.length;e++){var t=b[e];try{return new ActiveXObject(t),a.f=t}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function Qo(){}function Ho(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=N(this.fc,this),this.a.onerror=N(this.Ib,this),this.a.onprogress=N(this.gc,this),this.a.ontimeout=N(this.kc,this)}function Yo(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function Xo(a,b,e){this.reset(a,b,e,void 0,void 0)}O(Uo,cr),O(Bo,cr),Bo.prototype.A=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var b=this.credential&&this.credential.A();return b&&oe(a,b),a},Bo.prototype.toJSON=function(){return this.A()},zo.prototype.c=null,O(Ko,zo),Ko.prototype.a=function(){var a=Wo(this);return a?new ActiveXObject(a):new XMLHttpRequest},Ko.prototype.b=function(){var a={};return Wo(this)&&(a[0]=!0,a[1]=!0),a},Vo=new Ko,O(Qo,zo),Qo.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new Ho;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Ho.prototype).open=function(a,b,e){if(null!=e&&!e)throw Error("Only async requests are supported.");this.a.open(a,b)},t.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Yo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null;function Jo(a){this.f=a,this.b=this.c=this.a=null}function $o(a,b){this.name=a,this.value=b}Xo.prototype.reset=function(a,b,e,t,n){"number"==typeof n||0,t||R(),delete this.a},$o.prototype.toString=function(){return this.name};var Zo=new $o("SEVERE",1e3),ea=new $o("WARNING",900),th=new $o("CONFIG",700),ta=new $o("FINE",500);Jo.prototype.log=function(a,b,e){if(a.value>=function e(a){return a.c?a.c:a.a?e(a.a):(F("Root logger has no level set."),null)}(this).value)for(q(b)&&(b=b()),a=new Xo(a,String(b),this.f),e&&(a.a=e),e=this;e;)e=e.a};var na={},ia=null;function ra(a){var b;if(ia||(ia=new Jo(""),na[""]=ia,ia.c=th),!(b=na[a])){b=new Jo(a);var e=a.lastIndexOf("."),t=a.substr(e+1);(e=ra(a.substr(0,e))).b||(e.b={}),e.b[t]=b,b.a=e,na[a]=b}return b}function oa(a,b){a&&a.log(ta,b,void 0)}function aa(a){this.f=a}function sa(a){mn.call(this),this.o=a,this.readyState=ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ra("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}O(aa,zo),aa.prototype.a=function(){return new sa(this.f)},aa.prototype.b=function(a){return function(){return a}}({}),O(sa,mn);var ca=0;function ua(a){a.c.read().then(a.ec.bind(a)).catch(a.Oa.bind(a))}function la(a,b){b&&a.f&&(a.status=a.f.status,a.statusText=a.f.statusText),a.readyState=4,a.f=null,a.c=null,a.l=null,ha(a)}function ha(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function da(a){mn.call(this),this.headers=new Tn,this.B=a||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=fa,this.v=this.P=!1}(t=sa.prototype).open=function(a,b){if(this.readyState!=ca)throw this.abort(),Error("Error reopening a connection");this.m=a,this.g=b,this.readyState=1,ha(this)},t.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.i,method:this.m,credentials:void 0,cache:void 0};a&&(b.body=a),this.o.fetch(new Request(this.g,b)).then(this.jc.bind(this),this.Oa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,la(this,!1)),this.readyState=ca},t.jc=function(a){this.a&&(this.f=a,this.b||(this.b=a.headers,this.readyState=2,ha(this)),this.a&&(this.readyState=3,ha(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==d.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.l=new TextDecoder,ua(this)):a.text().then(this.ic.bind(this),this.Oa.bind(this)))))},t.ec=function(a){if(this.a){var b=this.l.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?la(this,!0):ha(this),3==this.readyState&&ua(this)}},t.ic=function(a){this.a&&(this.response=this.responseText=a,la(this,!0))},t.hc=function(a){this.a&&(this.response=a,la(this,!0))},t.Oa=function(a){var b=this.h;b&&b.log(ea,"Failed to fetch url "+this.g,a instanceof Error?a:Error(a)),this.a&&la(this,!0)},t.setRequestHeader=function(a,b){this.i.append(a,b)},t.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.h)&&a.log(ea,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var a=this.h;return a&&a.log(ea,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}a=[];for(var b=this.b.entries(),e=b.next();!e.done;)e=e.value,a.push(e[0]+": "+e[1]),e=b.next();return a.join("\r\n")},O(da,mn);var fa="";da.prototype.b=ra("goog.net.XhrIo");var pa=/^https?$/i,ma=["POST","PUT"];function ba(a,b,e,t,n){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+b);e=e?e.toUpperCase():"GET",a.l=b,a.h="",a.O=e,a.I=!1,a.c=!0,a.a=a.B?a.B.a():Vo.a(),a.w=a.B?Go(a.B):Go(Vo),a.a.onreadystatechange=N(a.Lb,a);try{oa(a.b,Ea(a,"Opening Xhr")),a.J=!0,a.a.open(e,String(b),!0),a.J=!1}catch(e){return oa(a.b,Ea(a,"Error opening Xhr: "+e.message)),void va(a,e)}b=t||"";var r=new Tn(a.headers);n&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(I(a)||f(a))Q(a,b,void 0);else for(var e=xn(a),t=kn(a),n=t.length,r=0;r<n;r++)b.call(void 0,t[r],e&&e[r],a)}(n,(function(g,e){r.set(e,g)})),n=function(a){e:{for(var b=ga,e=a.length,t=f(a)?a.split(""):a,n=0;n<e;n++)if(n in t&&b.call(void 0,t[n],n,a)){b=n;break e}b=-1}return 0>b?null:f(a)?a.charAt(b):a[b]}(r.X()),t=d.FormData&&b instanceof d.FormData,!X(ma,e)||n||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(g,e){this.a.setRequestHeader(e,g)}),a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.P&&(a.a.withCredentials=a.P);try{xa(a),0<a.g&&(a.v=function(a){return Ct&&Ut(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),oa(a.b,Ea(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.v)),a.v?(a.a.timeout=a.g,a.a.ontimeout=N(a.Ia,a)):a.o=yn(a.Ia,a.g,a)),oa(a.b,Ea(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(e){oa(a.b,Ea(a,"Send error: "+e.message)),va(a,e)}}function ga(a){return"content-type"==a.toLowerCase()}function va(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,ya(a),ka(a)}function ya(a){a.I||(a.I=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function wa(a){if(a.c&&void 0!==h)if(a.w[1]&&4==Ta(a)&&2==Ia(a))oa(a.b,Ea(a,"Local request error detected and ignored"));else if(a.i&&4==Ta(a))yn(a.Lb,0,a);else if(a.dispatchEvent("readystatechange"),4==Ta(a)){oa(a.b,Ea(a,"Request complete")),a.c=!1;try{var e,b=Ia(a);e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}if(!(e=t)){var n;if(n=0===b){var r=String(a.l).match(En)[1]||null;if(!r&&d.self&&d.self.location){var g=d.self.location.protocol;r=g.substr(0,g.length-1)}n=!pa.test(r?r.toLowerCase():"")}e=n}if(e)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var o=2<Ta(a)?a.a.statusText:""}catch(e){oa(a.b,"Can not get status: "+e.message),o=""}a.h=o+" ["+Ia(a)+"]",ya(a)}}finally{ka(a)}}}function ka(a,b){if(a.a){xa(a);var e=a.a,t=a.w[0]?w:null;a.a=null,a.w=null,b||a.dispatchEvent("ready");try{e.onreadystatechange=t}catch(e){(a=a.b)&&a.log(Zo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function xa(a){a.a&&a.v&&(a.a.ontimeout=null),a.o&&(d.clearTimeout(a.o),a.o=null)}function Ta(a){return a.a?a.a.readyState:0}function Ia(a){try{return 2<Ta(a)?a.a.status:-1}catch(e){return-1}}function Ea(a,b){return b+" ["+a.O+" "+a.l+" "+Ia(a)+"]"}function Sa(a){var b=Fa;this.g=[],this.v=b,this.o=a||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Aa(a,b,e){a.a=!0,a.c=e,a.f=!b,Da(a)}function _a(a){if(a.a){if(!a.u)throw new Ra(a);a.u=!1}}function Ca(a,b,e,t){a.g.push([b,e,t]),a.a&&Da(a)}function Na(a){return Y(a.g,(function(b){return q(b[1])}))}function Da(a){if(a.h&&a.a&&Na(a)){var b=a.h,e=Ma[b];e&&(d.clearTimeout(e.a),delete Ma[b]),a.h=0}a.b&&(a.b.l--,delete a.b),b=a.c;for(var t=e=!1;a.g.length&&!a.i;){var n=a.g.shift(),r=n[0],g=n[1];if(n=n[2],r=a.f?g:r)try{var o=r.call(n||a.o,b);void 0!==o&&(a.f=a.f&&(o==b||o instanceof Error),a.c=b=o),(L(b)||"function"==typeof d.Promise&&b instanceof d.Promise)&&(t=!0,a.i=!0)}catch(t){b=t,a.f=!0,Na(a)||(e=!0)}}a.c=b,t&&(o=N(a.m,a,!0),t=N(a.m,a,!1),b instanceof Sa?(Ca(b,o,t),b.w=!0):b.then(o,t)),e&&(b=new La(b),Ma[b.a]=b,a.h=b.a)}function Ra(){M.call(this)}function Oa(){M.call(this)}function La(a){this.a=d.setTimeout(N(this.c,this),0),this.b=a}(t=da.prototype).Ia=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",oa(this.b,Ea(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(oa(this.b,Ea(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ka(this))},t.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ka(this,!0)),da.qb.za.call(this)},t.Lb=function(){this.va||(this.J||this.i||this.f?wa(this):this.yc())},t.yc=function(){wa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return oa(this.b,"Can not get response: "+e.message),null}},Sa.prototype.cancel=function(a){if(this.a)this.c instanceof Sa&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(a=new Oa(this),_a(this),Aa(this,!1,a))}},Sa.prototype.m=function(a,b){this.i=!1,Aa(this,a,b)},Sa.prototype.then=function(a,b,e){var t,n,r=new Ze((function(g,e){t=g,n=e}));return Ca(this,t,(function(g){g instanceof Oa?r.cancel():n(g)})),r.then(a,b,e)},Sa.prototype.$goog_Thenable=!0,O(Ra,M),Ra.prototype.message="Deferred has already fired",Ra.prototype.name="AlreadyCalledError",O(Oa,M),Oa.prototype.message="Deferred was canceled",Oa.prototype.name="CanceledError",La.prototype.c=function(){throw delete Ma[this.a],this.b};var Ma={};function Pa(a){var b={},e=b.document||document,t=de(a).toString(),n=document.createElement("SCRIPT"),r={Nb:n,Ia:void 0},g=new Sa(r),o=null,c=null!=b.timeout?b.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){Va(n,!0);var p=new Ba(Ua,"Timeout reached for loading script "+t);_a(g),Aa(g,!1,p)}),c),r.Ia=o),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(Va(n,b.hd||!1,o),_a(g),Aa(g,!0,null))},n.onerror=function(){Va(n,!0,o);var p=new Ba(qa,"Error while loading script "+t);_a(g),Aa(g,!1,p)},oe(r=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),$n(n,r),function(a,b){K(a,"HTMLScriptElement"),a.src=de(b),null===y&&(y=(b=(b=d.document).querySelector&&b.querySelector("script[nonce]"))&&(b=b.nonce||b.getAttribute("nonce"))&&v.test(b)?b:""),(b=y)&&a.setAttribute("nonce",b)}(n,a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(e).appendChild(n),g}function Fa(){if(this&&this.Nb){var a=this.Nb;a&&"SCRIPT"==a.tagName&&Va(a,!0,this.Ia)}}function Va(a,b,e){null!=e&&d.clearTimeout(e),a.onload=w,a.onerror=w,a.onreadystatechange=w,b&&window.setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a)}),0)}var qa=0,Ua=1;function Ba(a,b){var e="Jsloader error (code #"+a+")";b&&(e+=": "+b),M.call(this,e),this.code=a}function ja(a){this.f=a}function za(a,b,e){if(this.c=a,a=b||{},this.l=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=a.secureTokenTimeout||Wa,this.g=ie(a.secureTokenHeaders||Qa),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=a.firebaseTimeout||Ha,this.a=ie(a.firebaseHeaders||Ya),e&&(this.a["X-Client-Version"]=e,this.g["X-Client-Version"]=e),e="Node"==wi(),!(e=d.XMLHttpRequest||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!yi())throw new cr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yi()?this.f=new aa(self):ki()?this.f=new ja(e):this.f=new Qo,this.b=null}O(Ba,M),O(ja,zo),ja.prototype.a=function(){return new this.f},ja.prototype.b=function(){return{}};var Ga,Ka="idToken",Wa=new Ui(3e4,6e4),Qa={"Content-Type":"application/x-www-form-urlencoded"},Ha=new Ui(3e4,6e4),Ya={"Content-Type":"application/json"};function Xa(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function Ja(a,b){b?(a.a["X-Client-Version"]=b,a.g["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function $a(a,b,e,t,n,r,g){(function(){var a=Ai();return!((a=Ii(a)!=Ti?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a)&&(!Ct||!Vt||9<Vt)})()||yi()?a=N(a.o,a):(Ga||(Ga=new Ze((function(e,t){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{d[es]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},function(a,b){Ca(a,null,b,void 0)}(Pa(fe(Za,{onload:es})),(function(){b(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),a=N(a.m,a)),a(b,e,t,n,r,g)}za.prototype.R=function(){return this.b},za.prototype.o=function(a,b,e,t,n,r){if(yi()&&(void 0===d.fetch||void 0===d.Headers||void 0===d.Request))throw new cr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new da(this.f);if(r){g.g=Math.max(0,r);var o=setTimeout((function(){g.dispatchEvent("timeout")}),r)}bn(g,"complete",(function(){o&&clearTimeout(o);var e=null;try{e=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(e){return oa(a.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(t){e=null}b&&b(e)})),gn(g,"ready",(function(){o&&clearTimeout(o),Et(this)})),gn(g,"timeout",(function(){o&&clearTimeout(o),Et(this),b&&b(null)})),ba(g,a,e,t,n)};var Za=new ae(ue,"https://apis.google.com/js/client.js?onload=%{onload}"),es="__fcb"+Math.floor(1e6*Math.random()).toString();function ts(a){if(!f(a=a.email)||!mi.test(a))throw new cr("invalid-email")}function ns(a){"email"in a&&ts(a)}function is(a){if(!a[Ka])throw new cr("internal-error")}function rs(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new cr("internal-error")}else{if(!a.sessionInfo)throw new cr("missing-verification-id");if(!a.code)throw new cr("missing-verification-code")}}za.prototype.m=function(a,b,e,t,n){var r=this;Ga.then((function(){window.gapi.client.setApiKey(r.c);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:e,body:t,headers:n,authType:"none",callback:function(e){window.gapi.auth.setToken(g),b&&b(e)}})})).s((function(g){b&&b({error:{message:g&&g.message||"CORS_UNSUPPORTED"}})}))},za.prototype.ob=function(){return Us(this,Ds,{})},za.prototype.rb=function(a,b){return Us(this,Cs,{idToken:a,email:b})},za.prototype.sb=function(a,b){return Us(this,Ns,{idToken:a,password:b})};var os={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function as(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new cr("internal-error")}function ss(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(Wn(a=new jn(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function cs(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=jo(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=jo(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=jo(a)):a.errorMessage&&(b=Bs(a.errorMessage)),b)throw b;if(!a[Ka])throw new cr("internal-error")}function us(a,b){return b.returnIdpCredential=!0,Us(a,Rs,b)}function ls(a,b){return b.returnIdpCredential=!0,Us(a,Ls,b)}function hs(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,Us(a,Os,b)}function ds(a){if(!a.oobCode)throw new cr("invalid-action-code")}(t=za.prototype).tb=function(a,b){var e={idToken:a},t=[];return te(os,(function(n,r){var g=b[r];null===g?t.push(n):r in b&&(e[r]=g)})),t.length&&(e.deleteAttribute=t),Us(this,Cs,e)},t.kb=function(a,b){return oe(a={requestType:"PASSWORD_RESET",email:a},b),Us(this,Is,a)},t.lb=function(a,b){return oe(a={requestType:"EMAIL_SIGNIN",email:a},b),Us(this,xs,a)},t.jb=function(a,b){return oe(a={requestType:"VERIFY_EMAIL",idToken:a},b),Us(this,Ts,a)},t.Wa=function(a){return Us(this,Fs,a)},t.ab=function(a,b){return Us(this,As,{oobCode:a,newPassword:b})},t.Ma=function(a){return Us(this,ps,{oobCode:a})},t.Ya=function(a){return Us(this,fs,{oobCode:a})};var fs={endpoint:"setAccountInfo",D:ds,fa:"email",F:!0},ps={endpoint:"resetPassword",D:ds,K:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b)throw new cr("internal-error")},F:!0},ms={endpoint:"signupNewUser",D:function(a){if(ts(a),!a.password)throw new cr("weak-password")},K:is,T:!0,F:!0},bs={endpoint:"createAuthUri",F:!0},gs={endpoint:"deleteAccount",V:["idToken"]},vs={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(a){if(!T(a.deleteProvider))throw new cr("internal-error")}},ys={endpoint:"emailLinkSignin",V:["email","oobCode"],D:ts,K:is,T:!0,F:!0},ws={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:ts,K:is,T:!0},ks={endpoint:"getAccountInfo"},xs={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new cr("internal-error");ts(a)},fa:"email",F:!0},Ts={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new cr("internal-error")},fa:"email",F:!0},Is={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(a){if("PASSWORD_RESET"!=a.requestType)throw new cr("internal-error");ts(a)},fa:"email",F:!0},Es={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},Ss={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(a){if(!a.recaptchaSiteKey)throw new cr("internal-error")}},As={endpoint:"resetPassword",D:ds,fa:"email",F:!0},_s={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},Cs={endpoint:"setAccountInfo",V:["idToken"],D:ns,T:!0},Ns={endpoint:"setAccountInfo",V:["idToken"],D:function(a){if(ns(a),!a.password)throw new cr("weak-password")},K:is,T:!0},Ds={endpoint:"signupNewUser",K:is,T:!0,F:!0},Rs={endpoint:"verifyAssertion",D:as,Ra:ss,K:cs,T:!0,F:!0},Os={endpoint:"verifyAssertion",D:as,Ra:ss,K:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new cr("user-not-found");if(a.errorMessage)throw Bs(a.errorMessage);if(!a[Ka])throw new cr("internal-error")},T:!0,F:!0},Ls={endpoint:"verifyAssertion",D:function(a){if(as(a),!a.idToken)throw new cr("internal-error")},Ra:ss,K:cs,T:!0},Ms={endpoint:"verifyCustomToken",D:function(a){if(!a.token)throw new cr("invalid-custom-token")},K:is,T:!0,F:!0},Ps={endpoint:"verifyPassword",D:function(a){if(ts(a),!a.password)throw new cr("wrong-password")},K:is,T:!0,F:!0},Fs={endpoint:"verifyPhoneNumber",D:rs,K:is,F:!0},Vs={endpoint:"verifyPhoneNumber",D:function(a){if(!a.idToken)throw new cr("internal-error");rs(a)},K:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",jo(a);is(a)}},qs={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:rs,K:is,F:!0};function Us(a,b,e){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var e=0;e<b.length;e++){var t=a[b[e]];if(null==t||""===t)return!1}return!0}(e,b.V))return ct(new cr("internal-error"));var t,n=b.Kb||"POST";return st(e).then(b.D).then((function(){return b.T&&(e.returnSecureToken=!0),b.F&&a.b&&void 0===e.tenantId&&(e.tenantId=a.b),function(a,b,e,t,n,r){var g=Rn(a.h+b);Nn(g,"key",a.c),r&&Nn(g,"cb",R().toString());var o="GET"==e;if(o)for(var c in t)t.hasOwnProperty(c)&&Nn(g,c,t[c]);return new Ze((function(p,u){$a(a,g.toString(),(function(e){e?e.error?u(js(e,n||{})):p(e):u(new cr("network-request-failed"))}),e,o?void 0:ni(Mi(t)),a.a,a.i.get())}))}(a,b.endpoint,n,e,b.Yb,b.wb||!1)})).then((function(n){return t=n,b.Ra?b.Ra(e,t):t})).then(b.K).then((function(){if(!b.fa)return t;if(!(b.fa in t))throw new cr("internal-error");return t[b.fa]}))}function Bs(a){return js({error:{errors:[{message:a}],code:400,message:a}})}function js(a,b){var e=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",t={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(e=t[e]?new cr(t[e]):null)return e;for(var n in e=a.error&&a.error.message||"",oe(t={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},b||{}),b=(b=e.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<b.length?b[1]:void 0,t)if(0===e.indexOf(n))return new cr(t[n],b);return!b&&a&&(b=Li(a)),new cr("internal-error",b)}function zs(a){this.b=a,this.a=null,this.gb=function(a){return(Qs||(Qs=new Ze((function(a,b){function e(){qi(),_i("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){qi(),b(Error("Network Error"))},timeout:Ks.get()})}if(_i("gapi.iframes.Iframe"))a();else if(_i("gapi.load"))e();else{var t="__iframefcb"+Math.floor(1e6*Math.random()).toString();d[t]=function(){_i("gapi.load")?e():b(Error("Network Error"))},st(Pa(t=fe(Gs,{onload:t}))).s((function(){b(Error("Network Error"))}))}})).s((function(a){throw Qs=null,a})))).then((function(){return new Ze((function(b,e){_i("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:_i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(t){function n(){clearTimeout(r),b()}a.a=t,a.a.restyle({setHideOnLeave:!1});var r=setTimeout((function(){e(Error("Network Error"))}),Ws.get());t.ping(n).then(n,(function(){e(Error("Network Error"))}))}))}))}))}(this)}var Gs=new ae(ue,"https://apis.google.com/js/api.js?onload=%{onload}"),Ks=new Ui(3e4,6e4),Ws=new Ui(5e3,15e3),Qs=null;function Hs(a,b,e){this.i=a,this.g=b,this.h=e,this.f=null,this.a=On(this.i,"/__/auth/iframe"),Nn(this.a,"apiKey",this.g),Nn(this.a,"appName",this.h),this.b=null,this.c=[]}function Ys(a,b,e,t,n){this.o=a,this.m=b,this.c=e,this.u=t,this.i=this.g=this.l=null,this.a=n,this.h=this.f=null}function Xs(a){try{return r.a.app(a).auth().Ca()}catch(e){return[]}}function Js(a,b,e,t,n){this.u=a,this.f=b,this.b=e,this.c=t||null,this.h=n||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function $s(a){var b=ci();return function(a){return Us(a,Es,{}).then((function(b){return b.authorizedDomains||[]}))}(a).then((function(e){e:{var t=Rn(b),n=t.f;t=t.b;for(var r=0;r<e.length;r++){var g=e[r],o=t,c=n;if(0==g.indexOf("chrome-extension://")?o=Rn(g).b==o&&"chrome-extension"==c:"http"!=c&&"https"!=c?o=!1:pi.test(g)?o=o==g:(g=g.split(".").join("\\."),o=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(o)),o){e=!0;break e}}e=!1}if(!e)throw new Uo(ci())}))}function Zs(a){return a.l?a.l:(a.l=bi().then((function(){if(!a.o){var b=a.c,e=a.h,t=Xs(a.b),n=new Hs(a.u,a.f,a.b);n.f=b,n.b=e,n.c=ee(t||[]),a.o=n.toString()}a.i=new zs(a.o),function(a){if(!a.i)throw Error("IfcHandler must be initialized!");!function(a,b){a.gb.then((function(){a.a.register("authEvent",b,_i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(a.i,(function(b){var e={};if(b&&b.authEvent){var t=!1;for(b=Po(b.authEvent),e=0;e<a.g.length;e++)t=a.g[e](b)||t;return(e={}).status=t?"ACK":"ERROR",st(e)}return e.status="ERROR",st(e)}))}(a)})),a.l)}function ec(a){return a.m||(a.v=a.c?Si(a.c,Xs(a.b)):null,a.m=new za(a.f,jr(a.h),a.v)),a.m}function tc(a,b,e,t,n,r,g,o,c,p,u){return(a=new Ys(a,b,e,t,n)).l=r,a.g=g,a.i=o,a.b=ie(c||null),a.f=p,a.nb(u).toString()}function nc(a){if(this.a=a||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new cr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ic(a){this.b=a,this.a={},this.f=N(this.c,this)}Hs.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):Kn(this.a.a,"v"),this.b?Nn(this.a,"eid",this.b):Kn(this.a.a,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):Kn(this.a.a,"fw"),this.a.toString()},Ys.prototype.nb=function(a){return this.h=a,this},Ys.prototype.toString=function(){var a=On(this.o,"/__/auth/handler");if(Nn(a,"apiKey",this.m),Nn(a,"appName",this.c),Nn(a,"authType",this.u),this.a.isOAuthProvider){var b=this.a;try{var e=r.a.app(this.c).auth().ha()}catch(t){e=null}for(var t in b.bb=e,Nn(a,"providerId",this.a.providerId),e=Mi((b=this.a).zb))e[t]=e[t].toString();t=b.Fc,e=ie(e);for(var n=0;n<t.length;n++){var o=t[n];o in e&&delete e[o]}b.eb&&b.bb&&!e[b.eb]&&(e[b.eb]=b.bb),ne(e)||Nn(a,"customParameters",Li(e))}if("function"==typeof this.a.Hb&&((b=this.a.Hb()).length&&Nn(a,"scopes",b.join(","))),this.l?Nn(a,"redirectUrl",this.l):Kn(a.a,"redirectUrl"),this.g?Nn(a,"eventId",this.g):Kn(a.a,"eventId"),this.i?Nn(a,"v",this.i):Kn(a.a,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!Dn(a,g)&&Nn(a,g,this.b[g]);return this.h?Nn(a,"tid",this.h):Kn(a.a,"tid"),this.f?Nn(a,"eid",this.f):Kn(a.a,"eid"),(g=Xs(this.c)).length&&Nn(a,"fw",g.join(",")),a.toString()},(t=Js.prototype).Fb=function(a,b,e){var t=new cr("popup-closed-by-user"),n=new cr("web-storage-unsupported"),r=this,g=!1;return this.ia().then((function(){(function(a){var b={type:"webStorageSupport"};return Zs(a).then((function(){return function(a,b){return a.gb.then((function(){return new Ze((function(e){a.a.send(b.type,b,e,_i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(a.i,b)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(r).then((function(e){e||(a&&di(a),b(n),g=!0)}))})).s((function(){})).then((function(){if(!g)return function(a){return new Ze((function(b){return function e(){wn(2e3).then((function(){if(a&&!a.closed)return e();b()}))}()}))}(a)})).then((function(){if(!g)return wn(e).then((function(){b(t)}))}))},t.Ob=function(){var a=Ai();return!Oi(a)&&!Vi(a)},t.Jb=function(){return!1},t.Db=function(a,b,e,t,n,r,g,o){if(!a)return ct(new cr("popup-blocked"));if(g&&!Oi())return this.ia().s((function(p){di(a),n(p)})),t(),st();this.a||(this.a=$s(ec(this)));var c=this;return this.a.then((function(){var p=c.ia().s((function(u){throw di(a),n(u),u}));return t(),p})).then((function(){(Lo(e),g)||ui(tc(c.u,c.f,c.b,b,e,null,r,c.c,void 0,c.h,o),a)})).s((function(p){throw"auth/network-request-failed"==p.code&&(c.a=null),p}))},t.Eb=function(a,b,e,t){this.a||(this.a=$s(ec(this)));var n=this;return this.a.then((function(){Lo(b),ui(tc(n.u,n.f,n.b,a,b,ci(),e,n.c,void 0,n.h,t))})).s((function(e){throw"auth/network-request-failed"==e.code&&(n.a=null),e}))},t.ia=function(){var a=this;return Zs(this).then((function(){return a.i.gb})).s((function(){throw a.a=null,new cr("network-request-failed")}))},t.Rb=function(){return!0},t.Aa=function(a){this.g.push(a)},t.Na=function(a){$(this.g,(function(b){return b==a}))},(t=nc.prototype).get=function(a){return st(this.a.getItem(a)).then((function(b){return b&&Pi(b)}))},t.set=function(a,b){return st(this.a.setItem(a,Li(b)))},t.S=function(a){return st(this.a.removeItem(a))},t.$=function(){},t.ea=function(){};var rc,oc=[];function ac(a,b,e){ne(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[b]&&(a.a[b]=[]),a.a[b].push(e)}function sc(a){this.a=a}function cc(a){this.c=a,this.b=!1,this.a=[]}function uc(a,b,e,t){var n,g,r,o,c=e||{},p=null;if(a.b)return ct(Error("connection_unavailable"));var u=t?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ze((function(e,t){l?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),r=setTimeout((function(){t(Error("unsupported_event"))}),u),p={messageChannel:l,onMessage:g=function(c){c.data.eventId===n&&("ack"===c.data.status?(clearTimeout(r),o=setTimeout((function(){t(Error("timeout"))}),3e3)):"done"===c.data.status?(clearTimeout(o),void 0!==c.data.response?e(c.data.response):t(Error("unknown_error"))):(clearTimeout(r),clearTimeout(o),t(Error("invalid_response"))))}},a.a.push(p),l.port1.addEventListener("message",g),a.c.postMessage({eventType:b,eventId:n,data:c},[l.port2])):t(Error("connection_unavailable"))})).then((function(e){return lc(a,p),e})).s((function(e){throw lc(a,p),e}))}function lc(a,b){if(b){var e=b.messageChannel,t=b.onMessage;e&&(e.port1.removeEventListener("message",t),e.port1.close()),$(a.a,(function(e){return e==b}))}}function hc(){if(!pc())throw new cr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=d.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var a=this;yi()&&self?(this.l=function(){var a=yi()?self:null;if(Q(oc,(function(e){e.b==a&&(b=e)})),!b){var b=new ic(a);oc.push(b)}return b}(),ac(this.l,"keyChanged",(function(b,e){return yc(a).then((function(t){return 0<t.length&&Q(a.a,(function(e){e(t)})),{keyProcessed:X(t,e.key)}}))})),ac(this.l,"ping",(function(){return st(["keyChanged"])}))):function(){var a=d.navigator;return a&&a.serviceWorker?st().then((function(){return a.serviceWorker.ready})).then((function(b){return b.active||null})).s((function(){return null})):st(null)}().then((function(b){(a.h=b)&&(a.g=new cc(new sc(b)),uc(a.g,"ping",null,!0).then((function(e){e[0].fulfilled&&X(e[0].value,"keyChanged")&&(a.o=!0)})).s((function(){})))}))}function dc(a){return new Ze((function(b,e){var t=a.u.open("firebaseLocalStorageDb",1);t.onerror=function(t){try{t.preventDefault()}catch(e){}e(Error(t.target.error))},t.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){e(t)}},t.onsuccess=function(t){(t=t.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(t):function(a){return new Ze((function(b,e){var t=a.u.deleteDatabase("firebaseLocalStorageDb");t.onsuccess=function(){b()},t.onerror=function(t){e(Error(t.target.error))}}))}(a).then((function(){return dc(a)})).then((function(e){b(e)})).s((function(t){e(t)}))}}))}function fc(a){return a.m||(a.m=dc(a)),a.m}function pc(){try{return!!d.indexedDB}catch(e){return!1}}function mc(a){return a.objectStore("firebaseLocalStorage")}function bc(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function gc(a){return new Ze((function(b,e){a.onsuccess=function(e){e&&e.target?b(e.target.result):b()},a.onerror=function(t){e(t.target.error)}}))}function vc(a,b){return a.g&&a.h&&function(){var a=d.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?uc(a.g,"keyChanged",{key:b},a.o).then((function(){})).s((function(){})):st()}function yc(a){return fc(a).then((function(b){var e=mc(bc(b,!1));return e.getAll?gc(e.getAll()):new Ze((function(t,n){var r=[],g=e.openCursor();g.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},g.onerror=function(e){n(e.target.error)}}))})).then((function(b){var e={},t=[];if(0==a.b){for(t=0;t<b.length;t++)e[b[t].fbase_key]=b[t].value;t=function e(a,b){var t,n=[];for(t in a)t in b?typeof a[t]!=typeof b[t]?n.push(t):"object"==typeof a[t]&&null!=a[t]&&null!=b[t]?0<e(a[t],b[t]).length&&n.push(t):a[t]!==b[t]&&n.push(t):n.push(t);for(t in b)t in a||n.push(t);return n}(a.c,e),a.c=e}return t}))}function wc(a){a.i&&a.i.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function kc(a){var b=this,e=null;this.a=[],this.type="indexedDB",this.c=a,this.b=st().then((function(){if(pc()){var t=Fi(),n="__sak"+t;return rc||(rc=new hc),(e=rc).set(n,t).then((function(){return e.get(n)})).then((function(r){if(r!==t)throw Error("indexedDB not supported!");return e.S(n)})).then((function(){return e})).s((function(){return b.c}))}return b.c})).then((function(e){return b.type=e.type,e.$((function(e){Q(b.a,(function(t){t(e)}))})),e}))}function xc(){this.a={},this.type="inMemory"}function Tc(){if(!function(){var a="Node"==wi();if(!(a=Ic()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wi())throw new cr("internal-error","The LocalStorage compatibility library was not found.");throw new cr("web-storage-unsupported")}this.a=Ic()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ic(){try{var a=d.localStorage,b=Fi();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(e){return null}}function Ec(){this.type="nullStorage"}function Sc(){if(!function(){var a="Node"==wi();if(!(a=Ac()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wi())throw new cr("internal-error","The SessionStorage compatibility library was not found.");throw new cr("web-storage-unsupported")}this.a=Ac()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ac(){try{var a=d.sessionStorage,b=Fi();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(e){return null}}function _c(){var a={};a.Browser=Dc,a.Node=Rc,a.ReactNative=Oc,a.Worker=Lc,this.a=a[wi()]}ic.prototype.c=function(a){var b=a.data.eventType,e=a.data.eventId,t=this.a[b];if(t&&0<t.length){a.ports[0].postMessage({status:"ack",eventId:e,eventType:b,response:null});var n=[];Q(t,(function(e){n.push(st().then((function(){return e(a.origin,a.data.data)})))})),lt(n).then((function(t){var g=[];Q(t,(function(e){g.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),Q(g,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),a.ports[0].postMessage({status:"done",eventId:e,eventType:b,response:g})}))}},sc.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},cc.prototype.close=function(){for(;0<this.a.length;)lc(this,this.a[0]);this.b=!0},(t=hc.prototype).set=function(a,b){var e,t=!1,n=this;return fc(this).then((function(t){return gc((t=mc(bc(e=t,!0))).get(a))})).then((function(r){var g=mc(bc(e,!0));return r?(r.value=b,gc(g.put(r))):(n.b++,t=!0,(r={}).fbase_key=a,r.value=b,gc(g.add(r)))})).then((function(){return n.c[a]=b,vc(n,a)})).ka((function(){t&&n.b--}))},t.get=function(a){return fc(this).then((function(b){return gc(mc(bc(b,!1)).get(a))})).then((function(b){return b&&b.value}))},t.S=function(a){var b=!1,e=this;return fc(this).then((function(t){return b=!0,e.b++,gc(mc(bc(t,!0)).delete(a))})).then((function(){return delete e.c[a],vc(e,a)})).ka((function(){b&&e.b--}))},t.$=function(a){0==this.a.length&&function(a){wc(a),function b(){a.f=setTimeout((function(){a.i=yc(a).then((function(e){0<e.length&&Q(a.a,(function(t){t(e)}))})).then((function(){b()})).s((function(e){"STOP_EVENT"!=e.message&&b()}))}),800)}()}(this),this.a.push(a)},t.ea=function(a){$(this.a,(function(b){return b==a})),0==this.a.length&&wc(this)},(t=kc.prototype).get=function(a){return this.b.then((function(b){return b.get(a)}))},t.set=function(a,b){return this.b.then((function(e){return e.set(a,b)}))},t.S=function(a){return this.b.then((function(b){return b.S(a)}))},t.$=function(a){this.a.push(a)},t.ea=function(a){$(this.a,(function(b){return b==a}))},(t=xc.prototype).get=function(a){return st(this.a[a])},t.set=function(a,b){return this.a[a]=b,st()},t.S=function(a){return delete this.a[a],st()},t.$=function(){},t.ea=function(){},(t=Tc.prototype).get=function(a){var b=this;return st().then((function(){return Pi(b.a.getItem(a))}))},t.set=function(a,b){var e=this;return st().then((function(){var t=Li(b);null===t?e.S(a):e.a.setItem(a,t)}))},t.S=function(a){var b=this;return st().then((function(){b.a.removeItem(a)}))},t.$=function(a){d.window&&rn(d.window,"storage",a)},t.ea=function(a){d.window&&sn(d.window,"storage",a)},(t=Ec.prototype).get=function(){return st(null)},t.set=function(){return st()},t.S=function(){return st()},t.$=function(){},t.ea=function(){},(t=Sc.prototype).get=function(a){var b=this;return st().then((function(){return Pi(b.a.getItem(a))}))},t.set=function(a,b){var e=this;return st().then((function(){var t=Li(b);null===t?e.S(a):e.a.setItem(a,t)}))},t.S=function(a){var b=this;return st().then((function(){b.a.removeItem(a)}))},t.$=function(){},t.ea=function(){};var Cc,Nc,Dc={C:Tc,Ta:Sc},Rc={C:Tc,Ta:Sc},Oc={C:nc,Ta:Ec},Lc={C:Tc,Ta:Ec},Mc={ad:"local",NONE:"none",cd:"session"};function Pc(){var a=!(Vi(Ai())||!vi()),b=Oi(),e=Ci();this.m=a,this.h=b,this.l=e,this.a={},Cc||(Cc=new _c),a=Cc;try{this.g=!si()&&zi()||!d.indexedDB?new a.a.C:new kc(yi()?new xc:new a.a.C)}catch(e){this.g=new xc,this.h=!0}try{this.i=new a.a.Ta}catch(e){this.i=new xc}this.u=new xc,this.f=N(this.Pb,this),this.b={}}function Fc(){return Nc||(Nc=new Pc),Nc}function Vc(a,b){switch(b){case"session":return a.i;case"none":return a.u;default:return a.g}}function qc(a,b){return"firebase:"+a.name+(b?":"+b:"")}function Uc(a,b,e){return e=qc(b,e),"local"==b.C&&(a.b[e]=null),Vc(a,b.C).S(e)}function Bc(a){a.c&&(clearInterval(a.c),a.c=null)}function jc(a){this.a=a,this.b=Fc()}(t=Pc.prototype).get=function(a,b){return Vc(this,a.C).get(qc(a,b))},t.set=function(a,b,e){var t=qc(a,e),n=this,r=Vc(this,a.C);return r.set(t,b).then((function(){return r.get(t)})).then((function(g){"local"==a.C&&(n.b[t]=g)}))},t.addListener=function(a,b,e){a=qc(a,b),this.l&&(this.b[a]=d.localStorage.getItem(a)),ne(this.a)&&(Vc(this,"local").$(this.f),this.h||(si()||!zi())&&d.indexedDB||!this.l||function(a){Bc(a),a.c=setInterval((function(){for(var b in a.a){var e=d.localStorage.getItem(b),t=a.b[b];e!=t&&(a.b[b]=e,e=new Wt({type:"storage",key:b,target:window,oldValue:t,newValue:e,a:!0}),a.Pb(e))}}),1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(e)},t.removeListener=function(a,b,e){a=qc(a,b),this.a[a]&&($(this.a[a],(function(t){return t==e})),0==this.a[a].length&&delete this.a[a]),ne(this.a)&&(Vc(this,"local").ea(this.f),Bc(this))},t.Pb=function(a){if(a&&a.f){var b=a.a.key;if(null==b)for(var e in this.a){var t=this.b[e];void 0===t&&(t=null);var n=d.localStorage.getItem(e);n!==t&&(this.b[e]=n,this.$a(e))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?Vc(this,"local").ea(this.f):Bc(this),this.m)if(e=d.localStorage.getItem(b),(t=a.a.newValue)!==e)null!==t?d.localStorage.setItem(b,t):d.localStorage.removeItem(b);else if(this.b[b]===t&&void 0===a.a.a)return;var r=this;e=function(){void 0===a.a.a&&r.b[b]===d.localStorage.getItem(b)||(r.b[b]=d.localStorage.getItem(b),r.$a(b))},Ct&&Vt&&10==Vt&&d.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(e,10):e()}}else Q(a,N(this.$a,this))},t.$a=function(a){this.a[a]&&Q(this.a[a],(function(b){b()}))};var zc,Gc={name:"authEvent",C:"local"};function Kc(){this.a=Fc()}function Wc(a,b){this.b=Qc,this.f=d.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.l=d.Int32Array?new Int32Array(64):Array(64),void 0!==zc||(zc=d.Int32Array?new Int32Array(eu):eu),this.reset()}O(Wc,(function(){this.b=-1}));for(var Qc=64,Hc=Qc-1,Yc=[],Xc=0;Xc<Hc;Xc++)Yc[Xc]=0;var Jc=Z(128,Yc);function $c(a){for(var b=a.f,e=a.l,t=0,n=0;n<b.length;)e[t++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*t;for(b=16;64>b;b++){n=0|e[b-15],t=0|e[b-2];var r=(0|e[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,g=(0|e[b-7])+((t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)|0;e[b]=r+g|0}t=0|a.a[0],n=0|a.a[1];var o=0|a.a[2],c=0|a.a[3],p=0|a.a[4],u=0|a.a[5],l=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var h=((t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10))+(t&n^t&o^n&o)|0;g=(r=r+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))|0)+((g=(g=p&u^~p&l)+(0|zc[b])|0)+(0|e[b])|0)|0,r=l,l=u,u=p,p=c+g|0,c=o,o=n,n=t,t=g+h|0}a.a[0]=a.a[0]+t|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+o|0,a.a[3]=a.a[3]+c|0,a.a[4]=a.a[4]+p|0,a.a[5]=a.a[5]+u|0,a.a[6]=a.a[6]+l|0,a.a[7]=a.a[7]+r|0}function Zc(a,b,e){void 0===e&&(e=b.length);var t=0,n=a.c;if(f(b))for(;t<e;)a.f[n++]=b.charCodeAt(t++),n==a.b&&($c(a),n=0);else{if(!I(b))throw Error("message must be string or array");for(;t<e;){var r=b[t++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");a.f[n++]=r,n==a.b&&($c(a),n=0)}}a.c=n,a.g+=e}Wc.prototype.reset=function(){this.g=this.c=0,this.a=d.Int32Array?new Int32Array(this.h):ee(this.h)};var eu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function tu(){Wc.call(this,8,nu)}O(tu,Wc);var nu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function iu(a,b,e,t,n){this.u=a,this.i=b,this.l=e,this.m=t||null,this.o=n||null,this.h=b+":"+e,this.v=new Kc,this.g=new jc(this.h),this.f=null,this.b=[],this.a=this.c=null}function ru(a){return new cr("invalid-cordova-configuration",a)}function ou(a){var b=new tu;Zc(b,a),a=[];var e=8*b.g;56>b.c?Zc(b,Jc,56-b.c):Zc(b,Jc,b.b-(b.c-56));for(var t=63;56<=t;t--)b.f[t]=255&e,e/=256;for($c(b),t=e=0;t<b.i;t++)for(var n=24;0<=n;n-=8)a[e++]=b.a[t]>>n&255;return function(a){return H(a,(function(b){return 1<(b=b.toString(16)).length?b:"0"+b})).join("")}(a)}function au(a,b){for(var e=0;e<a.b.length;e++)try{a.b[e](b)}catch(e){}}function su(a){return a.f||(a.f=a.ia().then((function(){return new Ze((function(b){a.Aa((function e(t){return b(t),a.Na(e),!1})),function(a){function b(g){t=!0,n&&n.cancel(),cu(a).then((function(t){var n=e;if(t&&g&&g.url){var p=null;-1!=(n=no(g.url)).indexOf("/__/auth/callback")&&(p=(p="object"==typeof(p=Pi(Dn(p=Rn(n),"firebaseError")||null))?ur(p):null)?new Mo(t.c,t.b,null,null,p,null,t.R()):new Mo(t.c,t.b,n,t.f,null,null,t.R())),n=p||e}au(a,n)}))}var e=new Mo("unknown",null,null,null,new cr("no-auth-event")),t=!1,n=wn(500).then((function(){return cu(a).then((function(){t||au(a,e)}))})),r=d.handleOpenURL;d.handleOpenURL=function(g){if(0==g.toLowerCase().indexOf(_i("BuildInfo.packageName",d).toLowerCase()+"://")&&b({url:g}),"function"==typeof r)try{r(g)}catch(e){console.error(e)}},qo||(qo=new Fo),function(a){var b=qo;b.a.push(a),b.b||(b.b=function(e){for(var t=0;t<b.a.length;t++)b.a[t](e)},"function"==typeof(a=_i("universalLinks.subscribe",d))&&a(null,b.b))}(b)}(a)}))}))),a.f}function cu(a){var b=null;return function(a){return a.b.get(Gc,a.a).then((function(b){return Po(b)}))}(a.g).then((function(e){return b=e,Uc((e=a.g).b,Gc,e.a)})).then((function(){return b}))}function uu(a){this.a=a,this.b=Fc()}(t=iu.prototype).ia=function(){return this.Da?this.Da:this.Da=(gi(void 0)?bi().then((function(){return new Ze((function(a,b){var e=d.document,t=setTimeout((function(){b(Error("Cordova framework is not ready."))}),1e3);e.addEventListener("deviceready",(function(){clearTimeout(t),a()}),!1)}))})):ct(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof _i("universalLinks.subscribe",d))throw ru("cordova-universal-links-plugin-fix is not installed");if(void 0===_i("BuildInfo.packageName",d))throw ru("cordova-plugin-buildinfo is not installed");if("function"!=typeof _i("cordova.plugins.browsertab.openUrl",d))throw ru("cordova-plugin-browsertab is not installed");if("function"!=typeof _i("cordova.InAppBrowser.open",d))throw ru("cordova-plugin-inappbrowser is not installed")}),(function(){throw new cr("cordova-not-ready")}))},t.Fb=function(a,b){return b(new cr("operation-not-supported-in-this-environment")),st()},t.Db=function(){return ct(new cr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(a,b,e,t){if(this.c)return ct(new cr("redirect-operation-pending"));var n=this,r=d.document,g=null,o=null,c=null,p=null;return this.c=st().then((function(){return Lo(b),su(n)})).then((function(){return function(a,b,e,t,n){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),g=new Mo(b,t,null,r,new cr("no-auth-event"),null,n),o=_i("BuildInfo.packageName",d);if("string"!=typeof o)throw new cr("invalid-cordova-configuration");var c=_i("BuildInfo.displayName",d),p={};if(Ai().toLowerCase().match(/iphone|ipad|ipod/))p.ibi=o;else{if(!Ai().toLowerCase().match(/android/))return ct(new cr("operation-not-supported-in-this-environment"));p.apn=o}c&&(p.appDisplayName=c),r=ou(r),p.sessionId=r;var u=tc(a.u,a.i,a.l,b,e,null,t,a.m,p,a.o,n);return a.ia().then((function(){var e=a.h;return a.v.a.set(Gc,g.A(),e)})).then((function(){var e=_i("cordova.plugins.browsertab.isAvailable",d);if("function"!=typeof e)throw new cr("invalid-cordova-configuration");var t=null;e((function(e){if(e){if("function"!=typeof(t=_i("cordova.plugins.browsertab.openUrl",d)))throw new cr("invalid-cordova-configuration");t(u)}else{if("function"!=typeof(t=_i("cordova.InAppBrowser.open",d)))throw new cr("invalid-cordova-configuration");e=Ai(),a.a=t(u,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(n,a,b,e,t)})).then((function(){return new Ze((function(u,e){o=function(){var e=_i("cordova.plugins.browsertab.close",d);return u(),"function"==typeof e&&e(),n.a&&"function"==typeof n.a.close&&(n.a.close(),n.a=null),!1},n.Aa(o),c=function(){g||(g=wn(2e3).then((function(){e(new cr("redirect-cancelled-by-user"))})))},p=function(){Bi()&&c()},r.addEventListener("resume",c,!1),Ai().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",p,!1)})).s((function(u){return cu(n).then((function(){throw u}))}))})).ka((function(){c&&r.removeEventListener("resume",c,!1),p&&r.removeEventListener("visibilitychange",p,!1),g&&g.cancel(),o&&n.Na(o),n.c=null}))},t.Aa=function(a){this.b.push(a),su(this).s((function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new Mo("unknown",null,null,null,new cr("no-auth-event")),a(b))}))},t.Na=function(a){$(this.b,(function(b){return b==a}))};var lu={name:"pendingRedirect",C:"session"};function hu(a){return Uc(a.b,lu,a.a)}function du(a,b,e){this.i={},this.v=0,this.B=a,this.u=b,this.m=e,this.h=[],this.f=!1,this.l=N(this.o,this),this.b=new dl,this.w=new Cu,this.g=new uu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=fu(this.B,this.u,this.m,Ur)}function fu(a,b,e,t){var n=r.a.SDK_VERSION||null;return gi()?new iu(a,b,e,n,t):new Js(a,b,e,n,t)}function pu(a){a.f||(a.f=!0,a.a.Aa(a.l));var b=a.a;return a.a.ia().s((function(e){throw a.a==b&&a.reset(),e}))}function mu(a){a.a.Ob()&&pu(a).s((function(b){var e=new Mo("unknown",null,null,null,new cr("operation-not-supported-in-this-environment"));wu(b)&&a.o(e)})),a.a.Jb()||Eu(a.b)}function bu(a,b){X(a.h,b)||a.h.push(b),a.f||function(a){return a.b.get(lu,a.a).then((function(b){return"pending"==b}))}(a.g).then((function(e){e?hu(a.g).then((function(){pu(a).s((function(e){var t=new Mo("unknown",null,null,null,new cr("operation-not-supported-in-this-environment"));wu(e)&&a.o(t)}))})):mu(a)})).s((function(){mu(a)}))}function gu(a,b){$(a.h,(function(e){return e==b}))}du.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=fu(this.B,this.u,this.m),this.i={}},du.prototype.o=function(a){if(!a)throw new cr("invalid-auth-event");if(6e5<=R()-this.v&&(this.i={},this.v=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,e=0;e<this.h.length;e++){var t=this.h[e];if(t.xb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,t),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.v=R())),b=!0;break}}return Eu(this.b),b};var vu=new Ui(2e3,1e4),yu=new Ui(3e4,6e4);function ol(a,b,e,t,n,r,g){return a.a.Db(b,e,t,(function(){a.f||(a.f=!0,a.a.Aa(a.l))}),(function(){a.reset()}),n,r,g)}function wu(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function ku(a,b,e,t,n){var r;return function(a){return a.b.set(lu,"pending",a.a)}(a.g).then((function(){return a.a.Eb(b,e,t,n).s((function(g){if(wu(g))throw new cr("operation-not-supported-in-this-environment");return r=g,hu(a.g).then((function(){throw r}))})).then((function(){return a.a.Rb()?new Ze((function(){})):hu(a.g).then((function(){return a.oa()})).then((function(){})).s((function(){}))}))}))}function xu(a,b,e,t,n){return a.a.Fb(t,(function(t){b.ja(e,null,t,n)}),vu.get())}du.prototype.oa=function(){return this.b.oa()};var Tu={};function Iu(a,b,e){var t=b+":"+e;return Tu[t]||(Tu[t]=new du(a,b,e)),Tu[t]}function dl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Eu(a){a.g||(a.g=!0,_u(a,!1,null,null))}function Su(a){a.g&&!a.i&&_u(a,!1,null,null)}function Au(a,b){if(a.b=function(){return st(b)},a.f.length)for(var e=0;e<a.f.length;e++)a.f[e](b)}function _u(a,b,e,t){b?t?function(a,b){if(a.b=function(){return ct(b)},a.c.length)for(var e=0;e<a.c.length;e++)a.c[e](b)}(a,t):Au(a,e):Au(a,{user:null}),a.f=[],a.c=[]}function Cu(){}function Nu(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(a){this.vb=a},enumerable:!1})}function Du(a,b){this.a=b,Hi(this,"verificationId",a)}function Ru(a,b,e,t){return new Do(a).Wa(b,e).then((function(e){return new Du(e,t)}))}function Ou(a){var b=qr(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new cr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yi(this,{token:a,expirationTime:ji(1e3*b.exp),authTime:ji(1e3*b.auth_time),issuedAtTime:ji(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,claims:b})}function Lu(a,b,e){if(this.h=a,this.i=b,this.g=e,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Mu(a){this.f=a,this.b=this.a=null,this.c=0}function Pu(a,b){var e=b[Ka],t=b.refreshToken;b=Fu(b.expiresIn),a.b=e,a.c=b,a.a=t}function Fu(a){return R()+1e3*parseInt(a,10)}function Vu(a,b){return function(a,b){return new Ze((function(e,t){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?$a(a,a.l+"?key="+encodeURIComponent(a.c),(function(n){n?n.error?t(js(n)):n.access_token&&n.refresh_token?e(n):t(new cr("internal-error")):t(new cr("network-request-failed"))}),"POST",Gn(b).toString(),a.g,a.u.get()):t(new cr("internal-error"))}))}(a.f,b).then((function(e){return a.b=e.access_token,a.c=Fu(e.expires_in),a.a=e.refresh_token,{accessToken:a.b,expirationTime:a.c,refreshToken:a.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(a.a=null),e}))}function qu(a,b){this.a=a||null,this.b=b||null,Yi(this,{lastSignInTime:ji(b||null),creationTime:ji(a||null)})}function Uu(a,b,e,t,n,r){Yi(this,{uid:a,displayName:t||null,photoURL:n||null,email:e||null,phoneNumber:r||null,providerId:b})}function Bu(a,b){for(var e in Kt.call(this,a),b)this[e]=b[e]}function ju(a,b,e){this.I=[],this.l=a.apiKey,this.m=a.appName,this.o=a.authDomain||null,a=r.a.SDK_VERSION?Si(r.a.SDK_VERSION):null,this.a=new za(this.l,jr(Ur),a),this.b=new Mu(this.a),Yu(this,b[Ka]),Pu(this.b,b),Hi(this,"refreshToken",this.b.a),$u(this,e||{}),mn.call(this),this.J=!1,this.o&&Ni()&&(this.i=Iu(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(a){return new Lu((function(){return a.G(!0)}),(function(b){return!(!b||"auth/network-request-failed"!=b.code)}),(function(){var b=a.b.c-R()-3e5;return 0<b?b:0}))}(this),this.W=N(this.Ja,this);var t=this;this.ga=null,this.xa=function(e){t.ua(e.g)},this.Z=null,this.P=[],this.wa=function(e){Gu(t,e.c)},this.Y=null}function zu(a,b){a.Z&&sn(a.Z,"languageCodeChanged",a.xa),(a.Z=b)&&rn(b,"languageCodeChanged",a.xa)}function Gu(a,b){a.P=b,Ja(a.a,r.a.SDK_VERSION?Si(r.a.SDK_VERSION,a.P):null)}function Ku(a,b){a.Y&&sn(a.Y,"frameworkChanged",a.wa),(a.Y=b)&&rn(b,"frameworkChanged",a.wa)}function Wu(a){try{return r.a.app(a.m).auth()}catch(e){throw new cr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Qu(a){a.B||a.w.b||(a.w.start(),sn(a,"tokenChanged",a.W),rn(a,"tokenChanged",a.W))}function Hu(a){sn(a,"tokenChanged",a.W),a.w.stop()}function Yu(a,b){a.ma=b,Hi(a,"_lat",b)}function Xu(a){for(var b=[],e=0;e<a.O.length;e++)b.push(a.O[e](a));return lt(b).then((function(){return a}))}function Ju(a){a.i&&!a.J&&(a.J=!0,bu(a.i,a))}function $u(a,b){Yi(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,tenantId:b.tenantId||null,metadata:new qu(b.createdAt,b.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function Zu(){}function el(a){return st().then((function(){if(a.B)throw new cr("app-deleted")}))}function tl(a){return H(a.providerData,(function(b){return b.providerId}))}function em(a,b){b&&(nl(a,b.providerId),a.providerData.push(b))}function nl(a,b){$(a.providerData,(function(e){return e.providerId==b}))}function il(a,b,e){("uid"!=b||e)&&a.hasOwnProperty(b)&&Hi(a,b,e)}function rl(a,b){a!=b&&(Yi(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,tenantId:b.tenantId,providerData:[]}),b.metadata?Hi(a,"metadata",function(a){return new qu(a.a,a.b)}(b.metadata)):Hi(a,"metadata",new qu),Q(b.providerData,(function(e){em(a,e)})),function(a,b){a.b=b.b,a.a=b.a,a.c=b.c}(a.b,b.b),Hi(a,"refreshToken",a.b.a))}function al(a){return a.G().then((function(b){var e=a.isAnonymous;return function(a,b){return Us(a.a,ks,{idToken:b}).then(N(a.zc,a))}(a,b).then((function(){return e||il(a,"isAnonymous",!1),b}))}))}function sl(a,b){b[Ka]&&a.ma!=b[Ka]&&(Pu(a.b,b),a.dispatchEvent(new Bu("tokenChanged")),Yu(a,b[Ka]),il(a,"refreshToken",a.b.a))}function cl(a,b){return al(a).then((function(){if(X(tl(a),b))return Xu(a).then((function(){throw new cr("provider-already-linked")}))}))}function ll(a,b,e){return Xi({user:a,credential:Oo(b),additionalUserInfo:b=Qr(b),operationType:e})}function hl(a,b){return sl(a,b),a.reload().then((function(){return a}))}function fl(a,b,e,t,n){if(!Ni())return ct(new cr("operation-not-supported-in-this-environment"));if(a.h&&!n)return ct(a.h);var o=Wr(e.providerId),g=Fi(a.uid+":::"),c=null;(!Oi()||vi())&&a.o&&e.isOAuthProvider&&(c=tc(a.o,a.l,a.m,b,e,null,g,r.a.SDK_VERSION||null,null,null,a.tenantId));var l=fi(c,o&&o.sa,o&&o.ra);return t=t().then((function(){if(ml(a),!n)return a.G().then((function(){}))})).then((function(){return ol(a.i,l,b,e,g,!!c,a.tenantId)})).then((function(){return new Ze((function(p,u){a.ja(b,null,new cr("cancelled-popup-request"),a.g||null),a.f=p,a.v=u,a.g=g,a.c=xu(a.i,a,b,l,g)}))})).then((function(p){return l&&di(l),p?Xi(p):null})).s((function(p){throw l&&di(l),p})),bl(a,t,n)}function pl(a,b,e,t,n){if(!Ni())return ct(new cr("operation-not-supported-in-this-environment"));if(a.h&&!n)return ct(a.h);var r=null,g=Fi(a.uid+":::");return t=t().then((function(){if(ml(a),!n)return a.G().then((function(){}))})).then((function(){return a.ca=g,Xu(a)})).then((function(e){return a.da&&(e=(e=a.da).b.set(yl,a.A(),e.a)),e})).then((function(){return ku(a.i,b,e,g,a.tenantId)})).s((function(e){if(r=e,a.da)return wl(a.da);throw r})).then((function(){if(r)throw r})),bl(a,t,n)}function ml(a){if(!a.i||!a.J){if(a.i&&!a.J)throw new cr("internal-error");throw new cr("auth-domain-config-required")}}function bl(a,b,e){var t=function(a,b,e){return a.h&&!e?(b.cancel(),ct(a.h)):b.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(a.h||a.dispatchEvent(new Bu("userInvalidated")),a.h=e),e}))}(a,b,e);return a.I.push(t),t.ka((function(){J(a.I,t)})),t}function gl(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},e={};if(!(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime))return null;e[Ka]=a.stsTokenManager.accessToken,e.refreshToken=a.stsTokenManager.refreshToken||null,e.expiresIn=(a.stsTokenManager.expirationTime-R())/1e3;var t=new ju(b,e,a);return a.providerData&&Q(a.providerData,(function(e){e&&em(t,Xi(e))})),a.redirectEventId&&(t.ca=a.redirectEventId),t}function vl(a){this.a=a,this.b=Fc()}dl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},dl.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var e=a.c,t=a.b,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=e||n||r?a.a?(_u(this,!0,null,a.a),st()):b.Ba(e,t)?function(a,b,e){e=e.Ba(b.c,b.b);var t=b.g,n=b.f,r=b.i,g=b.R(),o=!!b.c.match(/Redirect$/);e(t,n,g,r).then((function(e){_u(a,o,e,null)})).s((function(e){_u(a,o,null,e)}))}(this,a,b):ct(new cr("invalid-auth-event")):(_u(this,!1,null,null),st())}else ct(new cr("invalid-auth-event"))},dl.prototype.oa=function(){var a=this;return new Ze((function(b,e){a.b?a.b().then(b,e):(a.f.push(b),a.c.push(e),function(a){var b=new cr("timeout");a.a&&a.a.cancel(),a.a=wn(yu.get()).then((function(){a.b||(a.g=!0,_u(a,!0,null,b))}))}(a))}))},Cu.prototype.h=function(a,b){if(a){var e=a.c,t=a.b;a.a?(b.ja(a.c,null,a.a,a.b),st()):b.Ba(e,t)?function(a,b){var e=a.b,t=a.c;b.Ba(t,e)(a.g,a.f,a.R(),a.i).then((function(n){b.ja(t,n,null,e)})).s((function(n){b.ja(t,null,n,e)}))}(a,b):ct(new cr("invalid-auth-event"))}else ct(new cr("invalid-auth-event"))},Du.prototype.confirm=function(a){return a=Ro(this.verificationId,a),this.a(a)},Lu.prototype.start=function(){this.a=this.c,function e(a,b){a.stop(),a.b=wn(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then((function(){return function(){var a=d.document,b=null;return Bi()||!a?st():new Ze((function(e){b=function(){Bi()&&(a.removeEventListener("visibilitychange",b,!1),e())},a.addEventListener("visibilitychange",b,!1)})).s((function(e){throw a.removeEventListener("visibilitychange",b,!1),e}))}()})).then((function(){return a.h()})).then((function(){e(a,!0)})).s((function(t){a.i(t)&&e(a,!1)}))}(this,!0)},Lu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Mu.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Mu.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?ct(new cr("user-token-expired")):a||!this.b||R()>this.c-3e4?this.a?Vu(this,{grant_type:"refresh_token",refresh_token:this.a}):st(null):st({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},qu.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(Bu,Kt),O(ju,mn),ju.prototype.ua=function(a){this.ga=a,Xa(this.a,a)},ju.prototype.ha=function(){return this.ga},ju.prototype.Ca=function(){return ee(this.P)},ju.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Hi(ju.prototype,"providerId","firebase"),(t=ju.prototype).reload=function(){var a=this;return bl(this,el(this).then((function(){return al(a).then((function(){return Xu(a)})).then(Zu)})))},t.dc=function(a){return this.G(a).then((function(b){return new Ou(b)}))},t.G=function(a){var b=this;return bl(this,el(this).then((function(){return b.b.getToken(a)})).then((function(e){if(!e)throw new cr("internal-error");return e.accessToken!=b.ma&&(Yu(b,e.accessToken),b.dispatchEvent(new Bu("tokenChanged"))),il(b,"refreshToken",e.refreshToken),e.accessToken})))},t.zc=function(a){if(!(a=a.users)||!a.length)throw new cr("internal-error");$u(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?H(a,(function(b){return new Uu(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)})):[]}(a),e=0;e<b.length;e++)em(this,b[e]);il(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(a){return Wi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(a)},t.hb=function(a){var b=this,e=null;return bl(this,a.f(this.a,this.uid).then((function(t){return sl(b,t),e=ll(b,t,"reauthenticate"),b.h=null,b.reload()})).then((function(){return e})),!0)},t.rc=function(a){return Wi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(a)},t.fb=function(a){var b=this,e=null;return bl(this,cl(this,a.providerId).then((function(){return b.G()})).then((function(e){return a.b(b.a,e)})).then((function(t){return e=ll(b,t,"link"),hl(b,t)})).then((function(){return e})))},t.sc=function(a,b){var e=this;return bl(this,cl(this,"phone").then((function(){return Ru(Wu(e),a,b,N(e.fb,e))})))},t.Bc=function(a,b){var e=this;return bl(this,st().then((function(){return Ru(Wu(e),a,b,N(e.hb,e))})),!0)},t.rb=function(a){var b=this;return bl(this,this.G().then((function(e){return b.a.rb(e,a)})).then((function(e){return sl(b,e),b.reload()})))},t.Sc=function(a){var b=this;return bl(this,this.G().then((function(e){return a.b(b.a,e)})).then((function(e){return sl(b,e),b.reload()})))},t.sb=function(a){var b=this;return bl(this,this.G().then((function(e){return b.a.sb(e,a)})).then((function(e){return sl(b,e),b.reload()})))},t.tb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return el(this);var b=this;return bl(this,this.G().then((function(e){return b.a.tb(e,{displayName:a.displayName,photoUrl:a.photoURL})})).then((function(e){return sl(b,e),il(b,"displayName",e.displayName||null),il(b,"photoURL",e.photoUrl||null),Q(b.providerData,(function(e){"password"===e.providerId&&(Hi(e,"displayName",b.displayName),Hi(e,"photoURL",b.photoURL))})),Xu(b)})).then(Zu))},t.Qc=function(a){var b=this;return bl(this,al(this).then((function(e){return X(tl(b),a)?function(a,b,e){return Us(a,vs,{idToken:b,deleteProvider:e})}(b.a,e,[a]).then((function(e){var t={};return Q(e.providerUserInfo||[],(function(e){t[e.providerId]=!0})),Q(tl(b),(function(e){t[e]||nl(b,e)})),t[Do.PROVIDER_ID]||Hi(b,"phoneNumber",null),Xu(b)})):Xu(b).then((function(){throw new cr("no-such-provider")}))})))},t.delete=function(){var a=this;return bl(this,this.G().then((function(b){return Us(a.a,gs,{idToken:b})})).then((function(){a.dispatchEvent(new Bu("userDeleted"))}))).then((function(){for(var b=0;b<a.I.length;b++)a.I[b].cancel("app-deleted");zu(a,null),Ku(a,null),a.I=[],a.B=!0,Hu(a),Hi(a,"refreshToken",null),a.i&&gu(a.i,a)}))},t.xb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.ca||null)==b||"reauthViaRedirect"==a&&(this.ca||null)==b)},t.ja=function(a,b,e,t){"linkViaPopup"!=a&&"reauthViaPopup"!=a||t!=(this.g||null)||(e&&this.v?this.v(e):b&&!e&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?N(this.Bb,this):"reauthViaPopup"==a&&b==(this.g||null)?N(this.Cb,this):"linkViaRedirect"==a&&(this.ca||null)==b?N(this.Bb,this):"reauthViaRedirect"==a&&(this.ca||null)==b?N(this.Cb,this):null},t.tc=function(a){var b=this;return fl(this,"linkViaPopup",a,(function(){return cl(b,a.providerId).then((function(){return Xu(b)}))}),!1)},t.Cc=function(a){return fl(this,"reauthViaPopup",a,(function(){return st()}),!0)},t.uc=function(a){var b=this;return pl(this,"linkViaRedirect",a,(function(){return cl(b,a.providerId)}),!1)},t.Dc=function(a){return pl(this,"reauthViaRedirect",a,(function(){return st()}),!0)},t.Bb=function(a,b,e,t){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return bl(this,this.G().then((function(g){return ls(n.a,{requestUri:a,postBody:t,sessionId:b,idToken:g})})).then((function(g){return r=ll(n,g,"link"),hl(n,g)})).then((function(){return r})))},t.Cb=function(a,b,e,t){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return bl(this,st().then((function(){return ro(hs(n.a,{requestUri:a,sessionId:b,postBody:t,tenantId:e}),n.uid)})).then((function(e){return r=ll(n,e,"reauthenticate"),sl(n,e),n.h=null,n.reload()})).then((function(){return r})),!0)},t.jb=function(a){var b=this,e=null;return bl(this,this.G().then((function(t){return e=t,void 0===a||ne(a)?{}:Or(new Tr(a))})).then((function(t){return b.a.jb(e,t)})).then((function(e){if(b.email!=e)return b.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&oe(a,this.metadata.A()),Q(this.providerData,(function(b){a.providerData.push(function(a){var e,b={};for(e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);return b}(b))})),a};var yl={name:"redirectUser",C:"session"};function wl(a){return Uc(a.b,yl,a.a)}function kl(a){this.a=a,this.b=Fc(),this.c=null,this.f=function(a){var b=Il("local"),e=Il("session"),t=Il("none");return function(a,b,e){var t=qc(b,e),n=Vc(a,b.C);return a.get(b,e).then((function(r){var g=null;try{g=Pi(d.localStorage.getItem(t))}catch(e){}if(g&&!r)return d.localStorage.removeItem(t),a.set(b,g,e);g&&r&&"localStorage"!=n.type&&d.localStorage.removeItem(t)}))}(a.b,b,a.a).then((function(){return a.b.get(e,a.a)})).then((function(n){return n?e:a.b.get(t,a.a).then((function(e){return e?t:a.b.get(b,a.a).then((function(g){return g?b:a.b.get(Tl,a.a).then((function(e){return e?Il(e):b}))}))}))})).then((function(e){return a.c=e,xl(a,e.C)})).s((function(){a.c||(a.c=b)}))}(this),this.b.addListener(Il("local"),this.a,N(this.g,this))}function xl(a,b){var e,t=[];for(e in Mc)Mc[e]!==b&&t.push(Uc(a.b,Il(Mc[e]),a.a));return t.push(Uc(a.b,Tl,a.a)),function(a){return new Ze((function(b,e){var t=a.length,n=[];if(t)for(var r=function(p,u){t--,n[p]=u,0==t&&b(n)},g=function(p){e(p)},o=0;o<a.length;o++)ut(a[o],D(r,o),g);else b(n)}))}(t)}kl.prototype.g=function(){var a=this,b=Il("local");_l(this,(function(){return st().then((function(){return a.c&&"local"!=a.c.C?a.b.get(b,a.a):null})).then((function(e){if(e)return xl(a,"local").then((function(){a.c=b}))}))}))};var Tl={name:"persistence",C:"session"};function Il(a){return{name:"authUser",C:a}}function El(a,b){return _l(a,(function(){return a.b.set(a.c,b.A(),a.a)}))}function Sl(a){return _l(a,(function(){return Uc(a.b,a.c,a.a)}))}function Al(a,b){return _l(a,(function(){return a.b.get(a.c,a.a).then((function(e){return e&&b&&(e.authDomain=b),gl(e||{})}))}))}function _l(a,b){return a.f=a.f.then(b,b),a.f}function Cl(a){if(this.l=!1,Hi(this,"settings",new Nu),Hi(this,"app",a),!Fl(this).options||!Fl(this).options.apiKey)throw new cr("invalid-api-key");a=r.a.SDK_VERSION?Si(r.a.SDK_VERSION):null,this.b=new za(Fl(this).options&&Fl(this).options.apiKey,jr(Ur),a),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(N(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(N(this.pc,this)),Ml(this,null),this.h=new kl(Fl(this).options.apiKey+":"+Fl(this).name),this.w=new vl(Fl(this).options.apiKey+":"+Fl(this).name),this.Y=Bl(this,function(a){var b=Fl(a).options.authDomain,e=function(a){var b=function(a,b){return a.b.get(yl,a.a).then((function(e){return e&&b&&(e.authDomain=b),gl(e||{})}))}(a.w,Fl(a).options.authDomain).then((function(e){return(a.B=e)&&(e.da=a.w),wl(a.w)}));return Bl(a,b)}(a).then((function(){return Al(a.h,b)})).then((function(e){return e?(e.da=a.w,a.B&&(a.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return El(a.h,e).then((function(){return e}))})).s((function(t){return"auth/network-request-failed"==t.code?e:Sl(a.h)}))):null})).then((function(e){Ml(a,e||null)}));return Bl(a,e)}(this)),this.i=Bl(this,function(a){return a.Y.then((function(){return Ol(a)})).s((function(){})).then((function(){if(!a.l)return a.ma()})).s((function(){})).then((function(){if(!a.l){a.ga=!0;var b=a.h;b.b.addListener(Il("local"),b.a,a.ma)}}))}(this)),this.ga=!1,this.ma=N(this.Nc,this),this.ub=N(this.aa,this),this.wa=N(this.bc,this),this.xa=N(this.mc,this),this.Ja=N(this.nc,this),this.a=null,function(a){var b=Fl(a).options.authDomain,e=Fl(a).options.apiKey;b&&Ni()&&(a.Tb=a.Y.then((function(){if(!a.l){if(a.a=Iu(b,e,Fl(a).name),bu(a.a,a),Vl(a)&&Ju(Vl(a)),a.B){Ju(a.B);var t=a.B;t.ua(a.ha()),zu(t,a),Gu(t=a.B,a.I),Ku(t,a),a.B=null}return a.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=N(this.delete,this),this.INTERNAL.logFramework=N(this.vc,this),this.o=0,mn.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.ha()},set:function(b){this.ua(b)},enumerable:!1}),a.Z=null,Object.defineProperty(a,"ti",{get:function(){return this.R()},set:function(b){this.nb(b)},enumerable:!1}),a.P=null}(this),this.I=[]}function Nl(a){Kt.call(this,"languageCodeChanged"),this.g=a}function Dl(a){Kt.call(this,"frameworkChanged"),this.c=a}function Rl(a){return a.Tb||ct(new cr("auth-domain-config-required"))}function Ol(a){if(!Ni())return ct(new cr("operation-not-supported-in-this-environment"));var b=Rl(a).then((function(){return a.a.oa()})).then((function(e){return e?Xi(e):null}));return Bl(a,b)}function Ll(a,b){var e={};return e.apiKey=Fl(a).options.apiKey,e.authDomain=Fl(a).options.authDomain,e.appName=Fl(a).name,a.Y.then((function(){return function(a,b,e,t){var n=new ju(a,b);return e&&(n.da=e),t&&Gu(n,t),n.reload().then((function(){return n}))}(e,b,a.w,a.Ca())})).then((function(e){return Vl(a)&&e.uid==Vl(a).uid?(rl(Vl(a),e),a.aa(e)):(Ml(a,e),Ju(e),a.aa(e))})).then((function(){Ul(a)}))}function Ml(a,b){Vl(a)&&(function(a,b){$(a.O,(function(e){return e==b}))}(Vl(a),a.ub),sn(Vl(a),"tokenChanged",a.wa),sn(Vl(a),"userDeleted",a.xa),sn(Vl(a),"userInvalidated",a.Ja),Hu(Vl(a))),b&&(b.O.push(a.ub),rn(b,"tokenChanged",a.wa),rn(b,"userDeleted",a.xa),rn(b,"userInvalidated",a.Ja),0<a.o&&Qu(b)),Hi(a,"currentUser",b),b&&(b.ua(a.ha()),zu(b,a),Gu(b,a.I),Ku(b,a))}function Pl(a,b){var e=null,t=null;return Bl(a,b.then((function(n){return e=Oo(n),t=Qr(n),Ll(a,n)})).then((function(){return Xi({user:Vl(a),credential:e,additionalUserInfo:t,operationType:"signIn"})})))}function Fl(a){return a.app}function Vl(a){return a.currentUser}function ql(a){return Vl(a)&&Vl(a)._lat||null}function Ul(a){if(a.ga){for(var b=0;b<a.m.length;b++)a.m[b]&&a.m[b](ql(a));if(a.W!==a.getUid()&&a.J.length)for(a.W=a.getUid(),b=0;b<a.J.length;b++)a.J[b]&&a.J[b](ql(a))}}function Bl(a,b){return a.O.push(b),b.ka((function(){J(a.O,b)})),b}function jl(){}function zl(){this.a={},this.b=1e12}kl.prototype.mb=function(a){var b=null,e=this;return function(a){var b=new cr("invalid-persistence-type"),e=new cr("unsupported-persistence-type");e:{for(t in Mc)if(Mc[t]==a){var t=!0;break e}t=!1}if(!t||"string"!=typeof a)throw b;switch(wi()){case"ReactNative":if("session"===a)throw e;break;case"Node":if("none"!==a)throw e;break;default:if(!Ci()&&"none"!==a)throw e}}(a),_l(this,(function(){return a!=e.c.C?e.b.get(e.c,e.a).then((function(t){return b=t,xl(e,a)})).then((function(){if(e.c=Il(a),b)return e.b.set(e.c,b,e.a)})):st()}))},O(Cl,mn),O(Nl,Kt),O(Dl,Kt),(t=Cl.prototype).mb=function(a){return Bl(this,a=this.h.mb(a))},t.ua=function(a){this.Z===a||this.l||(this.Z=a,Xa(this.b,this.Z),this.dispatchEvent(new Nl(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var a=d.navigator;this.ua(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},t.vc=function(a){this.I.push(a),Ja(this.b,r.a.SDK_VERSION?Si(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new Dl(this.I))},t.Ca=function(){return ee(this.I)},t.nb=function(a){this.P===a||this.l||(this.P=a,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:Fl(this).options.apiKey,authDomain:Fl(this).options.authDomain,appName:Fl(this).name,currentUser:Vl(this)&&Vl(this).A()}},t.xb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},t.ja=function(a,b,e,t){"signInViaPopup"==a&&this.g==t&&(e&&this.v?this.v(e):b&&!e&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?N(this.ac,this):null},t.ac=function(a,b,e,t){var n=this;a={requestUri:a,postBody:t,sessionId:b,tenantId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,g=null,o=us(n.b,a).then((function(e){return r=Oo(e),g=Qr(e),e}));return Bl(this,a=n.Y.then((function(){return o})).then((function(e){return Ll(n,e)})).then((function(){return Xi({user:Vl(n),credential:r,additionalUserInfo:g,operationType:"signIn"})})))},t.Lc=function(a){if(!Ni())return ct(new cr("operation-not-supported-in-this-environment"));var b=this,e=Wr(a.providerId),t=Fi(),n=null;(!Oi()||vi())&&Fl(this).options.authDomain&&a.isOAuthProvider&&(n=tc(Fl(this).options.authDomain,Fl(this).options.apiKey,Fl(this).name,"signInViaPopup",a,null,t,r.a.SDK_VERSION||null,null,null,this.R()));var o=fi(n,e&&e.sa,e&&e.ra);return Bl(this,e=Rl(this).then((function(g){return ol(g,o,"signInViaPopup",a,t,!!n,b.R())})).then((function(){return new Ze((function(g,e){b.ja("signInViaPopup",null,new cr("cancelled-popup-request"),b.g),b.f=g,b.v=e,b.g=t,b.c=xu(b.a,b,"signInViaPopup",o,t)}))})).then((function(g){return o&&di(o),g?Xi(g):null})).s((function(g){throw o&&di(o),g})))},t.Mc=function(a){if(!Ni())return ct(new cr("operation-not-supported-in-this-environment"));var b=this;return Bl(this,Rl(this).then((function(){return function(a){return _l(a,(function(){return a.b.set(Tl,a.c.C,a.a)}))}(b.h)})).then((function(){return ku(b.a,"signInViaRedirect",a,void 0,b.R())})))},t.oa=function(){var a=this;return Ol(this).then((function(b){return a.a&&Su(a.a.b),b})).s((function(b){throw a.a&&Su(a.a.b),b}))},t.Rc=function(a){if(!a)return ct(new cr("null-user"));if(this.P!=a.tenantId)return ct(new cr("tenant-id-mismatch"));var b=this,e={};e.apiKey=Fl(this).options.apiKey,e.authDomain=Fl(this).options.authDomain,e.appName=Fl(this).name;var t=function(a,b,e,t){b=b||{apiKey:a.l,authDomain:a.o,appName:a.m};var n=a.b,r={};return r[Ka]=n.b,r.refreshToken=n.a,r.expiresIn=(n.c-R())/1e3,b=new ju(b,r),e&&(b.da=e),t&&Gu(b,t),rl(b,a),b}(a,e,b.w,b.Ca());return Bl(this,this.i.then((function(){if(Fl(b).options.apiKey!=a.l)return t.reload()})).then((function(){return Vl(b)&&a.uid==Vl(b).uid?(rl(Vl(b),a),b.aa(a)):(Ml(b,t),Ju(t),b.aa(t))})).then((function(){Ul(b)})))},t.pb=function(){var a=this;return Bl(this,this.i.then((function(){return a.a&&Su(a.a.b),Vl(a)?(Ml(a,null),Sl(a.h).then((function(){Ul(a)}))):st()})))},t.Nc=function(){var a=this;return Al(this.h,Fl(this).options.authDomain).then((function(b){if(!a.l){var e;if(e=Vl(a)&&b){e=Vl(a).uid;var t=b.uid;e=null!=e&&""!==e&&null!=t&&""!==t&&e==t}if(e)return rl(Vl(a),b),Vl(a).G();(Vl(a)||b)&&(Ml(a,b),b&&(Ju(b),b.da=a.w),a.a&&bu(a.a,a),Ul(a))}}))},t.aa=function(a){return El(this.h,a)},t.bc=function(){Ul(this),this.aa(Vl(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(a){var b=this;this.addAuthTokenListener((function(){a.next(Vl(b))}))},t.pc=function(a){var b=this;!function(a,b){a.J.push(b),Bl(a,a.i.then((function(){!a.l&&X(a.J,b)&&a.W!==a.getUid()&&(a.W=a.getUid(),b(ql(a)))})))}(this,(function(){a.next(Vl(b))}))},t.xc=function(a,b,e){var t=this;return this.ga&&Promise.resolve().then((function(){q(a)?a(Vl(t)):q(a.next)&&a.next(Vl(t))})),this.Ub(a,b,e)},t.wc=function(a,b,e){var t=this;return this.ga&&Promise.resolve().then((function(){t.W=t.getUid(),q(a)?a(Vl(t)):q(a.next)&&a.next(Vl(t))})),this.Vb(a,b,e)},t.cc=function(a){var b=this;return Bl(this,this.i.then((function(){return Vl(b)?Vl(b).G(a).then((function(e){return{accessToken:e}})):null})))},t.Hc=function(a){var b=this;return this.i.then((function(){return Pl(b,Us(b.b,Ms,{token:a}))})).then((function(e){var t=e.user;return il(t,"isAnonymous",!1),b.aa(t),e}))},t.Ic=function(a,b){var e=this;return this.i.then((function(){return Pl(e,Us(e.b,Ps,{email:a,password:b}))}))},t.Xb=function(a,b){var e=this;return this.i.then((function(){return Pl(e,Us(e.b,ms,{email:a,password:b}))}))},t.Sa=function(a){var b=this;return this.i.then((function(){return Pl(b,a.na(b.b))}))},t.Gc=function(a){return Wi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(a)},t.ob=function(){var a=this;return this.i.then((function(){var b=Vl(a);if(b&&b.isAnonymous){var e=Xi({providerId:null,isNewUser:!1});return Xi({user:b,credential:null,additionalUserInfo:e,operationType:"signIn"})}return Pl(a,a.b.ob()).then((function(e){var t=e.user;return il(t,"isAnonymous",!0),a.aa(t),e}))}))},t.getUid=function(){return Vl(this)&&Vl(this).uid||null},t.Wb=function(a){this.addAuthTokenListener(a),this.o++,0<this.o&&Vl(this)&&Qu(Vl(this))},t.Ec=function(a){var b=this;Q(this.m,(function(e){e==a&&b.o--})),0>this.o&&(this.o=0),0==this.o&&Vl(this)&&Hu(Vl(this)),this.removeAuthTokenListener(a)},t.addAuthTokenListener=function(a){var b=this;this.m.push(a),Bl(this,this.i.then((function(){b.l||X(b.m,a)&&a(ql(b))})))},t.removeAuthTokenListener=function(a){$(this.m,(function(b){return b==a}))},t.delete=function(){this.l=!0;for(var a=0;a<this.O.length;a++)this.O[a].cancel("app-deleted");return this.O=[],this.h&&(a=this.h).b.removeListener(Il("local"),a.a,this.ma),this.a&&(gu(this.a,this),Su(this.a.b)),Promise.resolve()},t.$b=function(a){return Bl(this,function(a,b){return Us(a,bs,{identifier:b,continueUri:Di()?ci():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,a))},t.qc=function(a){return!!Ao(a)},t.lb=function(a,b){var e=this;return Bl(this,st().then((function(){var e=new Tr(b);if(!e.c)throw new cr("argument-error",Sr+" must be true when sending sign in link to email");return Or(e)})).then((function(t){return e.b.lb(a,t)})).then((function(){})))},t.Uc=function(a){return this.Ma(a).then((function(b){return b.data.email}))},t.ab=function(a,b){return Bl(this,this.b.ab(a,b).then((function(){})))},t.Ma=function(a){return Bl(this,this.b.Ma(a).then((function(b){return new $i(b)})))},t.Ya=function(a){return Bl(this,this.b.Ya(a).then((function(){})))},t.kb=function(a,b){var e=this;return Bl(this,st().then((function(){return void 0===b||ne(b)?{}:Or(new Tr(b))})).then((function(t){return e.b.kb(a,t)})).then((function(){})))},t.Kc=function(a,b){return Bl(this,Ru(this,a,b,N(this.Sa,this)))},t.Jc=function(a,b){var e=this;return Bl(this,st().then((function(){var t=b||ci(),n=So(a,t);if(!(t=Ao(t)))throw new cr("argument-error","Invalid email link!");if(t.tenantId!==e.R())throw new cr("tenant-id-mismatch");return e.Sa(n)})))},jl.prototype.render=function(){},jl.prototype.reset=function(){},jl.prototype.getResponse=function(){},jl.prototype.execute=function(){};var Gl=null;function Kl(a,b){return(b=Wl(b))&&a.a[b]||null}function Wl(a){return(a=void 0===a?1e12:a)?a.toString():null}function Ql(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Jn(a);var e=this;this.i=function(){e.execute()},this.h?this.execute():rn(this.f,"click",this.i)}function Hl(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function Yl(){}zl.prototype.render=function(a,b){return this.a[this.b.toString()]=new Ql(a,b),this.b++},zl.prototype.reset=function(a){var b=Kl(this,a);a=Wl(a),b&&a&&(b.delete(),delete this.a[a])},zl.prototype.getResponse=function(a){return(a=Kl(this,a))?a.getResponse():null},zl.prototype.execute=function(a){(a=Kl(this,a))&&a.execute()},Ql.prototype.getResponse=function(){return Hl(this),this.b},Ql.prototype.execute=function(){Hl(this);var a=this;this.a||(this.a=setTimeout((function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,e=a.c["expired-callback"];if(b)try{b(a.b)}catch(e){}a.a=setTimeout((function(){if(a.a=null,a.b=null,e)try{e()}catch(e){}a.h&&a.execute()}),6e4)}),500))},Ql.prototype.delete=function(){Hl(this),this.g=!0,clearTimeout(this.a),this.a=null,sn(this.f,"click",this.i)},Yl.prototype.g=function(){return Gl||(Gl=new zl),st(Gl)},Yl.prototype.c=function(){};var Xl=null;function Jl(){this.b=d.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var $l=new ae(ue,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Zl=new Ui(3e4,6e4);Jl.prototype.g=function(a){var b=this;return new Ze((function(e,t){var n=setTimeout((function(){t(new cr("network-request-failed"))}),Zl.get());!d.grecaptcha||a!==b.f&&!b.b?(d[b.a]=function(){if(d.grecaptcha){b.f=a;var g=d.grecaptcha.render;d.grecaptcha.render=function(e,t){return e=g(e,t),b.b++,e},clearTimeout(n),e(d.grecaptcha)}else clearTimeout(n),t(new cr("internal-error"));delete d[b.a]},st(Pa(fe($l,{onload:b.a,hl:a||""}))).s((function(){clearTimeout(n),t(new cr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(n),e(d.grecaptcha))}))},Jl.prototype.c=function(){this.b--};var eh=null;function nh(a,b,e,t,n,r,g){if(Hi(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=b,this.g=null,g?(Xl||(Xl=new Yl),g=Xl):(eh||(eh=new Jl),g=eh),this.m=g,this.a=e||{theme:"light",type:"image"},this.h=[],this.a[oh])throw new cr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[ah],!d.document)throw new cr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Jn(b)||!this.i&&Jn(b).hasChildNodes())throw new cr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new za(a,r||null,n||null),this.v=t||function(){return null};var o=this;this.l=[];var c=this.a[ih];this.a[ih]=function(u){if(sh(o,u),"function"==typeof c)c(u);else if("string"==typeof c){var e=_i(c,d);"function"==typeof e&&e(u)}};var p=this.a[rh];this.a[rh]=function(){if(sh(o,null),"function"==typeof p)p();else if("string"==typeof p){var u=_i(p,d);"function"==typeof u&&u()}}}var ih="callback",rh="expired-callback",oh="sitekey",ah="size";function sh(a,b){for(var e=0;e<a.l.length;e++)try{a.l[e](b)}catch(e){}}function ch(a,b){return a.h.push(b),b.ka((function(){J(a.h,b)})),b}function uh(a){if(a.B)throw new cr("internal-error","RecaptchaVerifier instance has been destroyed.")}function lh(a,b,e){var t=!1;try{this.b=e||r.a.app()}catch(e){throw new cr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new cr("invalid-api-key");e=this.b.options.apiKey;var n=this,o=null;try{o=this.b.auth().Ca()}catch(e){}try{t=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=r.a.SDK_VERSION?Si(r.a.SDK_VERSION,o):null,nh.call(this,e,a,b,(function(){try{var g=n.b.auth().ha()}catch(e){g=null}return g}),o,jr(Ur),t)}function hh(a,b,e,t){e:{e=Array.prototype.slice.call(e);for(var n=0,r=!1,g=0;g<b.length;g++)if(b[g].optional)r=!0;else{if(r)throw new cr("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,e.length<n||r<e.length)t="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+e.length+".";else{for(n=0;n<e.length;n++)if(r=b[n].optional&&void 0===e[n],!b[n].N(e[n])&&!r){if(b=b[n],0>n||n>=dh.length)throw new cr("internal-error","Argument validator received an unsupported number of arguments.");e=dh[n],t=(t?"":e+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.M+".";break e}t=null}}if(t)throw new cr("argument-error",a+" failed: "+t)}(t=nh.prototype).Da=function(){var a=this;return this.f?this.f:this.f=ch(this,st().then((function(){if(Di()&&!yi())return bi();throw new cr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return a.m.g(a.v())})).then((function(b){return a.g=b,Us(a.o,Ss,{})})).then((function(b){a.a[oh]=b.recaptchaSiteKey})).s((function(b){throw a.f=null,b})))},t.render=function(){uh(this);var a=this;return ch(this,this.Da().then((function(){if(null===a.c){var b=a.u;if(!a.i){var e=Jn(b);b=ei("DIV"),e.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c})))},t.verify=function(){uh(this);var a=this;return ch(this,this.render().then((function(b){return new Ze((function(e){var t=a.g.getResponse(b);if(t)e(t);else{var n=function(t){t&&(function(a,b){$(a.l,(function(e){return e==b}))}(a,n),e(t))};a.l.push(n),a.i&&a.g.execute(a.c)}}))})))},t.reset=function(){uh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){uh(this),this.B=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=Jn(this.u);for(var b;b=a.firstChild;)a.removeChild(b)}},O(lh,nh);var dh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function fh(a,b){return{name:a||"",M:"a valid string",optional:!!b,N:f}}function ph(a,b){return{name:a||"",M:"a boolean",optional:!!b,N:m}}function mh(a,b){return{name:a||"",M:"a valid object",optional:!!b,N:E}}function bh(a,b){return{name:a||"",M:"a function",optional:!!b,N:q}}function gh(a,b){return{name:a||"",M:"null",optional:!!b,N:x}}function vh(a){return{name:a?a+"Credential":"credential",M:a?"a valid "+a+" credential":"a valid credential",optional:!1,N:function(b){if(!b)return!1;var e=!a||b.providerId===a;return!(!b.na||!e)}}}function yh(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(a){return!!(a&&f(a.type)&&q(a.verify))}}}function wh(a,b,e,t){return{name:e||"",M:a.M+" or "+b.M,optional:!!t,N:function(e){return a.N(e)||b.N(e)}}}function kh(a,b){for(var e in b){var t=b[e].name;a[t]=Ih(t,a[e],b[e].j)}}function xh(a,b){for(var e in b){var t=b[e].name;t!==e&&Object.defineProperty(a,t,{get:D((function(e){return this[e]}),e),set:D((function(e,t,g,n){hh(e,[g],[n],!0),this[t]=n}),t,e,b[e].Za),enumerable:!0})}}function Th(a,b,e,t){a[b]=Ih(b,e,t)}function Ih(a,b,e){function t(){var g=Array.prototype.slice.call(arguments);return hh(r,e,g),b.apply(this,g)}if(!e)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)t[n]=b[n];for(n in b.prototype)t.prototype[n]=b.prototype[n];return t}kh(Cl.prototype,{Ya:{name:"applyActionCode",j:[fh("code")]},Ma:{name:"checkActionCode",j:[fh("code")]},ab:{name:"confirmPasswordReset",j:[fh("code"),fh("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[fh("email"),fh("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[fh("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[fh("emailLink")]},wc:{name:"onAuthStateChanged",j:[wh(mh(),bh(),"nextOrObserver"),bh("opt_error",!0),bh("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[wh(mh(),bh(),"nextOrObserver"),bh("opt_error",!0),bh("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[fh("email"),wh(mh("opt_actionCodeSettings",!0),gh(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[fh("email"),mh("actionCodeSettings")]},mb:{name:"setPersistence",j:[fh("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[vh()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[vh()]},Hc:{name:"signInWithCustomToken",j:[fh("token")]},Ic:{name:"signInWithEmailAndPassword",j:[fh("email"),fh("password")]},Jc:{name:"signInWithEmailLink",j:[fh("email"),fh("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[fh("phoneNumber"),yh()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[wh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(b){return!!(b&&b instanceof ju)}},gh(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[fh(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[fh("code")]}}),xh(Cl.prototype,{lc:{name:"languageCode",Za:wh(fh(),gh(),"languageCode")},ti:{name:"tenantId",Za:wh(fh(),gh(),"tenantId")}}),Cl.Persistence=Mc,Cl.Persistence.LOCAL="local",Cl.Persistence.SESSION="session",Cl.Persistence.NONE="none",kh(ju.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[ph("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[ph("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[vh()]},fb:{name:"linkWithCredential",j:[vh()]},sc:{name:"linkWithPhoneNumber",j:[fh("phoneNumber"),yh()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[vh()]},hb:{name:"reauthenticateWithCredential",j:[vh()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[fh("phoneNumber"),yh()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[wh(mh("opt_actionCodeSettings",!0),gh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[fh(null,!0)]},Qc:{name:"unlink",j:[fh("provider")]},rb:{name:"updateEmail",j:[fh("email")]},sb:{name:"updatePassword",j:[fh("password")]},Sc:{name:"updatePhoneNumber",j:[vh("phone")]},tb:{name:"updateProfile",j:[mh("profile")]}}),kh(zl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kh(jl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kh(Ze.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),xh(Nu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:ph("appVerificationDisabledForTesting")}}),kh(Du.prototype,{confirm:{name:"confirm",j:[fh("verificationCode")]}}),Th(io,"fromJSON",(function(a){a=f(a)?JSON.parse(a):a;for(var b,e=[lo,Io,Co,so],t=0;t<e.length;t++)if(b=e[t](a))return b;return null}),[wh(fh(),mh(),"json")]),Th(Eo,"credential",(function(a,b){return new To(a,b)}),[fh("email"),fh("password")]),kh(To.prototype,{A:{name:"toJSON",j:[fh(null,!0)]}}),kh(mo.prototype,{ya:{name:"addScope",j:[fh("scope")]},Ga:{name:"setCustomParameters",j:[mh("customOAuthParameters")]}}),Th(mo,"credential",bo,[wh(fh(),mh(),"token")]),Th(Eo,"credentialWithLink",So,[fh("email"),fh("emailLink")]),kh(go.prototype,{ya:{name:"addScope",j:[fh("scope")]},Ga:{name:"setCustomParameters",j:[mh("customOAuthParameters")]}}),Th(go,"credential",vo,[wh(fh(),mh(),"token")]),kh(yo.prototype,{ya:{name:"addScope",j:[fh("scope")]},Ga:{name:"setCustomParameters",j:[mh("customOAuthParameters")]}}),Th(yo,"credential",wo,[wh(fh(),wh(mh(),gh()),"idToken"),wh(fh(),gh(),"accessToken",!0)]),kh(ko.prototype,{Ga:{name:"setCustomParameters",j:[mh("customOAuthParameters")]}}),Th(ko,"credential",xo,[wh(fh(),mh(),"token"),fh("secret",!0)]),kh(po.prototype,{ya:{name:"addScope",j:[fh("scope")]},credential:{name:"credential",j:[wh(fh(),wh(mh(),gh()),"optionsOrIdToken"),wh(fh(),gh(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[mh("customOAuthParameters")]}}),kh(co.prototype,{A:{name:"toJSON",j:[fh(null,!0)]}}),kh(oo.prototype,{A:{name:"toJSON",j:[fh(null,!0)]}}),Th(Do,"credential",Ro,[fh("verificationId"),fh("verificationCode")]),kh(Do.prototype,{Wa:{name:"verifyPhoneNumber",j:[fh("phoneNumber"),yh()]}}),kh(_o.prototype,{A:{name:"toJSON",j:[fh(null,!0)]}}),kh(cr.prototype,{toJSON:{name:"toJSON",j:[fh(null,!0)]}}),kh(Bo.prototype,{toJSON:{name:"toJSON",j:[fh(null,!0)]}}),kh(Uo.prototype,{toJSON:{name:"toJSON",j:[fh(null,!0)]}}),kh(lh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Th(fr,"parseLink",xr,[fh("link")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Cl,AuthCredential:io,Error:cr};Th(a,"EmailAuthProvider",Eo,[]),Th(a,"FacebookAuthProvider",mo,[]),Th(a,"GithubAuthProvider",go,[]),Th(a,"GoogleAuthProvider",yo,[]),Th(a,"TwitterAuthProvider",ko,[]),Th(a,"OAuthProvider",po,[fh("providerId")]),Th(a,"SAMLAuthProvider",fo,[fh("providerId")]),Th(a,"PhoneAuthProvider",Do,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(a){return!!(a&&a instanceof Cl)}}]),Th(a,"RecaptchaVerifier",lh,[wh(fh(),{name:"",M:"an HTML element",optional:!1,N:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),mh("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(a){return!!(a&&a instanceof r.a.app.App)}}]),Th(a,"ActionCodeURL",fr,[]),r.a.INTERNAL.registerService("auth",(function(b,e){return e({INTERNAL:{getUid:N((b=new Cl(b)).getUid,b),getToken:N(b.cc,b),addAuthTokenListener:N(b.Wb,b),removeAuthTokenListener:N(b.Ec,b)}}),b}),a,(function(b,e){if("create"===b)try{e.auth()}catch(e){}})),r.a.INTERNAL.extendNamespace({User:ju})}()}).apply(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(13))},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return k}));var r="vuexfire/SET_VALUE",o="vuexfire/ARRAY_ADD",c="vuexfire/ARRAY_REMOVE";function l(e){return e&&"object"==typeof e}function h(e,t,path,n){void 0===t&&(t={}),void 0===path&&(path=""),void 0===n&&(n=[{},{}]),t=t||{};var data=n[0],r=n[1],o=Object.getOwnPropertyDescriptor(e,"id");o&&!o.enumerable&&Object.defineProperty(data,"id",o);var c=function(n){var o,c=e[n];if((o=c)&&o.onSnapshot)data[n]=t[n]||c.path,r[path+n]=c;else if(Array.isArray(c)){data[n]=Array(c.length);var d=(t[n]||[]).filter((function(e){return-1!==c.indexOf(e)}));h(c,d,path+n+".",[data[n],r])}else null==c||c instanceof Date||function(e){return e.toDate}(c)||c.longitude&&c.latitude?data[n]=c:l(c)?(data[n]={},h(c,t[n],path+n+".",[data[n],r])):data[n]=c};for(var d in e)c(d);return n}var d,f={maxRefDepth:2,reset:!0,serialize:function(e){return Object.defineProperty(e.data(),"id",{value:e.id})},wait:!1};function m(e){for(var sub in e)e[sub].unsub()}function v(e,t){var n=e.snapshot,r=e.target,path=e.path,o=e.subs,c=e.ops,l=e.depth,d=e.resolve,f=h(n,function(e,path){return path.split(".").reduce((function(e,t){return e[t]}),e)}(r,path)),data=f[0],m=f[1];c.set(r,path,data),w({subs:o,refs:m,target:r,path:path,ops:c,depth:l,resolve:d},t)}function y(e,t){var n=e.ref,r=e.target,path=e.path,o=e.depth,c=e.resolve,l=e.ops,h=Object.create(null),d=n.onSnapshot((function(e){e.exists?v({snapshot:t.serialize(e),target:r,path:path,ops:l,subs:h,depth:o,resolve:c},t):(l.set(r,path,null),c(path))}));return function(){d(),m(h)}}function w(e,t){var n=e.subs,r=e.refs,o=e.target,path=e.path,c=e.depth,l=e.ops,h=e.resolve,d=Object.keys(r);if(Object.keys(n).filter((function(e){return d.indexOf(e)<0})).forEach((function(e){n[e].unsub(),delete n[e]})),!d.length||++c>t.maxRefDepth)return h(path);var f=0,m=d.length,v=Object.create(null);function w(e){e in v&&++f>=m&&h(path)}d.forEach((function(e){var sub=n[e],h=r[e],d=path+"."+e;if(v[d]=!0,sub){if(sub.path===h.path)return;sub.unsub()}n[e]={unsub:y({ref:h,target:o,path:d,depth:c,ops:l,resolve:w.bind(null,d)},t),path:h.path}}))}var k=((d={})[r]=function(e,t){var path=t.path;!function(e,path,t){var n=(""+path).split("."),r=n.pop(),o=n.reduce((function(e,t){return e[t]}),e);Array.isArray(o)?o.splice(Number(r),1,t):o[r]=t}(t.target,path,t.data)},d[o]=function(e,t){var n=t.newIndex,data=t.data;t.target.splice(n,0,data)},d[c]=function(e,t){var n=t.oldIndex;return t.target.splice(n,1)[0]},d),x=function(){return(x=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)};new WeakMap;var T={root:!0},I=new WeakMap;function E(e,t,n,r,o,c){var sub=I.get(t);return sub||(sub=Object.create(null),I.set(t,sub)),n in sub&&S(t,n,c.wait?"function"==typeof c.reset&&c.reset:c.reset),new Promise((function(t,l){sub[n]="where"in r?function(e,t){var n=e.vm,r=e.key,o=e.collection,c=e.ops,l=e.resolve,d=e.reject;void 0===t&&(t=f);var v,y=Object.assign({},f,t),k=y.wait?[]:c.set(n,r,[]),x=l,T=[],I={added:function(e){var t=e.newIndex,n=e.doc;T.splice(t,0,Object.create(null));var r=T[t],o=h(y.serialize(n)),data=o[0],d=o[1];c.add(k,t,data),w({refs:d,subs:r,target:k,path:t,depth:0,ops:c,resolve:l.bind(null,n)},y)},modified:function(e){var t=e.oldIndex,n=e.newIndex,r=e.doc,o=T.splice(t,1)[0];T.splice(n,0,o);var d=c.remove(k,t)[0],f=h(y.serialize(r),d),data=f[0],m=f[1];c.add(k,n,data),w({refs:m,subs:o,ops:c,target:k,path:n,depth:0,resolve:l},y)},removed:function(e){var t=e.oldIndex;c.remove(k,t),m(T.splice(t,1)[0])}},E=o.onSnapshot((function(e){var t="function"==typeof e.docChanges?e.docChanges():e.docChanges;if(!v&&t.length){v=!0;for(var o=0,h=t.length,d=Object.create(null),i=0;i<h;i++)d[t[i].doc.id]=!0;l=function(e){e.id in d&&++o>=h&&(y.wait&&c.set(n,r,k),x(n[r]),l=function(){})}}t.forEach((function(e){I[e.type](e)})),t.length||(y.wait&&c.set(n,r,k),l())}),d);return function(e){if(E(),!1!==e){var t="function"==typeof e?e():[];c.set(n,r,t)}T.forEach(m)}}({vm:e,key:n,collection:r,ops:o,resolve:t,reject:l},c):function(e,t){var n=e.vm,r=e.key,o=e.document,c=e.resolve,l=e.reject,h=e.ops;void 0===t&&(t=f);var d,y,w,k=Object.assign({},f,t),x=Object.create(null);d=c,y=function(){return n[r]},w=!1,c=function(){if(!w)return w=!0,d(y())};var T=o.onSnapshot((function(e){e.exists?v({snapshot:k.serialize(e),target:n,path:r,subs:x,ops:h,depth:0,resolve:c},k):c()}),l);return function(e){if(T(),!1!==e){var t="function"==typeof e?e():null;h.set(n,r,t)}m(x)}}({vm:e,key:n,document:r,ops:o,resolve:t,reject:l},c)}))}function S(e,t,n){var sub=I.get(e);sub&&sub[t]&&(sub[t](n),delete sub[t])}function A(e){return function(t,n){var l=t.state,h=t.commit,d={set:function(e,path,data){return h(r,{path:path,target:e,data:data},T),data},add:function(e,t,data){return h(o,{target:e,newIndex:t,data:data},T)},remove:function(e,t){var data=e[t];return h(c,{target:e,oldIndex:t},T),[data]}};return e.call(this,x(x({},t),{bindFirestoreRef:function(e,t,n){return E(l,h,e,t,d,Object.assign({},f,n))},unbindFirestoreRef:function(e,t){return S(h,e,t)}}),n)}}},32:function(e,t,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=r},34:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var content=function(e,t){var content=e[1]||"",n=e[3];if(!n)return content;if(t&&"function"==typeof btoa){var r=(c=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot).concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var c,l,data;return[content].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(content,"}"):content})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var c=0;c<e.length;c++){var l=e[c];null!=l[0]&&r[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="(".concat(l[2],") and (").concat(n,")")),t.push(l))}},t}},35:function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],c=o[0],l={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[c]?r[c].parts.push(l):n.push(r[c]={id:c,parts:[l]})}return n}n.r(t),n.d(t,"default",(function(){return w}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},head=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,h=0,d=!1,f=function(){},m=null,v="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function w(e,t,n,o){d=n,m=o||{};var l=r(e,t);return k(l),function(t){for(var n=[],i=0;i<l.length;i++){var o=l[i];(h=c[o.id]).refs--,n.push(h)}t?k(l=r(e,t)):l=[];for(i=0;i<n.length;i++){var h;if(0===(h=n[i]).refs){for(var d=0;d<h.parts.length;d++)h.parts[d]();delete c[h.id]}}}}function k(e){for(var i=0;i<e.length;i++){var t=e[i],n=c[t.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](t.parts[r]);for(;r<t.parts.length;r++)n.parts.push(T(t.parts[r]));n.parts.length>t.parts.length&&(n.parts.length=t.parts.length)}else{var o=[];for(r=0;r<t.parts.length;r++)o.push(T(t.parts[r]));c[t.id]={id:t.id,refs:1,parts:o}}}}function x(){var e=document.createElement("style");return e.type="text/css",head.appendChild(e),e}function T(e){var t,n,r=document.querySelector("style["+v+'~="'+e.id+'"]');if(r){if(d)return f;r.parentNode.removeChild(r)}if(y){var o=h++;r=l||(l=x()),t=S.bind(null,r,o,!1),n=S.bind(null,r,o,!0)}else r=x(),t=A.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var I,E=(I=[],function(e,t){return I[e]=t,I.filter(Boolean).join("\n")});function S(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var c=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(c,l[t]):e.appendChild(c)}}function A(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),m.ssrId&&e.setAttribute(v,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},77:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return c})),n.d(t,"__rest",(function(){return l})),n.d(t,"__decorate",(function(){return h})),n.d(t,"__param",(function(){return d})),n.d(t,"__metadata",(function(){return f})),n.d(t,"__awaiter",(function(){return m})),n.d(t,"__generator",(function(){return v})),n.d(t,"__exportStar",(function(){return y})),n.d(t,"__values",(function(){return w})),n.d(t,"__read",(function(){return k})),n.d(t,"__spread",(function(){return x})),n.d(t,"__spreadArrays",(function(){return T})),n.d(t,"__await",(function(){return I})),n.d(t,"__asyncGenerator",(function(){return E})),n.d(t,"__asyncDelegator",(function(){return S})),n.d(t,"__asyncValues",(function(){return A})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return N}));var r=function(e,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])})(e,b)};function o(e,b){function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var c=function(){return(c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)};function l(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function h(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c}function d(e,t){return function(n,r){t(n,r,e)}}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function h(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,h)}d((r=r.apply(e,t||[])).next())}))}function v(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function y(e,t){for(var p in e)t.hasOwnProperty(p)||(t[p]=e[p])}function w(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function k(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function x(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(k(arguments[i]));return e}function T(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function E(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(e,t||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(e){g[e]&&(i[e]=function(t){return new Promise((function(a,b){q.push([e,t,a,b])>1||o(e,t)}))})}function o(e,t){try{(n=g[e](t)).value instanceof I?Promise.resolve(n.value.v).then(c,l):h(q[0][2],n)}catch(e){h(q[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function h(e,t){e(t),q.shift(),q.length&&o(q[0][0],q[0][1])}}function S(e){var i,p;return i={},t("next"),t("throw",(function(e){throw e})),t("return"),i[Symbol.iterator]=function(){return this},i;function t(t,n){i[t]=e[t]?function(r){return(p=!p)?{value:I(e[t](r)),done:"return"===t}:n?n(r):r}:n}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=w(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(t){i[t]=e[t]&&function(n){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(n=e[t](n)).done,n.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return e&&e.__esModule?e:{default:e}}},79:function(e,t,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=r}}]);